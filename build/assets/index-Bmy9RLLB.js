function Xm(r,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Wu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ow(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),n}var Vc={exports:{}},bi={},Wc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Iw(){if(Np)return Ce;Np=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function j(P,Y,oe){this.props=P,this.context=Y,this.refs=_,this.updater=oe||S}j.prototype.isReactComponent={},j.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=j.prototype;function k(P,Y,oe){this.props=P,this.context=Y,this.refs=_,this.updater=oe||S}var A=k.prototype=new T;A.constructor=k,E(A,j.prototype),A.isPureReactComponent=!0;var L=Array.isArray,H=Object.prototype.hasOwnProperty,V={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function N(P,Y,oe){var le,be={},Ee=null,ne=null;if(Y!=null)for(le in Y.ref!==void 0&&(ne=Y.ref),Y.key!==void 0&&(Ee=""+Y.key),Y)H.call(Y,le)&&!U.hasOwnProperty(le)&&(be[le]=Y[le]);var ve=arguments.length-2;if(ve===1)be.children=oe;else if(1<ve){for(var Se=Array(ve),je=0;je<ve;je++)Se[je]=arguments[je+2];be.children=Se}if(P&&P.defaultProps)for(le in ve=P.defaultProps,ve)be[le]===void 0&&(be[le]=ve[le]);return{$$typeof:r,type:P,key:Ee,ref:ne,props:be,_owner:V.current}}function B(P,Y){return{$$typeof:r,type:P.type,key:Y,ref:P.ref,props:P.props,_owner:P._owner}}function J(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function te(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return Y[oe]})}var K=/\/+/g;function O(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?te(""+P.key):Y.toString(36)}function G(P,Y,oe,le,be){var Ee=typeof P;(Ee==="undefined"||Ee==="boolean")&&(P=null);var ne=!1;if(P===null)ne=!0;else switch(Ee){case"string":case"number":ne=!0;break;case"object":switch(P.$$typeof){case r:case e:ne=!0}}if(ne)return ne=P,be=be(ne),P=le===""?"."+O(ne,0):le,L(be)?(oe="",P!=null&&(oe=P.replace(K,"$&/")+"/"),G(be,Y,oe,"",function(je){return je})):be!=null&&(J(be)&&(be=B(be,oe+(!be.key||ne&&ne.key===be.key?"":(""+be.key).replace(K,"$&/")+"/")+P)),Y.push(be)),1;if(ne=0,le=le===""?".":le+":",L(P))for(var ve=0;ve<P.length;ve++){Ee=P[ve];var Se=le+O(Ee,ve);ne+=G(Ee,Y,oe,Se,be)}else if(Se=w(P),typeof Se=="function")for(P=Se.call(P),ve=0;!(Ee=P.next()).done;)Ee=Ee.value,Se=le+O(Ee,ve++),ne+=G(Ee,Y,oe,Se,be);else if(Ee==="object")throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ne}function W(P,Y,oe){if(P==null)return P;var le=[],be=0;return G(P,le,"","",function(Ee){return Y.call(oe,Ee,be++)}),le}function z(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var Q={current:null},I={transition:null},$={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:I,ReactCurrentOwner:V};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:W,forEach:function(P,Y,oe){W(P,function(){Y.apply(this,arguments)},oe)},count:function(P){var Y=0;return W(P,function(){Y++}),Y},toArray:function(P){return W(P,function(Y){return Y})||[]},only:function(P){if(!J(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=j,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=k,Ce.StrictMode=i,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Ce.act=X,Ce.cloneElement=function(P,Y,oe){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var le=E({},P.props),be=P.key,Ee=P.ref,ne=P._owner;if(Y!=null){if(Y.ref!==void 0&&(Ee=Y.ref,ne=V.current),Y.key!==void 0&&(be=""+Y.key),P.type&&P.type.defaultProps)var ve=P.type.defaultProps;for(Se in Y)H.call(Y,Se)&&!U.hasOwnProperty(Se)&&(le[Se]=Y[Se]===void 0&&ve!==void 0?ve[Se]:Y[Se])}var Se=arguments.length-2;if(Se===1)le.children=oe;else if(1<Se){ve=Array(Se);for(var je=0;je<Se;je++)ve[je]=arguments[je+2];le.children=ve}return{$$typeof:r,type:P.type,key:be,ref:Ee,props:le,_owner:ne}},Ce.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Ce.createElement=N,Ce.createFactory=function(P){var Y=N.bind(null,P);return Y.type=P,Y},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:f,render:P}},Ce.isValidElement=J,Ce.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:z}},Ce.memo=function(P,Y){return{$$typeof:m,type:P,compare:Y===void 0?null:Y}},Ce.startTransition=function(P){var Y=I.transition;I.transition={};try{P()}finally{I.transition=Y}},Ce.unstable_act=X,Ce.useCallback=function(P,Y){return Q.current.useCallback(P,Y)},Ce.useContext=function(P){return Q.current.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P){return Q.current.useDeferredValue(P)},Ce.useEffect=function(P,Y){return Q.current.useEffect(P,Y)},Ce.useId=function(){return Q.current.useId()},Ce.useImperativeHandle=function(P,Y,oe){return Q.current.useImperativeHandle(P,Y,oe)},Ce.useInsertionEffect=function(P,Y){return Q.current.useInsertionEffect(P,Y)},Ce.useLayoutEffect=function(P,Y){return Q.current.useLayoutEffect(P,Y)},Ce.useMemo=function(P,Y){return Q.current.useMemo(P,Y)},Ce.useReducer=function(P,Y,oe){return Q.current.useReducer(P,Y,oe)},Ce.useRef=function(P){return Q.current.useRef(P)},Ce.useState=function(P){return Q.current.useState(P)},Ce.useSyncExternalStore=function(P,Y,oe){return Q.current.useSyncExternalStore(P,Y,oe)},Ce.useTransition=function(){return Q.current.useTransition()},Ce.version="18.3.1",Ce}var Cp;function $a(){return Cp||(Cp=1,Wc.exports=Iw()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function Dw(){if(Ap)return bi;Ap=1;var r=$a(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,x={},w=null,S=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)i.call(h,v)&&!l.hasOwnProperty(v)&&(x[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)x[v]===void 0&&(x[v]=h[v]);return{$$typeof:e,type:f,key:w,ref:S,props:x,_owner:a.current}}return bi.Fragment=n,bi.jsx=u,bi.jsxs=u,bi}var Tp;function Lw(){return Tp||(Tp=1,Vc.exports=Dw()),Vc.exports}var c=Lw(),Yo={},Hc={exports:{}},Ct={},qc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function $w(){return Pp||(Pp=1,(function(r){function e(I,$){var X=I.length;I.push($);e:for(;0<X;){var P=X-1>>>1,Y=I[P];if(0<a(Y,$))I[P]=$,I[X]=Y,X=P;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var $=I[0],X=I.pop();if(X!==$){I[0]=X;e:for(var P=0,Y=I.length,oe=Y>>>1;P<oe;){var le=2*(P+1)-1,be=I[le],Ee=le+1,ne=I[Ee];if(0>a(be,X))Ee<Y&&0>a(ne,be)?(I[P]=ne,I[Ee]=X,P=Ee):(I[P]=be,I[le]=X,P=le);else if(Ee<Y&&0>a(ne,X))I[P]=ne,I[Ee]=X,P=Ee;else break e}}return $}function a(I,$){var X=I.sortIndex-$.sortIndex;return X!==0?X:I.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,x=null,w=3,S=!1,E=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var $=n(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=I)i(m),$.sortIndex=$.expirationTime,e(h,$);else break;$=n(m)}}function L(I){if(_=!1,A(I),!E)if(n(h)!==null)E=!0,z(H);else{var $=n(m);$!==null&&Q(L,$.startTime-I)}}function H(I,$){E=!1,_&&(_=!1,T(N),N=-1),S=!0;var X=w;try{for(A($),x=n(h);x!==null&&(!(x.expirationTime>$)||I&&!te());){var P=x.callback;if(typeof P=="function"){x.callback=null,w=x.priorityLevel;var Y=P(x.expirationTime<=$);$=r.unstable_now(),typeof Y=="function"?x.callback=Y:x===n(h)&&i(h),A($)}else i(h);x=n(h)}if(x!==null)var oe=!0;else{var le=n(m);le!==null&&Q(L,le.startTime-$),oe=!1}return oe}finally{x=null,w=X,S=!1}}var V=!1,U=null,N=-1,B=5,J=-1;function te(){return!(r.unstable_now()-J<B)}function K(){if(U!==null){var I=r.unstable_now();J=I;var $=!0;try{$=U(!0,I)}finally{$?O():(V=!1,U=null)}}else V=!1}var O;if(typeof k=="function")O=function(){k(K)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=K,O=function(){W.postMessage(null)}}else O=function(){j(K,0)};function z(I){U=I,V||(V=!0,O())}function Q(I,$){N=j(function(){I(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_continueExecution=function(){E||S||(E=!0,z(H))},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(h)},r.unstable_next=function(I){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var X=w;w=$;try{return I()}finally{w=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=w;w=I;try{return $()}finally{w=X}},r.unstable_scheduleCallback=function(I,$,X){var P=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?P+X:P):X=P,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,I={id:v++,callback:$,priorityLevel:I,startTime:X,expirationTime:Y,sortIndex:-1},X>P?(I.sortIndex=X,e(m,I),n(h)===null&&I===n(m)&&(_?(T(N),N=-1):_=!0,Q(L,X-P))):(I.sortIndex=Y,e(h,I),E||S||(E=!0,z(H))),I},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(I){var $=w;return function(){var X=w;w=$;try{return I.apply(this,arguments)}finally{w=X}}}})(Kc)),Kc}var Rp;function Mw(){return Rp||(Rp=1,qc.exports=$w()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Bw(){if(Op)return Ct;Op=1;var r=$a(),e=Mw();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)i.add(s[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function w(t){return h.call(x,t)?!0:h.call(v,t)?!1:m.test(t)?x[t]=!0:(v[t]=!0,!1)}function S(t,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,s,o,d){if(s===null||typeof s>"u"||S(t,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(t,s,o,d,p,g,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=g,this.removeEmptyString=b}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];j[s]=new _(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(T,k);j[s]=new _(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(T,k);j[s]=new _(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(T,k);j[s]=new _(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});function A(t,s,o,d){var p=j.hasOwnProperty(s)?j[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,o,p,d)&&(o=null),d||p===null?w(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):p.mustUseProperty?t[p.propertyName]=o===null?p.type===3?!1:"":o:(s=p.attributeName,d=p.attributeNamespace,o===null?t.removeAttribute(s):(p=p.type,o=p===3||p===4&&o===!0?"":""+o,d?t.setAttributeNS(d,s,o):t.setAttribute(s,o))))}var L=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),te=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),I=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,P;function Y(t){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||""}return`
`+P+t}var oe=!1;function le(t,s){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(t,[],s)}else{try{s.call()}catch(q){d=q}t.call(s.prototype)}else{try{throw Error()}catch(q){d=q}t()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),g=d.stack.split(`
`),b=p.length-1,C=g.length-1;1<=b&&0<=C&&p[b]!==g[C];)C--;for(;1<=b&&0<=C;b--,C--)if(p[b]!==g[C]){if(b!==1||C!==1)do if(b--,C--,0>C||p[b]!==g[C]){var R=`
`+p[b].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=b&&0<=C);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Y(t):""}function be(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=le(t.type,!1),t;case 11:return t=le(t.type.render,!1),t;case 1:return t=le(t.type,!0),t;default:return""}}function Ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case V:return"Portal";case B:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case te:return(t.displayName||"Context")+".Consumer";case J:return(t._context.displayName||"Context")+".Provider";case K:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return s=t.displayName||null,s!==null?s:Ee(t.type)||"Memo";case z:s=t._payload,t=t._init;try{return Ee(t(s))}catch{}}return null}function ne(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Se(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function je(t){var s=Se(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),d=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,g.call(this,b)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Re(t){t._valueTracker||(t._valueTracker=je(t))}function $e(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return t&&(d=Se(t)?t.checked?"true":"false":t.value),t=d,t!==o?(s.setValue(t),!0):!1}function ut(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qt(t,s){var o=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Mn(t,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=ve(s.value!=null?s.value:o),t._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bn(t,s){s=s.checked,s!=null&&A(t,"checked",s,!1)}function dn(t,s){Bn(t,s);var o=ve(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Xa(t,s.type,o):s.hasOwnProperty("defaultValue")&&Xa(t,s.type,ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Dd(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Xa(t,s,o){(s!=="number"||ut(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Ls=Array.isArray;function Un(t,s,o,d){if(t=t.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=s.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&d&&(t[o].defaultSelected=!0)}else{for(o=""+ve(o),s=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,d&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Za(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ld(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(Ls(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:ve(o)}}function $d(t,s){var o=ve(s.value),d=ve(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),d!=null&&(t.defaultValue=""+d)}function Md(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Bd(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fi,Ud=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,d,p){MSApp.execUnsafeLocalFunction(function(){return t(s,o,d,p)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function $s(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$0=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(t){$0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ms[s]=Ms[t]})});function Fd(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Ms.hasOwnProperty(t)&&Ms[t]?(""+s).trim():s+"px"}function zd(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,p=Fd(o,s[o],d);o==="float"&&(o="cssFloat"),d?t.setProperty(o,p):t[o]=p}}var M0=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(t,s){if(s){if(M0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function rl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var il=null,Fn=null,zn=null;function Vd(t){if(t=oi(t)){if(typeof il!="function")throw Error(n(280));var s=t.stateNode;s&&(s=uo(s),il(t.stateNode,t.type,s))}}function Wd(t){Fn?zn?zn.push(t):zn=[t]:Fn=t}function Hd(){if(Fn){var t=Fn,s=zn;if(zn=Fn=null,Vd(t),s)for(t=0;t<s.length;t++)Vd(s[t])}}function qd(t,s){return t(s)}function Kd(){}var ol=!1;function Gd(t,s,o){if(ol)return t(s,o);ol=!0;try{return qd(t,s,o)}finally{ol=!1,(Fn!==null||zn!==null)&&(Kd(),Hd())}}function Bs(t,s){var o=t.stateNode;if(o===null)return null;var d=uo(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var al=!1;if(f)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){al=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{al=!1}function B0(t,s,o,d,p,g,b,C,R){var q=Array.prototype.slice.call(arguments,3);try{s.apply(o,q)}catch(ee){this.onError(ee)}}var Fs=!1,zi=null,Vi=!1,ll=null,U0={onError:function(t){Fs=!0,zi=t}};function F0(t,s,o,d,p,g,b,C,R){Fs=!1,zi=null,B0.apply(U0,arguments)}function z0(t,s,o,d,p,g,b,C,R){if(F0.apply(this,arguments),Fs){if(Fs){var q=zi;Fs=!1,zi=null}else throw Error(n(198));Vi||(Vi=!0,ll=q)}}function fn(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function Jd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Yd(t){if(fn(t)!==t)throw Error(n(188))}function V0(t){var s=t.alternate;if(!s){if(s=fn(t),s===null)throw Error(n(188));return s!==t?null:t}for(var o=t,d=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return Yd(p),t;if(g===d)return Yd(p),s;g=g.sibling}throw Error(n(188))}if(o.return!==d.return)o=p,d=g;else{for(var b=!1,C=p.child;C;){if(C===o){b=!0,o=p,d=g;break}if(C===d){b=!0,d=p,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,d=p;break}if(C===d){b=!0,d=g,o=p;break}C=C.sibling}if(!b)throw Error(n(189))}}if(o.alternate!==d)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:s}function Qd(t){return t=V0(t),t!==null?Xd(t):null}function Xd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Xd(t);if(s!==null)return s;t=t.sibling}return null}var Zd=e.unstable_scheduleCallback,ef=e.unstable_cancelCallback,W0=e.unstable_shouldYield,H0=e.unstable_requestPaint,Xe=e.unstable_now,q0=e.unstable_getCurrentPriorityLevel,cl=e.unstable_ImmediatePriority,tf=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,K0=e.unstable_LowPriority,rf=e.unstable_IdlePriority,Hi=null,lr=null;function G0(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Hi,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Q0,J0=Math.log,Y0=Math.LN2;function Q0(t){return t>>>=0,t===0?32:31-(J0(t)/Y0|0)|0}var qi=64,Ki=4194304;function zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gi(t,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,p=t.suspendedLanes,g=t.pingedLanes,b=o&268435455;if(b!==0){var C=b&~p;C!==0?d=zs(C):(g&=b,g!==0&&(d=zs(g)))}else b=o&~p,b!==0?d=zs(b):g!==0&&(d=zs(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=d;0<s;)o=31-Kt(s),p=1<<o,d|=t[o],s&=~p;return d}function X0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z0(t,s){for(var o=t.suspendedLanes,d=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes;0<g;){var b=31-Kt(g),C=1<<b,R=p[b];R===-1?((C&o)===0||(C&d)!==0)&&(p[b]=X0(C,s)):R<=s&&(t.expiredLanes|=C),g&=~C}}function ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nf(){var t=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),t}function dl(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Vs(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Kt(s),t[s]=o}function ex(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<o;){var p=31-Kt(o),g=1<<p;s[p]=0,d[p]=-1,t[p]=-1,o&=~g}}function fl(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var d=31-Kt(o),p=1<<d;p&s|t[d]&s&&(t[d]|=s),o&=~p}}var Le=0;function sf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var of,hl,af,lf,cf,pl=!1,Ji=[],Rr=null,Or=null,Ir=null,Ws=new Map,Hs=new Map,Dr=[],tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,s){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ws.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(s.pointerId)}}function qs(t,s,o,d,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=oi(s),s!==null&&hl(s)),t):(t.eventSystemFlags|=d,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function rx(t,s,o,d,p){switch(s){case"focusin":return Rr=qs(Rr,t,s,o,d,p),!0;case"dragenter":return Or=qs(Or,t,s,o,d,p),!0;case"mouseover":return Ir=qs(Ir,t,s,o,d,p),!0;case"pointerover":var g=p.pointerId;return Ws.set(g,qs(Ws.get(g)||null,t,s,o,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Hs.set(g,qs(Hs.get(g)||null,t,s,o,d,p)),!0}return!1}function df(t){var s=hn(t.target);if(s!==null){var o=fn(s);if(o!==null){if(s=o.tag,s===13){if(s=Jd(o),s!==null){t.blockedOn=s,cf(t.priority,function(){af(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yi(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=gl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var d=new o.constructor(o.type,o);nl=d,o.target.dispatchEvent(d),nl=null}else return s=oi(o),s!==null&&hl(s),t.blockedOn=o,!1;s.shift()}return!0}function ff(t,s,o){Yi(t)&&o.delete(s)}function nx(){pl=!1,Rr!==null&&Yi(Rr)&&(Rr=null),Or!==null&&Yi(Or)&&(Or=null),Ir!==null&&Yi(Ir)&&(Ir=null),Ws.forEach(ff),Hs.forEach(ff)}function Ks(t,s){t.blockedOn===s&&(t.blockedOn=null,pl||(pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nx)))}function Gs(t){function s(p){return Ks(p,t)}if(0<Ji.length){Ks(Ji[0],t);for(var o=1;o<Ji.length;o++){var d=Ji[o];d.blockedOn===t&&(d.blockedOn=null)}}for(Rr!==null&&Ks(Rr,t),Or!==null&&Ks(Or,t),Ir!==null&&Ks(Ir,t),Ws.forEach(s),Hs.forEach(s),o=0;o<Dr.length;o++)d=Dr[o],d.blockedOn===t&&(d.blockedOn=null);for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)df(o),o.blockedOn===null&&Dr.shift()}var Vn=L.ReactCurrentBatchConfig,Qi=!0;function sx(t,s,o,d){var p=Le,g=Vn.transition;Vn.transition=null;try{Le=1,ml(t,s,o,d)}finally{Le=p,Vn.transition=g}}function ix(t,s,o,d){var p=Le,g=Vn.transition;Vn.transition=null;try{Le=4,ml(t,s,o,d)}finally{Le=p,Vn.transition=g}}function ml(t,s,o,d){if(Qi){var p=gl(t,s,o,d);if(p===null)Ol(t,s,d,Xi,o),uf(t,d);else if(rx(p,t,s,o,d))d.stopPropagation();else if(uf(t,d),s&4&&-1<tx.indexOf(t)){for(;p!==null;){var g=oi(p);if(g!==null&&of(g),g=gl(t,s,o,d),g===null&&Ol(t,s,d,Xi,o),g===p)break;p=g}p!==null&&d.stopPropagation()}else Ol(t,s,d,null,o)}}var Xi=null;function gl(t,s,o,d){if(Xi=null,t=sl(d),t=hn(t),t!==null)if(s=fn(t),s===null)t=null;else if(o=s.tag,o===13){if(t=Jd(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Xi=t,null}function hf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q0()){case cl:return 1;case tf:return 4;case Wi:case K0:return 16;case rf:return 536870912;default:return 16}default:return 16}}var Lr=null,vl=null,Zi=null;function pf(){if(Zi)return Zi;var t,s=vl,o=s.length,d,p="value"in Lr?Lr.value:Lr.textContent,g=p.length;for(t=0;t<o&&s[t]===p[t];t++);var b=o-t;for(d=1;d<=b&&s[o-d]===p[g-d];d++);return Zi=p.slice(t,1<d?1-d:void 0)}function eo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function to(){return!0}function mf(){return!1}function Tt(t){function s(o,d,p,g,b){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?to:mf,this.isPropagationStopped=mf,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Tt(Wn),Js=X({},Wn,{view:0,detail:0}),ox=Tt(Js),xl,wl,Ys,ro=X({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ys&&(Ys&&t.type==="mousemove"?(xl=t.screenX-Ys.screenX,wl=t.screenY-Ys.screenY):wl=xl=0,Ys=t),xl)},movementY:function(t){return"movementY"in t?t.movementY:wl}}),gf=Tt(ro),ax=X({},ro,{dataTransfer:0}),lx=Tt(ax),cx=X({},Js,{relatedTarget:0}),bl=Tt(cx),ux=X({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),dx=Tt(ux),fx=X({},Wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hx=Tt(fx),px=X({},Wn,{data:0}),vf=Tt(px),mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=vx[t])?!!s[t]:!1}function _l(){return yx}var xx=X({},Js,{key:function(t){if(t.key){var s=mx[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(t){return t.type==="keypress"?eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wx=Tt(xx),bx=X({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Tt(bx),_x=X({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Sx=Tt(_x),jx=X({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=Tt(jx),kx=X({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=Tt(kx),Cx=[9,13,27,32],Sl=f&&"CompositionEvent"in window,Qs=null;f&&"documentMode"in document&&(Qs=document.documentMode);var Ax=f&&"TextEvent"in window&&!Qs,xf=f&&(!Sl||Qs&&8<Qs&&11>=Qs),wf=" ",bf=!1;function _f(t,s){switch(t){case"keyup":return Cx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function Tx(t,s){switch(t){case"compositionend":return Sf(s);case"keypress":return s.which!==32?null:(bf=!0,wf);case"textInput":return t=s.data,t===wf&&bf?null:t;default:return null}}function Px(t,s){if(Hn)return t==="compositionend"||!Sl&&_f(t,s)?(t=pf(),Zi=vl=Lr=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xf&&s.locale!=="ko"?null:s.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Rx[t.type]:s==="textarea"}function Ef(t,s,o,d){Wd(d),s=ao(s,"onChange"),0<s.length&&(o=new yl("onChange","change",null,o,d),t.push({event:o,listeners:s}))}var Xs=null,Zs=null;function Ox(t){Vf(t,0)}function no(t){var s=Yn(t);if($e(s))return t}function Ix(t,s){if(t==="change")return s}var kf=!1;if(f){var jl;if(f){var El="oninput"in document;if(!El){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),El=typeof Nf.oninput=="function"}jl=El}else jl=!1;kf=jl&&(!document.documentMode||9<document.documentMode)}function Cf(){Xs&&(Xs.detachEvent("onpropertychange",Af),Zs=Xs=null)}function Af(t){if(t.propertyName==="value"&&no(Zs)){var s=[];Ef(s,Zs,t,sl(t)),Gd(Ox,s)}}function Dx(t,s,o){t==="focusin"?(Cf(),Xs=s,Zs=o,Xs.attachEvent("onpropertychange",Af)):t==="focusout"&&Cf()}function Lx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return no(Zs)}function $x(t,s){if(t==="click")return no(s)}function Mx(t,s){if(t==="input"||t==="change")return no(s)}function Bx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gt=typeof Object.is=="function"?Object.is:Bx;function ei(t,s){if(Gt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!h.call(s,p)||!Gt(t[p],s[p]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pf(t,s){var o=Tf(t);t=0;for(var d;o;){if(o.nodeType===3){if(d=t+o.textContent.length,t<=s&&d>=s)return{node:o,offset:s-t};t=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tf(o)}}function Rf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Of(){for(var t=window,s=ut();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=ut(t.document)}return s}function kl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Ux(t){var s=Of(),o=t.focusedElem,d=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&Rf(o.ownerDocument.documentElement,o)){if(d!==null&&kl(o)){if(s=d.start,t=d.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var p=o.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!t.extend&&g>d&&(p=d,d=g,g=p),p=Pf(o,g);var b=Pf(o,d);p&&b&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==b.node||t.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),t.removeAllRanges(),g>d?(t.addRange(s),t.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fx=f&&"documentMode"in document&&11>=document.documentMode,qn=null,Nl=null,ti=null,Cl=!1;function If(t,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cl||qn==null||qn!==ut(d)||(d=qn,"selectionStart"in d&&kl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ti&&ei(ti,d)||(ti=d,d=ao(Nl,"onSelect"),0<d.length&&(s=new yl("onSelect","select",null,s,o),t.push({event:s,listeners:d}),s.target=qn)))}function so(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Kn={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},Al={},Df={};f&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function io(t){if(Al[t])return Al[t];if(!Kn[t])return t;var s=Kn[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in Df)return Al[t]=s[o];return t}var Lf=io("animationend"),$f=io("animationiteration"),Mf=io("animationstart"),Bf=io("transitionend"),Uf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,s){Uf.set(t,s),l(s,[t])}for(var Tl=0;Tl<Ff.length;Tl++){var Pl=Ff[Tl],zx=Pl.toLowerCase(),Vx=Pl[0].toUpperCase()+Pl.slice(1);$r(zx,"on"+Vx)}$r(Lf,"onAnimationEnd"),$r($f,"onAnimationIteration"),$r(Mf,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Bf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function zf(t,s,o){var d=t.type||"unknown-event";t.currentTarget=o,z0(d,s,void 0,t),t.currentTarget=null}function Vf(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var d=t[o],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var b=d.length-1;0<=b;b--){var C=d[b],R=C.instance,q=C.currentTarget;if(C=C.listener,R!==g&&p.isPropagationStopped())break e;zf(p,C,q),g=R}else for(b=0;b<d.length;b++){if(C=d[b],R=C.instance,q=C.currentTarget,C=C.listener,R!==g&&p.isPropagationStopped())break e;zf(p,C,q),g=R}}}if(Vi)throw t=ll,Vi=!1,ll=null,t}function ze(t,s){var o=s[Bl];o===void 0&&(o=s[Bl]=new Set);var d=t+"__bubble";o.has(d)||(Wf(s,t,2,!1),o.add(d))}function Rl(t,s,o){var d=0;s&&(d|=4),Wf(o,t,d,s)}var oo="_reactListening"+Math.random().toString(36).slice(2);function ni(t){if(!t[oo]){t[oo]=!0,i.forEach(function(o){o!=="selectionchange"&&(Wx.has(o)||Rl(o,!1,t),Rl(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[oo]||(s[oo]=!0,Rl("selectionchange",!1,s))}}function Wf(t,s,o,d){switch(hf(s)){case 1:var p=sx;break;case 4:p=ix;break;default:p=ml}o=p.bind(null,s,o,t),p=void 0,!al||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?t.addEventListener(s,o,{capture:!0,passive:p}):t.addEventListener(s,o,!0):p!==void 0?t.addEventListener(s,o,{passive:p}):t.addEventListener(s,o,!1)}function Ol(t,s,o,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;b=b.return}for(;C!==null;){if(b=hn(C),b===null)return;if(R=b.tag,R===5||R===6){d=g=b;continue e}C=C.parentNode}}d=d.return}Gd(function(){var q=g,ee=sl(o),re=[];e:{var Z=Uf.get(t);if(Z!==void 0){var ie=yl,ce=t;switch(t){case"keypress":if(eo(o)===0)break e;case"keydown":case"keyup":ie=wx;break;case"focusin":ce="focus",ie=bl;break;case"focusout":ce="blur",ie=bl;break;case"beforeblur":case"afterblur":ie=bl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Sx;break;case Lf:case $f:case Mf:ie=dx;break;case Bf:ie=Ex;break;case"scroll":ie=ox;break;case"wheel":ie=Nx;break;case"copy":case"cut":case"paste":ie=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=yf}var fe=(s&4)!==0,Ze=!fe&&t==="scroll",M=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var D=q,F;D!==null;){F=D;var se=F.stateNode;if(F.tag===5&&se!==null&&(F=se,M!==null&&(se=Bs(D,M),se!=null&&fe.push(si(D,se,F)))),Ze)break;D=D.return}0<fe.length&&(Z=new ie(Z,ce,null,o,ee),re.push({event:Z,listeners:fe}))}}if((s&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",Z&&o!==nl&&(ce=o.relatedTarget||o.fromElement)&&(hn(ce)||ce[yr]))break e;if((ie||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(ce=o.relatedTarget||o.toElement,ie=q,ce=ce?hn(ce):null,ce!==null&&(Ze=fn(ce),ce!==Ze||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=q),ie!==ce)){if(fe=gf,se="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(fe=yf,se="onPointerLeave",M="onPointerEnter",D="pointer"),Ze=ie==null?Z:Yn(ie),F=ce==null?Z:Yn(ce),Z=new fe(se,D+"leave",ie,o,ee),Z.target=Ze,Z.relatedTarget=F,se=null,hn(ee)===q&&(fe=new fe(M,D+"enter",ce,o,ee),fe.target=F,fe.relatedTarget=Ze,se=fe),Ze=se,ie&&ce)t:{for(fe=ie,M=ce,D=0,F=fe;F;F=Gn(F))D++;for(F=0,se=M;se;se=Gn(se))F++;for(;0<D-F;)fe=Gn(fe),D--;for(;0<F-D;)M=Gn(M),F--;for(;D--;){if(fe===M||M!==null&&fe===M.alternate)break t;fe=Gn(fe),M=Gn(M)}fe=null}else fe=null;ie!==null&&Hf(re,Z,ie,fe,!1),ce!==null&&Ze!==null&&Hf(re,Ze,ce,fe,!0)}}e:{if(Z=q?Yn(q):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var he=Ix;else if(jf(Z))if(kf)he=Mx;else{he=Lx;var ye=Dx}else(ie=Z.nodeName)&&ie.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(he=$x);if(he&&(he=he(t,q))){Ef(re,he,o,ee);break e}ye&&ye(t,Z,q),t==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&Xa(Z,"number",Z.value)}switch(ye=q?Yn(q):window,t){case"focusin":(jf(ye)||ye.contentEditable==="true")&&(qn=ye,Nl=q,ti=null);break;case"focusout":ti=Nl=qn=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,If(re,o,ee);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":If(re,o,ee)}var xe;if(Sl)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Hn?_f(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(xf&&o.locale!=="ko"&&(Hn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Hn&&(xe=pf()):(Lr=ee,vl="value"in Lr?Lr.value:Lr.textContent,Hn=!0)),ye=ao(q,_e),0<ye.length&&(_e=new vf(_e,t,null,o,ee),re.push({event:_e,listeners:ye}),xe?_e.data=xe:(xe=Sf(o),xe!==null&&(_e.data=xe)))),(xe=Ax?Tx(t,o):Px(t,o))&&(q=ao(q,"onBeforeInput"),0<q.length&&(ee=new vf("onBeforeInput","beforeinput",null,o,ee),re.push({event:ee,listeners:q}),ee.data=xe))}Vf(re,s)})}function si(t,s,o){return{instance:t,listener:s,currentTarget:o}}function ao(t,s){for(var o=s+"Capture",d=[];t!==null;){var p=t,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Bs(t,o),g!=null&&d.unshift(si(t,g,p)),g=Bs(t,s),g!=null&&d.push(si(t,g,p))),t=t.return}return d}function Gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hf(t,s,o,d,p){for(var g=s._reactName,b=[];o!==null&&o!==d;){var C=o,R=C.alternate,q=C.stateNode;if(R!==null&&R===d)break;C.tag===5&&q!==null&&(C=q,p?(R=Bs(o,g),R!=null&&b.unshift(si(o,R,C))):p||(R=Bs(o,g),R!=null&&b.push(si(o,R,C)))),o=o.return}b.length!==0&&t.push({event:s,listeners:b})}var Hx=/\r\n?/g,qx=/\u0000|\uFFFD/g;function qf(t){return(typeof t=="string"?t:""+t).replace(Hx,`
`).replace(qx,"")}function lo(t,s,o){if(s=qf(s),qf(t)!==s&&o)throw Error(n(425))}function co(){}var Il=null,Dl=null;function Ll(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(t){return Kf.resolve(null).then(t).catch(Jx)}:$l;function Jx(t){setTimeout(function(){throw t})}function Ml(t,s){var o=s,d=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(d===0){t.removeChild(p),Gs(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=p}while(o);Gs(s)}function Mr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Gf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),cr="__reactFiber$"+Jn,ii="__reactProps$"+Jn,yr="__reactContainer$"+Jn,Bl="__reactEvents$"+Jn,Yx="__reactListeners$"+Jn,Qx="__reactHandles$"+Jn;function hn(t){var s=t[cr];if(s)return s;for(var o=t.parentNode;o;){if(s=o[yr]||o[cr]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=Gf(t);t!==null;){if(o=t[cr])return o;t=Gf(t)}return s}t=o,o=t.parentNode}return null}function oi(t){return t=t[cr]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function uo(t){return t[ii]||null}var Ul=[],Qn=-1;function Br(t){return{current:t}}function Ve(t){0>Qn||(t.current=Ul[Qn],Ul[Qn]=null,Qn--)}function Be(t,s){Qn++,Ul[Qn]=t.current,t.current=s}var Ur={},pt=Br(Ur),St=Br(!1),pn=Ur;function Xn(t,s){var o=t.type.contextTypes;if(!o)return Ur;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in o)p[g]=s[g];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=p),p}function jt(t){return t=t.childContextTypes,t!=null}function fo(){Ve(St),Ve(pt)}function Jf(t,s,o){if(pt.current!==Ur)throw Error(n(168));Be(pt,s),Be(St,o)}function Yf(t,s,o){var d=t.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,ne(t)||"Unknown",p));return X({},o,d)}function ho(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,pn=pt.current,Be(pt,t),Be(St,St.current),!0}function Qf(t,s,o){var d=t.stateNode;if(!d)throw Error(n(169));o?(t=Yf(t,s,pn),d.__reactInternalMemoizedMergedChildContext=t,Ve(St),Ve(pt),Be(pt,t)):Ve(St),Be(St,o)}var xr=null,po=!1,Fl=!1;function Xf(t){xr===null?xr=[t]:xr.push(t)}function Xx(t){po=!0,Xf(t)}function Fr(){if(!Fl&&xr!==null){Fl=!0;var t=0,s=Le;try{var o=xr;for(Le=1;t<o.length;t++){var d=o[t];do d=d(!0);while(d!==null)}xr=null,po=!1}catch(p){throw xr!==null&&(xr=xr.slice(t+1)),Zd(cl,Fr),p}finally{Le=s,Fl=!1}}return null}var Zn=[],es=0,mo=null,go=0,Mt=[],Bt=0,mn=null,wr=1,br="";function gn(t,s){Zn[es++]=go,Zn[es++]=mo,mo=t,go=s}function Zf(t,s,o){Mt[Bt++]=wr,Mt[Bt++]=br,Mt[Bt++]=mn,mn=t;var d=wr;t=br;var p=32-Kt(d)-1;d&=~(1<<p),o+=1;var g=32-Kt(s)+p;if(30<g){var b=p-p%5;g=(d&(1<<b)-1).toString(32),d>>=b,p-=b,wr=1<<32-Kt(s)+p|o<<p|d,br=g+t}else wr=1<<g|o<<p|d,br=t}function zl(t){t.return!==null&&(gn(t,1),Zf(t,1,0))}function Vl(t){for(;t===mo;)mo=Zn[--es],Zn[es]=null,go=Zn[--es],Zn[es]=null;for(;t===mn;)mn=Mt[--Bt],Mt[Bt]=null,br=Mt[--Bt],Mt[Bt]=null,wr=Mt[--Bt],Mt[Bt]=null}var Pt=null,Rt=null,We=!1,Jt=null;function eh(t,s){var o=Vt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function th(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Pt=t,Rt=Mr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Pt=t,Rt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=mn!==null?{id:wr,overflow:br}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Vt(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,Pt=t,Rt=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hl(t){if(We){var s=Rt;if(s){var o=s;if(!th(t,s)){if(Wl(t))throw Error(n(418));s=Mr(o.nextSibling);var d=Pt;s&&th(t,s)?eh(d,o):(t.flags=t.flags&-4097|2,We=!1,Pt=t)}}else{if(Wl(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,Pt=t}}}function rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function vo(t){if(t!==Pt)return!1;if(!We)return rh(t),We=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Ll(t.type,t.memoizedProps)),s&&(s=Rt)){if(Wl(t))throw nh(),Error(n(418));for(;s;)eh(t,s),s=Mr(s.nextSibling)}if(rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){Rt=Mr(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}Rt=null}}else Rt=Pt?Mr(t.stateNode.nextSibling):null;return!0}function nh(){for(var t=Rt;t;)t=Mr(t.nextSibling)}function ts(){Rt=Pt=null,We=!1}function ql(t){Jt===null?Jt=[t]:Jt.push(t)}var Zx=L.ReactCurrentBatchConfig;function ai(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var d=o.stateNode}if(!d)throw Error(n(147,t));var p=d,g=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(b){var C=p.refs;b===null?delete C[g]:C[g]=b},s._stringRef=g,s)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function yo(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function sh(t){var s=t._init;return s(t._payload)}function ih(t){function s(M,D){if(t){var F=M.deletions;F===null?(M.deletions=[D],M.flags|=16):F.push(D)}}function o(M,D){if(!t)return null;for(;D!==null;)s(M,D),D=D.sibling;return null}function d(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function p(M,D){return M=Jr(M,D),M.index=0,M.sibling=null,M}function g(M,D,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<D?(M.flags|=2,D):F):(M.flags|=2,D)):(M.flags|=1048576,D)}function b(M){return t&&M.alternate===null&&(M.flags|=2),M}function C(M,D,F,se){return D===null||D.tag!==6?(D=$c(F,M.mode,se),D.return=M,D):(D=p(D,F),D.return=M,D)}function R(M,D,F,se){var he=F.type;return he===U?ee(M,D,F.props.children,se,F.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===z&&sh(he)===D.type)?(se=p(D,F.props),se.ref=ai(M,D,F),se.return=M,se):(se=zo(F.type,F.key,F.props,null,M.mode,se),se.ref=ai(M,D,F),se.return=M,se)}function q(M,D,F,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=Mc(F,M.mode,se),D.return=M,D):(D=p(D,F.children||[]),D.return=M,D)}function ee(M,D,F,se,he){return D===null||D.tag!==7?(D=jn(F,M.mode,se,he),D.return=M,D):(D=p(D,F),D.return=M,D)}function re(M,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=$c(""+D,M.mode,F),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return F=zo(D.type,D.key,D.props,null,M.mode,F),F.ref=ai(M,null,D),F.return=M,F;case V:return D=Mc(D,M.mode,F),D.return=M,D;case z:var se=D._init;return re(M,se(D._payload),F)}if(Ls(D)||$(D))return D=jn(D,M.mode,F,null),D.return=M,D;yo(M,D)}return null}function Z(M,D,F,se){var he=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return he!==null?null:C(M,D,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return F.key===he?R(M,D,F,se):null;case V:return F.key===he?q(M,D,F,se):null;case z:return he=F._init,Z(M,D,he(F._payload),se)}if(Ls(F)||$(F))return he!==null?null:ee(M,D,F,se,null);yo(M,F)}return null}function ie(M,D,F,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return M=M.get(F)||null,C(D,M,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case H:return M=M.get(se.key===null?F:se.key)||null,R(D,M,se,he);case V:return M=M.get(se.key===null?F:se.key)||null,q(D,M,se,he);case z:var ye=se._init;return ie(M,D,F,ye(se._payload),he)}if(Ls(se)||$(se))return M=M.get(F)||null,ee(D,M,se,he,null);yo(D,se)}return null}function ce(M,D,F,se){for(var he=null,ye=null,xe=D,_e=D=0,ct=null;xe!==null&&_e<F.length;_e++){xe.index>_e?(ct=xe,xe=null):ct=xe.sibling;var Ie=Z(M,xe,F[_e],se);if(Ie===null){xe===null&&(xe=ct);break}t&&xe&&Ie.alternate===null&&s(M,xe),D=g(Ie,D,_e),ye===null?he=Ie:ye.sibling=Ie,ye=Ie,xe=ct}if(_e===F.length)return o(M,xe),We&&gn(M,_e),he;if(xe===null){for(;_e<F.length;_e++)xe=re(M,F[_e],se),xe!==null&&(D=g(xe,D,_e),ye===null?he=xe:ye.sibling=xe,ye=xe);return We&&gn(M,_e),he}for(xe=d(M,xe);_e<F.length;_e++)ct=ie(xe,M,_e,F[_e],se),ct!==null&&(t&&ct.alternate!==null&&xe.delete(ct.key===null?_e:ct.key),D=g(ct,D,_e),ye===null?he=ct:ye.sibling=ct,ye=ct);return t&&xe.forEach(function(Yr){return s(M,Yr)}),We&&gn(M,_e),he}function fe(M,D,F,se){var he=$(F);if(typeof he!="function")throw Error(n(150));if(F=he.call(F),F==null)throw Error(n(151));for(var ye=he=null,xe=D,_e=D=0,ct=null,Ie=F.next();xe!==null&&!Ie.done;_e++,Ie=F.next()){xe.index>_e?(ct=xe,xe=null):ct=xe.sibling;var Yr=Z(M,xe,Ie.value,se);if(Yr===null){xe===null&&(xe=ct);break}t&&xe&&Yr.alternate===null&&s(M,xe),D=g(Yr,D,_e),ye===null?he=Yr:ye.sibling=Yr,ye=Yr,xe=ct}if(Ie.done)return o(M,xe),We&&gn(M,_e),he;if(xe===null){for(;!Ie.done;_e++,Ie=F.next())Ie=re(M,Ie.value,se),Ie!==null&&(D=g(Ie,D,_e),ye===null?he=Ie:ye.sibling=Ie,ye=Ie);return We&&gn(M,_e),he}for(xe=d(M,xe);!Ie.done;_e++,Ie=F.next())Ie=ie(xe,M,_e,Ie.value,se),Ie!==null&&(t&&Ie.alternate!==null&&xe.delete(Ie.key===null?_e:Ie.key),D=g(Ie,D,_e),ye===null?he=Ie:ye.sibling=Ie,ye=Ie);return t&&xe.forEach(function(Rw){return s(M,Rw)}),We&&gn(M,_e),he}function Ze(M,D,F,se){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case H:e:{for(var he=F.key,ye=D;ye!==null;){if(ye.key===he){if(he=F.type,he===U){if(ye.tag===7){o(M,ye.sibling),D=p(ye,F.props.children),D.return=M,M=D;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===z&&sh(he)===ye.type){o(M,ye.sibling),D=p(ye,F.props),D.ref=ai(M,ye,F),D.return=M,M=D;break e}o(M,ye);break}else s(M,ye);ye=ye.sibling}F.type===U?(D=jn(F.props.children,M.mode,se,F.key),D.return=M,M=D):(se=zo(F.type,F.key,F.props,null,M.mode,se),se.ref=ai(M,D,F),se.return=M,M=se)}return b(M);case V:e:{for(ye=F.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){o(M,D.sibling),D=p(D,F.children||[]),D.return=M,M=D;break e}else{o(M,D);break}else s(M,D);D=D.sibling}D=Mc(F,M.mode,se),D.return=M,M=D}return b(M);case z:return ye=F._init,Ze(M,D,ye(F._payload),se)}if(Ls(F))return ce(M,D,F,se);if($(F))return fe(M,D,F,se);yo(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(o(M,D.sibling),D=p(D,F),D.return=M,M=D):(o(M,D),D=$c(F,M.mode,se),D.return=M,M=D),b(M)):o(M,D)}return Ze}var rs=ih(!0),oh=ih(!1),xo=Br(null),wo=null,ns=null,Kl=null;function Gl(){Kl=ns=wo=null}function Jl(t){var s=xo.current;Ve(xo),t._currentValue=s}function Yl(t,s,o){for(;t!==null;){var d=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),t===o)break;t=t.return}}function ss(t,s){wo=t,Kl=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Et=!0),t.firstContext=null)}function Ut(t){var s=t._currentValue;if(Kl!==t)if(t={context:t,memoizedValue:s,next:null},ns===null){if(wo===null)throw Error(n(308));ns=t,wo.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return s}var vn=null;function Ql(t){vn===null?vn=[t]:vn.push(t)}function ah(t,s,o,d){var p=s.interleaved;return p===null?(o.next=o,Ql(s)):(o.next=p.next,p.next=o),s.interleaved=o,_r(t,d)}function _r(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zr=!1;function Xl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Vr(t,s,o){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,_r(t,o)}return p=d.interleaved,p===null?(s.next=s,Ql(d)):(s.next=p.next,p.next=s),d.interleaved=s,_r(t,o)}function bo(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,fl(t,o)}}function ch(t,s){var o=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function _o(t,s,o,d){var p=t.updateQueue;zr=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var R=C,q=R.next;R.next=null,b===null?g=q:b.next=q,b=R;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==b&&(C===null?ee.firstBaseUpdate=q:C.next=q,ee.lastBaseUpdate=R))}if(g!==null){var re=p.baseState;b=0,ee=q=R=null,C=g;do{var Z=C.lane,ie=C.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=t,fe=C;switch(Z=s,ie=o,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){re=ce.call(ie,re,Z);break e}re=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,Z=typeof ce=="function"?ce.call(ie,re,Z):ce,Z==null)break e;re=X({},re,Z);break e;case 2:zr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,Z=p.effects,Z===null?p.effects=[C]:Z.push(C))}else ie={eventTime:ie,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(q=ee=ie,R=re):ee=ee.next=ie,b|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(R=re),p.baseState=R,p.firstBaseUpdate=q,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);wn|=b,t.lanes=b,t.memoizedState=re}}function uh(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var d=t[s],p=d.callback;if(p!==null){if(d.callback=null,d=o,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var li={},ur=Br(li),ci=Br(li),ui=Br(li);function yn(t){if(t===li)throw Error(n(174));return t}function Zl(t,s){switch(Be(ui,s),Be(ci,t),Be(ur,li),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:el(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=el(s,t)}Ve(ur),Be(ur,s)}function is(){Ve(ur),Ve(ci),Ve(ui)}function dh(t){yn(ui.current);var s=yn(ur.current),o=el(s,t.type);s!==o&&(Be(ci,t),Be(ur,o))}function ec(t){ci.current===t&&(Ve(ur),Ve(ci))}var Ke=Br(0);function So(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tc=[];function rc(){for(var t=0;t<tc.length;t++)tc[t]._workInProgressVersionPrimary=null;tc.length=0}var jo=L.ReactCurrentDispatcher,nc=L.ReactCurrentBatchConfig,xn=0,Ge=null,rt=null,at=null,Eo=!1,di=!1,fi=0,ew=0;function mt(){throw Error(n(321))}function sc(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Gt(t[o],s[o]))return!1;return!0}function ic(t,s,o,d,p,g){if(xn=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,jo.current=t===null||t.memoizedState===null?sw:iw,t=o(d,p),di){g=0;do{if(di=!1,fi=0,25<=g)throw Error(n(301));g+=1,at=rt=null,s.updateQueue=null,jo.current=ow,t=o(d,p)}while(di)}if(jo.current=Co,s=rt!==null&&rt.next!==null,xn=0,at=rt=Ge=null,Eo=!1,s)throw Error(n(300));return t}function oc(){var t=fi!==0;return fi=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ge.memoizedState=at=t:at=at.next=t,at}function Ft(){if(rt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=at===null?Ge.memoizedState:at.next;if(s!==null)at=s,rt=t;else{if(t===null)throw Error(n(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?Ge.memoizedState=at=t:at=at.next=t}return at}function hi(t,s){return typeof s=="function"?s(t):s}function ac(t){var s=Ft(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var d=rt,p=d.baseQueue,g=o.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}d.baseQueue=p=g,o.pending=null}if(p!==null){g=p.next,d=d.baseState;var C=b=null,R=null,q=g;do{var ee=q.lane;if((xn&ee)===ee)R!==null&&(R=R.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:t(d,q.action);else{var re={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};R===null?(C=R=re,b=d):R=R.next=re,Ge.lanes|=ee,wn|=ee}q=q.next}while(q!==null&&q!==g);R===null?b=d:R.next=C,Gt(d,s.memoizedState)||(Et=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=R,o.lastRenderedState=d}if(t=o.interleaved,t!==null){p=t;do g=p.lane,Ge.lanes|=g,wn|=g,p=p.next;while(p!==t)}else p===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function lc(t){var s=Ft(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var d=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=t(g,b.action),b=b.next;while(b!==p);Gt(g,s.memoizedState)||(Et=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,d]}function fh(){}function hh(t,s){var o=Ge,d=Ft(),p=s(),g=!Gt(d.memoizedState,p);if(g&&(d.memoizedState=p,Et=!0),d=d.queue,cc(gh.bind(null,o,d,t),[t]),d.getSnapshot!==s||g||at!==null&&at.memoizedState.tag&1){if(o.flags|=2048,pi(9,mh.bind(null,o,d,p,s),void 0,null),lt===null)throw Error(n(349));(xn&30)!==0||ph(o,s,p)}return p}function ph(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function mh(t,s,o,d){s.value=o,s.getSnapshot=d,vh(s)&&yh(t)}function gh(t,s,o){return o(function(){vh(s)&&yh(t)})}function vh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Gt(t,o)}catch{return!0}}function yh(t){var s=_r(t,1);s!==null&&Zt(s,t,1,-1)}function xh(t){var s=dr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},s.queue=t,t=t.dispatch=nw.bind(null,Ge,t),[s.memoizedState,t]}function pi(t,s,o,d){return t={tag:t,create:s,destroy:o,deps:d,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(d=o.next,o.next=t,t.next=d,s.lastEffect=t)),t}function wh(){return Ft().memoizedState}function ko(t,s,o,d){var p=dr();Ge.flags|=t,p.memoizedState=pi(1|s,o,void 0,d===void 0?null:d)}function No(t,s,o,d){var p=Ft();d=d===void 0?null:d;var g=void 0;if(rt!==null){var b=rt.memoizedState;if(g=b.destroy,d!==null&&sc(d,b.deps)){p.memoizedState=pi(s,o,g,d);return}}Ge.flags|=t,p.memoizedState=pi(1|s,o,g,d)}function bh(t,s){return ko(8390656,8,t,s)}function cc(t,s){return No(2048,8,t,s)}function _h(t,s){return No(4,2,t,s)}function Sh(t,s){return No(4,4,t,s)}function jh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Eh(t,s,o){return o=o!=null?o.concat([t]):null,No(4,4,jh.bind(null,s,t),o)}function uc(){}function kh(t,s){var o=Ft();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&sc(s,d[1])?d[0]:(o.memoizedState=[t,s],t)}function Nh(t,s){var o=Ft();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&sc(s,d[1])?d[0]:(t=t(),o.memoizedState=[t,s],t)}function Ch(t,s,o){return(xn&21)===0?(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=o):(Gt(o,s)||(o=nf(),Ge.lanes|=o,wn|=o,t.baseState=!0),s)}function tw(t,s){var o=Le;Le=o!==0&&4>o?o:4,t(!0);var d=nc.transition;nc.transition={};try{t(!1),s()}finally{Le=o,nc.transition=d}}function Ah(){return Ft().memoizedState}function rw(t,s,o){var d=Kr(t);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Th(t))Ph(s,o);else if(o=ah(t,s,o,d),o!==null){var p=_t();Zt(o,t,d,p),Rh(o,s,d)}}function nw(t,s,o){var d=Kr(t),p={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Th(t))Ph(s,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,C=g(b,o);if(p.hasEagerState=!0,p.eagerState=C,Gt(C,b)){var R=s.interleaved;R===null?(p.next=p,Ql(s)):(p.next=R.next,R.next=p),s.interleaved=p;return}}catch{}finally{}o=ah(t,s,p,d),o!==null&&(p=_t(),Zt(o,t,d,p),Rh(o,s,d))}}function Th(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function Ph(t,s){di=Eo=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Rh(t,s,o){if((o&4194240)!==0){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,fl(t,o)}}var Co={readContext:Ut,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},sw={readContext:Ut,useCallback:function(t,s){return dr().memoizedState=[t,s===void 0?null:s],t},useContext:Ut,useEffect:bh,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,ko(4194308,4,jh.bind(null,s,t),o)},useLayoutEffect:function(t,s){return ko(4194308,4,t,s)},useInsertionEffect:function(t,s){return ko(4,2,t,s)},useMemo:function(t,s){var o=dr();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var d=dr();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},d.queue=t,t=t.dispatch=rw.bind(null,Ge,t),[d.memoizedState,t]},useRef:function(t){var s=dr();return t={current:t},s.memoizedState=t},useState:xh,useDebugValue:uc,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=xh(!1),s=t[0];return t=tw.bind(null,t[1]),dr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var d=Ge,p=dr();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),lt===null)throw Error(n(349));(xn&30)!==0||ph(d,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,bh(gh.bind(null,d,g,t),[t]),d.flags|=2048,pi(9,mh.bind(null,d,g,o,s),void 0,null),o},useId:function(){var t=dr(),s=lt.identifierPrefix;if(We){var o=br,d=wr;o=(d&~(1<<32-Kt(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=fi++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=ew++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},iw={readContext:Ut,useCallback:kh,useContext:Ut,useEffect:cc,useImperativeHandle:Eh,useInsertionEffect:_h,useLayoutEffect:Sh,useMemo:Nh,useReducer:ac,useRef:wh,useState:function(){return ac(hi)},useDebugValue:uc,useDeferredValue:function(t){var s=Ft();return Ch(s,rt.memoizedState,t)},useTransition:function(){var t=ac(hi)[0],s=Ft().memoizedState;return[t,s]},useMutableSource:fh,useSyncExternalStore:hh,useId:Ah,unstable_isNewReconciler:!1},ow={readContext:Ut,useCallback:kh,useContext:Ut,useEffect:cc,useImperativeHandle:Eh,useInsertionEffect:_h,useLayoutEffect:Sh,useMemo:Nh,useReducer:lc,useRef:wh,useState:function(){return lc(hi)},useDebugValue:uc,useDeferredValue:function(t){var s=Ft();return rt===null?s.memoizedState=t:Ch(s,rt.memoizedState,t)},useTransition:function(){var t=lc(hi)[0],s=Ft().memoizedState;return[t,s]},useMutableSource:fh,useSyncExternalStore:hh,useId:Ah,unstable_isNewReconciler:!1};function Yt(t,s){if(t&&t.defaultProps){s=X({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function dc(t,s,o,d){s=t.memoizedState,o=o(d,s),o=o==null?s:X({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ao={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var d=_t(),p=Kr(t),g=Sr(d,p);g.payload=s,o!=null&&(g.callback=o),s=Vr(t,g,p),s!==null&&(Zt(s,t,p,d),bo(s,t,p))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var d=_t(),p=Kr(t),g=Sr(d,p);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=Vr(t,g,p),s!==null&&(Zt(s,t,p,d),bo(s,t,p))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=_t(),d=Kr(t),p=Sr(o,d);p.tag=2,s!=null&&(p.callback=s),s=Vr(t,p,d),s!==null&&(Zt(s,t,d,o),bo(s,t,d))}};function Oh(t,s,o,d,p,g,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,g,b):s.prototype&&s.prototype.isPureReactComponent?!ei(o,d)||!ei(p,g):!0}function Ih(t,s,o){var d=!1,p=Ur,g=s.contextType;return typeof g=="object"&&g!==null?g=Ut(g):(p=jt(s)?pn:pt.current,d=s.contextTypes,g=(d=d!=null)?Xn(t,p):Ur),s=new s(o,g),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ao,t.stateNode=s,s._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=g),s}function Dh(t,s,o,d){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==t&&Ao.enqueueReplaceState(s,s.state,null)}function fc(t,s,o,d){var p=t.stateNode;p.props=o,p.state=t.memoizedState,p.refs={},Xl(t);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Ut(g):(g=jt(s)?pn:pt.current,p.context=Xn(t,g)),p.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dc(t,s,g,o),p.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ao.enqueueReplaceState(p,p.state,null),_o(t,o,p,d),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function os(t,s){try{var o="",d=s;do o+=be(d),d=d.return;while(d);var p=o}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:s,stack:p,digest:null}}function hc(t,s,o){return{value:t,source:null,stack:o??null,digest:s??null}}function pc(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var aw=typeof WeakMap=="function"?WeakMap:Map;function Lh(t,s,o){o=Sr(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Lo||(Lo=!0,Ac=d),pc(t,s)},o}function $h(t,s,o){o=Sr(-1,o),o.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;o.payload=function(){return d(p)},o.callback=function(){pc(t,s)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){pc(t,s),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),o}function Mh(t,s,o){var d=t.pingCache;if(d===null){d=t.pingCache=new aw;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(o)||(p.add(o),t=bw.bind(null,t,s,o),s.then(t,t))}function Bh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Uh(t,s,o,d,p){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Sr(-1,1),s.tag=2,Vr(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var lw=L.ReactCurrentOwner,Et=!1;function bt(t,s,o,d){s.child=t===null?oh(s,null,o,d):rs(s,t.child,o,d)}function Fh(t,s,o,d,p){o=o.render;var g=s.ref;return ss(s,p),d=ic(t,s,o,d,g,p),o=oc(),t!==null&&!Et?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~p,jr(t,s,p)):(We&&o&&zl(s),s.flags|=1,bt(t,s,d,p),s.child)}function zh(t,s,o,d,p){if(t===null){var g=o.type;return typeof g=="function"&&!Lc(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,Vh(t,s,g,d,p)):(t=zo(o.type,null,d,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,(t.lanes&p)===0){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ei,o(b,d)&&t.ref===s.ref)return jr(t,s,p)}return s.flags|=1,t=Jr(g,d),t.ref=s.ref,t.return=s,s.child=t}function Vh(t,s,o,d,p){if(t!==null){var g=t.memoizedProps;if(ei(g,d)&&t.ref===s.ref)if(Et=!1,s.pendingProps=d=g,(t.lanes&p)!==0)(t.flags&131072)!==0&&(Et=!0);else return s.lanes=t.lanes,jr(t,s,p)}return mc(t,s,o,d,p)}function Wh(t,s,o){var d=s.pendingProps,p=d.children,g=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ls,Ot),Ot|=o;else{if((o&1073741824)===0)return t=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Be(ls,Ot),Ot|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,Be(ls,Ot),Ot|=d}else g!==null?(d=g.baseLanes|o,s.memoizedState=null):d=o,Be(ls,Ot),Ot|=d;return bt(t,s,p,o),s.child}function Hh(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function mc(t,s,o,d,p){var g=jt(o)?pn:pt.current;return g=Xn(s,g),ss(s,p),o=ic(t,s,o,d,g,p),d=oc(),t!==null&&!Et?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~p,jr(t,s,p)):(We&&d&&zl(s),s.flags|=1,bt(t,s,o,p),s.child)}function qh(t,s,o,d,p){if(jt(o)){var g=!0;ho(s)}else g=!1;if(ss(s,p),s.stateNode===null)Po(t,s),Ih(s,o,d),fc(s,o,d,p),d=!0;else if(t===null){var b=s.stateNode,C=s.memoizedProps;b.props=C;var R=b.context,q=o.contextType;typeof q=="object"&&q!==null?q=Ut(q):(q=jt(o)?pn:pt.current,q=Xn(s,q));var ee=o.getDerivedStateFromProps,re=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function";re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==d||R!==q)&&Dh(s,b,d,q),zr=!1;var Z=s.memoizedState;b.state=Z,_o(s,d,b,p),R=s.memoizedState,C!==d||Z!==R||St.current||zr?(typeof ee=="function"&&(dc(s,o,ee,d),R=s.memoizedState),(C=zr||Oh(s,o,C,d,Z,R,q))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=R),b.props=d,b.state=R,b.context=q,d=C):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,lh(t,s),C=s.memoizedProps,q=s.type===s.elementType?C:Yt(s.type,C),b.props=q,re=s.pendingProps,Z=b.context,R=o.contextType,typeof R=="object"&&R!==null?R=Ut(R):(R=jt(o)?pn:pt.current,R=Xn(s,R));var ie=o.getDerivedStateFromProps;(ee=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==re||Z!==R)&&Dh(s,b,d,R),zr=!1,Z=s.memoizedState,b.state=Z,_o(s,d,b,p);var ce=s.memoizedState;C!==re||Z!==ce||St.current||zr?(typeof ie=="function"&&(dc(s,o,ie,d),ce=s.memoizedState),(q=zr||Oh(s,o,q,d,Z,ce,R)||!1)?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,R)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ce),b.props=d,b.state=ce,b.context=R,d=q):(typeof b.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),d=!1)}return gc(t,s,o,d,g,p)}function gc(t,s,o,d,p,g){Hh(t,s);var b=(s.flags&128)!==0;if(!d&&!b)return p&&Qf(s,o,!1),jr(t,s,g);d=s.stateNode,lw.current=s;var C=b&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,t!==null&&b?(s.child=rs(s,t.child,null,g),s.child=rs(s,null,C,g)):bt(t,s,C,g),s.memoizedState=d.state,p&&Qf(s,o,!0),s.child}function Kh(t){var s=t.stateNode;s.pendingContext?Jf(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Jf(t,s.context,!1),Zl(t,s.containerInfo)}function Gh(t,s,o,d,p){return ts(),ql(p),s.flags|=256,bt(t,s,o,d),s.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,s,o){var d=s.pendingProps,p=Ke.current,g=!1,b=(s.flags&128)!==0,C;if((C=b)||(C=t!==null&&t.memoizedState===null?!1:(p&2)!==0),C?(g=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Be(Ke,p&1),t===null)return Hl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,t=d.fallback,g?(d=s.mode,g=s.child,b={mode:"hidden",children:b},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=b):g=Vo(b,d,0,null),t=jn(t,d,o,null),g.return=s,t.return=s,g.sibling=t,s.child=g,s.child.memoizedState=yc(o),s.memoizedState=vc,t):xc(s,b));if(p=t.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return cw(t,s,b,d,C,p,o);if(g){g=d.fallback,b=s.mode,p=t.child,C=p.sibling;var R={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=R,s.deletions=null):(d=Jr(p,R),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?g=Jr(C,g):(g=jn(g,b,o,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,b=t.child.memoizedState,b=b===null?yc(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=t.childLanes&~o,s.memoizedState=vc,d}return g=t.child,t=g.sibling,d=Jr(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=d,s.memoizedState=null,d}function xc(t,s){return s=Vo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function To(t,s,o,d){return d!==null&&ql(d),rs(s,t.child,null,o),t=xc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function cw(t,s,o,d,p,g,b){if(o)return s.flags&256?(s.flags&=-257,d=hc(Error(n(422))),To(t,s,b,d)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=Vo({mode:"visible",children:d.children},p,0,null),g=jn(g,p,b,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&rs(s,t.child,null,b),s.child.memoizedState=yc(b),s.memoizedState=vc,g);if((s.mode&1)===0)return To(t,s,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,g=Error(n(419)),d=hc(g,d,void 0),To(t,s,b,d)}if(C=(b&t.childLanes)!==0,Et||C){if(d=lt,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,_r(t,p),Zt(d,t,p,-1))}return Dc(),d=hc(Error(n(421))),To(t,s,b,d)}return p.data==="$?"?(s.flags|=128,s.child=t.child,s=_w.bind(null,t),p._reactRetry=s,null):(t=g.treeContext,Rt=Mr(p.nextSibling),Pt=s,We=!0,Jt=null,t!==null&&(Mt[Bt++]=wr,Mt[Bt++]=br,Mt[Bt++]=mn,wr=t.id,br=t.overflow,mn=s),s=xc(s,d.children),s.flags|=4096,s)}function Yh(t,s,o){t.lanes|=s;var d=t.alternate;d!==null&&(d.lanes|=s),Yl(t.return,s,o)}function wc(t,s,o,d,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=p)}function Qh(t,s,o){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(bt(t,s,d.children,o),d=Ke.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,o,s);else if(t.tag===19)Yh(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Be(Ke,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(o=s.child,p=null;o!==null;)t=o.alternate,t!==null&&So(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),wc(s,!1,p,o,g);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&So(t)===null){s.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}wc(s,!0,o,null,g);break;case"together":wc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Po(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function jr(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),wn|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,o=Jr(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=Jr(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function uw(t,s,o){switch(s.tag){case 3:Kh(s),ts();break;case 5:dh(s);break;case 1:jt(s.type)&&ho(s);break;case 4:Zl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Be(xo,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Be(Ke,Ke.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Jh(t,s,o):(Be(Ke,Ke.current&1),t=jr(t,s,o),t!==null?t.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(t.flags&128)!==0){if(d)return Qh(t,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Be(Ke,Ke.current),d)break;return null;case 22:case 23:return s.lanes=0,Wh(t,s,o)}return jr(t,s,o)}var Xh,bc,Zh,ep;Xh=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},bc=function(){},Zh=function(t,s,o,d){var p=t.memoizedProps;if(p!==d){t=s.stateNode,yn(ur.current);var g=null;switch(o){case"input":p=qt(t,p),d=qt(t,d),g=[];break;case"select":p=X({},p,{value:void 0}),d=X({},d,{value:void 0}),g=[];break;case"textarea":p=Za(t,p),d=Za(t,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=co)}tl(o,d);var b;o=null;for(q in p)if(!d.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var C=p[q];for(b in C)C.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in d){var R=d[q];if(C=p?.[q],d.hasOwnProperty(q)&&R!==C&&(R!=null||C!=null))if(q==="style")if(C){for(b in C)!C.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in R)R.hasOwnProperty(b)&&C[b]!==R[b]&&(o||(o={}),o[b]=R[b])}else o||(g||(g=[]),g.push(q,o)),o=R;else q==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(g=g||[]).push(q,R)):q==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(q,""+R):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(R!=null&&q==="onScroll"&&ze("scroll",t),g||C===R||(g=[])):(g=g||[]).push(q,R))}o&&(g=g||[]).push("style",o);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},ep=function(t,s,o,d){o!==d&&(s.flags|=4)};function mi(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,d=0;if(s)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=d,t.childLanes=o,s}function dw(t,s,o){var d=s.pendingProps;switch(Vl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return jt(s.type)&&fo(),gt(s),null;case 3:return d=s.stateNode,is(),Ve(St),Ve(pt),rc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(vo(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jt!==null&&(Rc(Jt),Jt=null))),bc(t,s),gt(s),null;case 5:ec(s);var p=yn(ui.current);if(o=s.type,t!==null&&s.stateNode!=null)Zh(t,s,o,d,p),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return gt(s),null}if(t=yn(ur.current),vo(s)){d=s.stateNode,o=s.type;var g=s.memoizedProps;switch(d[cr]=s,d[ii]=g,t=(s.mode&1)!==0,o){case"dialog":ze("cancel",d),ze("close",d);break;case"iframe":case"object":case"embed":ze("load",d);break;case"video":case"audio":for(p=0;p<ri.length;p++)ze(ri[p],d);break;case"source":ze("error",d);break;case"img":case"image":case"link":ze("error",d),ze("load",d);break;case"details":ze("toggle",d);break;case"input":Mn(d,g),ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ze("invalid",d);break;case"textarea":Ld(d,g),ze("invalid",d)}tl(o,g),p=null;for(var b in g)if(g.hasOwnProperty(b)){var C=g[b];b==="children"?typeof C=="string"?d.textContent!==C&&(g.suppressHydrationWarning!==!0&&lo(d.textContent,C,t),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&lo(d.textContent,C,t),p=["children",""+C]):a.hasOwnProperty(b)&&C!=null&&b==="onScroll"&&ze("scroll",d)}switch(o){case"input":Re(d),Dd(d,g,!0);break;case"textarea":Re(d),Md(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=co)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=b.createElement(o,{is:d.is}):(t=b.createElement(o),o==="select"&&(b=t,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):t=b.createElementNS(t,o),t[cr]=s,t[ii]=d,Xh(t,s,!1,!1),s.stateNode=t;e:{switch(b=rl(o,d),o){case"dialog":ze("cancel",t),ze("close",t),p=d;break;case"iframe":case"object":case"embed":ze("load",t),p=d;break;case"video":case"audio":for(p=0;p<ri.length;p++)ze(ri[p],t);p=d;break;case"source":ze("error",t),p=d;break;case"img":case"image":case"link":ze("error",t),ze("load",t),p=d;break;case"details":ze("toggle",t),p=d;break;case"input":Mn(t,d),p=qt(t,d),ze("invalid",t);break;case"option":p=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},p=X({},d,{value:void 0}),ze("invalid",t);break;case"textarea":Ld(t,d),p=Za(t,d),ze("invalid",t);break;default:p=d}tl(o,p),C=p;for(g in C)if(C.hasOwnProperty(g)){var R=C[g];g==="style"?zd(t,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ud(t,R)):g==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&$s(t,R):typeof R=="number"&&$s(t,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?R!=null&&g==="onScroll"&&ze("scroll",t):R!=null&&A(t,g,R,b))}switch(o){case"input":Re(t),Dd(t,d,!1);break;case"textarea":Re(t),Md(t);break;case"option":d.value!=null&&t.setAttribute("value",""+ve(d.value));break;case"select":t.multiple=!!d.multiple,g=d.value,g!=null?Un(t,!!d.multiple,g,!1):d.defaultValue!=null&&Un(t,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=co)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return gt(s),null;case 6:if(t&&s.stateNode!=null)ep(t,s,t.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(o=yn(ui.current),yn(ur.current),vo(s)){if(d=s.stateNode,o=s.memoizedProps,d[cr]=s,(g=d.nodeValue!==o)&&(t=Pt,t!==null))switch(t.tag){case 3:lo(d.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lo(d.nodeValue,o,(t.mode&1)!==0)}g&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[cr]=s,s.stateNode=d}return gt(s),null;case 13:if(Ve(Ke),d=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Rt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)nh(),ts(),s.flags|=98560,g=!1;else if(g=vo(s),d!==null&&d.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[cr]=s}else ts(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),g=!1}else Jt!==null&&(Rc(Jt),Jt=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ke.current&1)!==0?nt===0&&(nt=3):Dc())),s.updateQueue!==null&&(s.flags|=4),gt(s),null);case 4:return is(),bc(t,s),t===null&&ni(s.stateNode.containerInfo),gt(s),null;case 10:return Jl(s.type._context),gt(s),null;case 17:return jt(s.type)&&fo(),gt(s),null;case 19:if(Ve(Ke),g=s.memoizedState,g===null)return gt(s),null;if(d=(s.flags&128)!==0,b=g.rendering,b===null)if(d)mi(g,!1);else{if(nt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(b=So(t),b!==null){for(s.flags|=128,mi(g,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)g=o,t=d,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,t=b.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Be(Ke,Ke.current&1|2),s.child}t=t.sibling}g.tail!==null&&Xe()>cs&&(s.flags|=128,d=!0,mi(g,!1),s.lanes=4194304)}else{if(!d)if(t=So(b),t!==null){if(s.flags|=128,d=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),mi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!We)return gt(s),null}else 2*Xe()-g.renderingStartTime>cs&&o!==1073741824&&(s.flags|=128,d=!0,mi(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(o=g.last,o!==null?o.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,o=Ke.current,Be(Ke,d?o&1|2:o&1),s):(gt(s),null);case 22:case 23:return Ic(),d=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ot&1073741824)!==0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function fw(t,s){switch(Vl(s),s.tag){case 1:return jt(s.type)&&fo(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return is(),Ve(St),Ve(pt),rc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return ec(s),null;case 13:if(Ve(Ke),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ts()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ve(Ke),null;case 4:return is(),null;case 10:return Jl(s.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var Ro=!1,vt=!1,hw=typeof WeakSet=="function"?WeakSet:Set,ae=null;function as(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Qe(t,s,d)}else o.current=null}function _c(t,s,o){try{o()}catch(d){Qe(t,s,d)}}var tp=!1;function pw(t,s){if(Il=Qi,t=Of(),kl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,C=-1,R=-1,q=0,ee=0,re=t,Z=null;t:for(;;){for(var ie;re!==o||p!==0&&re.nodeType!==3||(C=b+p),re!==g||d!==0&&re.nodeType!==3||(R=b+d),re.nodeType===3&&(b+=re.nodeValue.length),(ie=re.firstChild)!==null;)Z=re,re=ie;for(;;){if(re===t)break t;if(Z===o&&++q===p&&(C=b),Z===g&&++ee===d&&(R=b),(ie=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=ie}o=C===-1||R===-1?null:{start:C,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dl={focusedElem:t,selectionRange:o},Qi=!1,ae=s;ae!==null;)if(s=ae,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ae=t;else for(;ae!==null;){s=ae;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,Ze=ce.memoizedState,M=s.stateNode,D=M.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Yt(s.type,fe),Ze);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){Qe(s,s.return,se)}if(t=s.sibling,t!==null){t.return=s.return,ae=t;break}ae=s.return}return ce=tp,tp=!1,ce}function gi(t,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&t)===t){var g=p.destroy;p.destroy=void 0,g!==void 0&&_c(s,o,g)}p=p.next}while(p!==d)}}function Oo(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function Sc(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function rp(t){var s=t.alternate;s!==null&&(t.alternate=null,rp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cr],delete s[ii],delete s[Bl],delete s[Yx],delete s[Qx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function np(t){return t.tag===5||t.tag===3||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jc(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=co));else if(d!==4&&(t=t.child,t!==null))for(jc(t,s,o),t=t.sibling;t!==null;)jc(t,s,o),t=t.sibling}function Ec(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Ec(t,s,o),t=t.sibling;t!==null;)Ec(t,s,o),t=t.sibling}var dt=null,Qt=!1;function Wr(t,s,o){for(o=o.child;o!==null;)ip(t,s,o),o=o.sibling}function ip(t,s,o){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Hi,o)}catch{}switch(o.tag){case 5:vt||as(o,s);case 6:var d=dt,p=Qt;dt=null,Wr(t,s,o),dt=d,Qt=p,dt!==null&&(Qt?(t=dt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):dt.removeChild(o.stateNode));break;case 18:dt!==null&&(Qt?(t=dt,o=o.stateNode,t.nodeType===8?Ml(t.parentNode,o):t.nodeType===1&&Ml(t,o),Gs(t)):Ml(dt,o.stateNode));break;case 4:d=dt,p=Qt,dt=o.stateNode.containerInfo,Qt=!0,Wr(t,s,o),dt=d,Qt=p;break;case 0:case 11:case 14:case 15:if(!vt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,b=g.destroy;g=g.tag,b!==void 0&&((g&2)!==0||(g&4)!==0)&&_c(o,s,b),p=p.next}while(p!==d)}Wr(t,s,o);break;case 1:if(!vt&&(as(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(C){Qe(o,s,C)}Wr(t,s,o);break;case 21:Wr(t,s,o);break;case 22:o.mode&1?(vt=(d=vt)||o.memoizedState!==null,Wr(t,s,o),vt=d):Wr(t,s,o);break;default:Wr(t,s,o)}}function op(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new hw),s.forEach(function(d){var p=Sw.bind(null,t,d);o.has(d)||(o.add(d),d.then(p,p))})}}function Xt(t,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];try{var g=t,b=s,C=b;e:for(;C!==null;){switch(C.tag){case 5:dt=C.stateNode,Qt=!1;break e;case 3:dt=C.stateNode.containerInfo,Qt=!0;break e;case 4:dt=C.stateNode.containerInfo,Qt=!0;break e}C=C.return}if(dt===null)throw Error(n(160));ip(g,b,p),dt=null,Qt=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(q){Qe(p,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ap(s,t),s=s.sibling}function ap(t,s){var o=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(s,t),fr(t),d&4){try{gi(3,t,t.return),Oo(3,t)}catch(fe){Qe(t,t.return,fe)}try{gi(5,t,t.return)}catch(fe){Qe(t,t.return,fe)}}break;case 1:Xt(s,t),fr(t),d&512&&o!==null&&as(o,o.return);break;case 5:if(Xt(s,t),fr(t),d&512&&o!==null&&as(o,o.return),t.flags&32){var p=t.stateNode;try{$s(p,"")}catch(fe){Qe(t,t.return,fe)}}if(d&4&&(p=t.stateNode,p!=null)){var g=t.memoizedProps,b=o!==null?o.memoizedProps:g,C=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Bn(p,g),rl(C,b);var q=rl(C,g);for(b=0;b<R.length;b+=2){var ee=R[b],re=R[b+1];ee==="style"?zd(p,re):ee==="dangerouslySetInnerHTML"?Ud(p,re):ee==="children"?$s(p,re):A(p,ee,re,q)}switch(C){case"input":dn(p,g);break;case"textarea":$d(p,g);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?Un(p,!!g.multiple,ie,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Un(p,!!g.multiple,g.defaultValue,!0):Un(p,!!g.multiple,g.multiple?[]:"",!1))}p[ii]=g}catch(fe){Qe(t,t.return,fe)}}break;case 6:if(Xt(s,t),fr(t),d&4){if(t.stateNode===null)throw Error(n(162));p=t.stateNode,g=t.memoizedProps;try{p.nodeValue=g}catch(fe){Qe(t,t.return,fe)}}break;case 3:if(Xt(s,t),fr(t),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(fe){Qe(t,t.return,fe)}break;case 4:Xt(s,t),fr(t);break;case 13:Xt(s,t),fr(t),p=t.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Cc=Xe())),d&4&&op(t);break;case 22:if(ee=o!==null&&o.memoizedState!==null,t.mode&1?(vt=(q=vt)||ee,Xt(s,t),vt=q):Xt(s,t),fr(t),d&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!ee&&(t.mode&1)!==0)for(ae=t,ee=t.child;ee!==null;){for(re=ae=ee;ae!==null;){switch(Z=ae,ie=Z.child,Z.tag){case 0:case 11:case 14:case 15:gi(4,Z,Z.return);break;case 1:as(Z,Z.return);var ce=Z.stateNode;if(typeof ce.componentWillUnmount=="function"){d=Z,o=Z.return;try{s=d,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(fe){Qe(d,o,fe)}}break;case 5:as(Z,Z.return);break;case 22:if(Z.memoizedState!==null){up(re);continue}}ie!==null?(ie.return=Z,ae=ie):up(re)}ee=ee.sibling}e:for(ee=null,re=t;;){if(re.tag===5){if(ee===null){ee=re;try{p=re.stateNode,q?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=re.stateNode,R=re.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Fd("display",b))}catch(fe){Qe(t,t.return,fe)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(fe){Qe(t,t.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===t)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===t)break e;for(;re.sibling===null;){if(re.return===null||re.return===t)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Xt(s,t),fr(t),d&4&&op(t);break;case 21:break;default:Xt(s,t),fr(t)}}function fr(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(np(o)){var d=o;break e}o=o.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&($s(p,""),d.flags&=-33);var g=sp(t);Ec(t,g,p);break;case 3:case 4:var b=d.stateNode.containerInfo,C=sp(t);jc(t,C,b);break;default:throw Error(n(161))}}catch(R){Qe(t,t.return,R)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function mw(t,s,o){ae=t,lp(t)}function lp(t,s,o){for(var d=(t.mode&1)!==0;ae!==null;){var p=ae,g=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Ro;if(!b){var C=p.alternate,R=C!==null&&C.memoizedState!==null||vt;C=Ro;var q=vt;if(Ro=b,(vt=R)&&!q)for(ae=p;ae!==null;)b=ae,R=b.child,b.tag===22&&b.memoizedState!==null?dp(p):R!==null?(R.return=b,ae=R):dp(p);for(;g!==null;)ae=g,lp(g),g=g.sibling;ae=p,Ro=C,vt=q}cp(t)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ae=g):cp(t)}}function cp(t){for(;ae!==null;){var s=ae;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vt||Oo(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!vt)if(o===null)d.componentDidMount();else{var p=s.elementType===s.type?o.memoizedProps:Yt(s.type,o.memoizedProps);d.componentDidUpdate(p,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&uh(s,g,d);break;case 3:var b=s.updateQueue;if(b!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}uh(s,b,o)}break;case 5:var C=s.stateNode;if(o===null&&s.flags&4){o=C;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&Gs(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vt||s.flags&512&&Sc(s)}catch(Z){Qe(s,s.return,Z)}}if(s===t){ae=null;break}if(o=s.sibling,o!==null){o.return=s.return,ae=o;break}ae=s.return}}function up(t){for(;ae!==null;){var s=ae;if(s===t){ae=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ae=o;break}ae=s.return}}function dp(t){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Oo(4,s)}catch(R){Qe(s,o,R)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(R){Qe(s,p,R)}}var g=s.return;try{Sc(s)}catch(R){Qe(s,g,R)}break;case 5:var b=s.return;try{Sc(s)}catch(R){Qe(s,b,R)}}}catch(R){Qe(s,s.return,R)}if(s===t){ae=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ae=C;break}ae=s.return}}var gw=Math.ceil,Io=L.ReactCurrentDispatcher,kc=L.ReactCurrentOwner,zt=L.ReactCurrentBatchConfig,Oe=0,lt=null,et=null,ft=0,Ot=0,ls=Br(0),nt=0,vi=null,wn=0,Do=0,Nc=0,yi=null,kt=null,Cc=0,cs=1/0,Er=null,Lo=!1,Ac=null,Hr=null,$o=!1,qr=null,Mo=0,xi=0,Tc=null,Bo=-1,Uo=0;function _t(){return(Oe&6)!==0?Xe():Bo!==-1?Bo:Bo=Xe()}function Kr(t){return(t.mode&1)===0?1:(Oe&2)!==0&&ft!==0?ft&-ft:Zx.transition!==null?(Uo===0&&(Uo=nf()),Uo):(t=Le,t!==0||(t=window.event,t=t===void 0?16:hf(t.type)),t)}function Zt(t,s,o,d){if(50<xi)throw xi=0,Tc=null,Error(n(185));Vs(t,o,d),((Oe&2)===0||t!==lt)&&(t===lt&&((Oe&2)===0&&(Do|=o),nt===4&&Gr(t,ft)),Nt(t,d),o===1&&Oe===0&&(s.mode&1)===0&&(cs=Xe()+500,po&&Fr()))}function Nt(t,s){var o=t.callbackNode;Z0(t,s);var d=Gi(t,t===lt?ft:0);if(d===0)o!==null&&ef(o),t.callbackNode=null,t.callbackPriority=0;else if(s=d&-d,t.callbackPriority!==s){if(o!=null&&ef(o),s===1)t.tag===0?Xx(hp.bind(null,t)):Xf(hp.bind(null,t)),Gx(function(){(Oe&6)===0&&Fr()}),o=null;else{switch(sf(d)){case 1:o=cl;break;case 4:o=tf;break;case 16:o=Wi;break;case 536870912:o=rf;break;default:o=Wi}o=bp(o,fp.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function fp(t,s){if(Bo=-1,Uo=0,(Oe&6)!==0)throw Error(n(327));var o=t.callbackNode;if(us()&&t.callbackNode!==o)return null;var d=Gi(t,t===lt?ft:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||s)s=Fo(t,d);else{s=d;var p=Oe;Oe|=2;var g=mp();(lt!==t||ft!==s)&&(Er=null,cs=Xe()+500,_n(t,s));do try{xw();break}catch(C){pp(t,C)}while(!0);Gl(),Io.current=g,Oe=p,et!==null?s=0:(lt=null,ft=0,s=nt)}if(s!==0){if(s===2&&(p=ul(t),p!==0&&(d=p,s=Pc(t,p))),s===1)throw o=vi,_n(t,0),Gr(t,d),Nt(t,Xe()),o;if(s===6)Gr(t,d);else{if(p=t.current.alternate,(d&30)===0&&!vw(p)&&(s=Fo(t,d),s===2&&(g=ul(t),g!==0&&(d=g,s=Pc(t,g))),s===1))throw o=vi,_n(t,0),Gr(t,d),Nt(t,Xe()),o;switch(t.finishedWork=p,t.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Sn(t,kt,Er);break;case 3:if(Gr(t,d),(d&130023424)===d&&(s=Cc+500-Xe(),10<s)){if(Gi(t,0)!==0)break;if(p=t.suspendedLanes,(p&d)!==d){_t(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=$l(Sn.bind(null,t,kt,Er),s);break}Sn(t,kt,Er);break;case 4:if(Gr(t,d),(d&4194240)===d)break;for(s=t.eventTimes,p=-1;0<d;){var b=31-Kt(d);g=1<<b,b=s[b],b>p&&(p=b),d&=~g}if(d=p,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*gw(d/1960))-d,10<d){t.timeoutHandle=$l(Sn.bind(null,t,kt,Er),d);break}Sn(t,kt,Er);break;case 5:Sn(t,kt,Er);break;default:throw Error(n(329))}}}return Nt(t,Xe()),t.callbackNode===o?fp.bind(null,t):null}function Pc(t,s){var o=yi;return t.current.memoizedState.isDehydrated&&(_n(t,s).flags|=256),t=Fo(t,s),t!==2&&(s=kt,kt=o,s!==null&&Rc(s)),t}function Rc(t){kt===null?kt=t:kt.push.apply(kt,t)}function vw(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var p=o[d],g=p.getSnapshot;p=p.value;try{if(!Gt(g(),p))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(t,s){for(s&=~Nc,s&=~Do,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Kt(s),d=1<<o;t[o]=-1,s&=~d}}function hp(t){if((Oe&6)!==0)throw Error(n(327));us();var s=Gi(t,0);if((s&1)===0)return Nt(t,Xe()),null;var o=Fo(t,s);if(t.tag!==0&&o===2){var d=ul(t);d!==0&&(s=d,o=Pc(t,d))}if(o===1)throw o=vi,_n(t,0),Gr(t,s),Nt(t,Xe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Sn(t,kt,Er),Nt(t,Xe()),null}function Oc(t,s){var o=Oe;Oe|=1;try{return t(s)}finally{Oe=o,Oe===0&&(cs=Xe()+500,po&&Fr())}}function bn(t){qr!==null&&qr.tag===0&&(Oe&6)===0&&us();var s=Oe;Oe|=1;var o=zt.transition,d=Le;try{if(zt.transition=null,Le=1,t)return t()}finally{Le=d,zt.transition=o,Oe=s,(Oe&6)===0&&Fr()}}function Ic(){Ot=ls.current,Ve(ls)}function _n(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Kx(o)),et!==null)for(o=et.return;o!==null;){var d=o;switch(Vl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fo();break;case 3:is(),Ve(St),Ve(pt),rc();break;case 5:ec(d);break;case 4:is();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Jl(d.type._context);break;case 22:case 23:Ic()}o=o.return}if(lt=t,et=t=Jr(t.current,null),ft=Ot=s,nt=0,vi=null,Nc=Do=wn=0,kt=yi=null,vn!==null){for(s=0;s<vn.length;s++)if(o=vn[s],d=o.interleaved,d!==null){o.interleaved=null;var p=d.next,g=o.pending;if(g!==null){var b=g.next;g.next=p,d.next=b}o.pending=d}vn=null}return t}function pp(t,s){do{var o=et;try{if(Gl(),jo.current=Co,Eo){for(var d=Ge.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Eo=!1}if(xn=0,at=rt=Ge=null,di=!1,fi=0,kc.current=null,o===null||o.return===null){nt=1,vi=s,et=null;break}e:{var g=t,b=o.return,C=o,R=s;if(s=ft,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=R,ee=C,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ie=Bh(b);if(ie!==null){ie.flags&=-257,Uh(ie,b,C,g,s),ie.mode&1&&Mh(g,q,s),s=ie,R=q;var ce=s.updateQueue;if(ce===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else ce.add(R);break e}else{if((s&1)===0){Mh(g,q,s),Dc();break e}R=Error(n(426))}}else if(We&&C.mode&1){var Ze=Bh(b);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Uh(Ze,b,C,g,s),ql(os(R,C));break e}}g=R=os(R,C),nt!==4&&(nt=2),yi===null?yi=[g]:yi.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Lh(g,R,s);ch(g,M);break e;case 1:C=R;var D=g.type,F=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Hr===null||!Hr.has(F)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=$h(g,C,s);ch(g,se);break e}}g=g.return}while(g!==null)}vp(o)}catch(he){s=he,et===o&&o!==null&&(et=o=o.return);continue}break}while(!0)}function mp(){var t=Io.current;return Io.current=Co,t===null?Co:t}function Dc(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||(wn&268435455)===0&&(Do&268435455)===0||Gr(lt,ft)}function Fo(t,s){var o=Oe;Oe|=2;var d=mp();(lt!==t||ft!==s)&&(Er=null,_n(t,s));do try{yw();break}catch(p){pp(t,p)}while(!0);if(Gl(),Oe=o,Io.current=d,et!==null)throw Error(n(261));return lt=null,ft=0,nt}function yw(){for(;et!==null;)gp(et)}function xw(){for(;et!==null&&!W0();)gp(et)}function gp(t){var s=wp(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,s===null?vp(t):et=s,kc.current=null}function vp(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=dw(o,s,Ot),o!==null){et=o;return}}else{if(o=fw(o,s),o!==null){o.flags&=32767,et=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,et=null;return}}if(s=s.sibling,s!==null){et=s;return}et=s=t}while(s!==null);nt===0&&(nt=5)}function Sn(t,s,o){var d=Le,p=zt.transition;try{zt.transition=null,Le=1,ww(t,s,o,d)}finally{zt.transition=p,Le=d}return null}function ww(t,s,o,d){do us();while(qr!==null);if((Oe&6)!==0)throw Error(n(327));o=t.finishedWork;var p=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=o.lanes|o.childLanes;if(ex(t,g),t===lt&&(et=lt=null,ft=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||$o||($o=!0,bp(Wi,function(){return us(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=zt.transition,zt.transition=null;var b=Le;Le=1;var C=Oe;Oe|=4,kc.current=null,pw(t,o),ap(o,t),Ux(Dl),Qi=!!Il,Dl=Il=null,t.current=o,mw(o),H0(),Oe=C,Le=b,zt.transition=g}else t.current=o;if($o&&($o=!1,qr=t,Mo=p),g=t.pendingLanes,g===0&&(Hr=null),G0(o.stateNode),Nt(t,Xe()),s!==null)for(d=t.onRecoverableError,o=0;o<s.length;o++)p=s[o],d(p.value,{componentStack:p.stack,digest:p.digest});if(Lo)throw Lo=!1,t=Ac,Ac=null,t;return(Mo&1)!==0&&t.tag!==0&&us(),g=t.pendingLanes,(g&1)!==0?t===Tc?xi++:(xi=0,Tc=t):xi=0,Fr(),null}function us(){if(qr!==null){var t=sf(Mo),s=zt.transition,o=Le;try{if(zt.transition=null,Le=16>t?16:t,qr===null)var d=!1;else{if(t=qr,qr=null,Mo=0,(Oe&6)!==0)throw Error(n(331));var p=Oe;for(Oe|=4,ae=t.current;ae!==null;){var g=ae,b=g.child;if((ae.flags&16)!==0){var C=g.deletions;if(C!==null){for(var R=0;R<C.length;R++){var q=C[R];for(ae=q;ae!==null;){var ee=ae;switch(ee.tag){case 0:case 11:case 15:gi(8,ee,g)}var re=ee.child;if(re!==null)re.return=ee,ae=re;else for(;ae!==null;){ee=ae;var Z=ee.sibling,ie=ee.return;if(rp(ee),ee===q){ae=null;break}if(Z!==null){Z.return=ie,ae=Z;break}ae=ie}}}var ce=g.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var Ze=fe.sibling;fe.sibling=null,fe=Ze}while(fe!==null)}}ae=g}}if((g.subtreeFlags&2064)!==0&&b!==null)b.return=g,ae=b;else e:for(;ae!==null;){if(g=ae,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:gi(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,ae=M;break e}ae=g.return}}var D=t.current;for(ae=D;ae!==null;){b=ae;var F=b.child;if((b.subtreeFlags&2064)!==0&&F!==null)F.return=b,ae=F;else e:for(b=D;ae!==null;){if(C=ae,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Oo(9,C)}}catch(he){Qe(C,C.return,he)}if(C===b){ae=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,ae=se;break e}ae=C.return}}if(Oe=p,Fr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Hi,t)}catch{}d=!0}return d}finally{Le=o,zt.transition=s}}return!1}function yp(t,s,o){s=os(o,s),s=Lh(t,s,1),t=Vr(t,s,1),s=_t(),t!==null&&(Vs(t,1,s),Nt(t,s))}function Qe(t,s,o){if(t.tag===3)yp(t,t,o);else for(;s!==null;){if(s.tag===3){yp(s,t,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))){t=os(o,t),t=$h(s,t,1),s=Vr(s,t,1),t=_t(),s!==null&&(Vs(s,1,t),Nt(s,t));break}}s=s.return}}function bw(t,s,o){var d=t.pingCache;d!==null&&d.delete(s),s=_t(),t.pingedLanes|=t.suspendedLanes&o,lt===t&&(ft&o)===o&&(nt===4||nt===3&&(ft&130023424)===ft&&500>Xe()-Cc?_n(t,0):Nc|=o),Nt(t,s)}function xp(t,s){s===0&&((t.mode&1)===0?s=1:(s=Ki,Ki<<=1,(Ki&130023424)===0&&(Ki=4194304)));var o=_t();t=_r(t,s),t!==null&&(Vs(t,s,o),Nt(t,o))}function _w(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),xp(t,o)}function Sw(t,s){var o=0;switch(t.tag){case 13:var d=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),xp(t,o)}var wp;wp=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||St.current)Et=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return Et=!1,uw(t,s,o);Et=(t.flags&131072)!==0}else Et=!1,We&&(s.flags&1048576)!==0&&Zf(s,go,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Po(t,s),t=s.pendingProps;var p=Xn(s,pt.current);ss(s,o),p=ic(null,s,d,t,p,o);var g=oc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,jt(d)?(g=!0,ho(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Xl(s),p.updater=Ao,s.stateNode=p,p._reactInternals=s,fc(s,d,t,o),s=gc(null,s,d,!0,g,o)):(s.tag=0,We&&g&&zl(s),bt(null,s,p,o),s=s.child),s;case 16:d=s.elementType;e:{switch(Po(t,s),t=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=Ew(d),t=Yt(d,t),p){case 0:s=mc(null,s,d,t,o);break e;case 1:s=qh(null,s,d,t,o);break e;case 11:s=Fh(null,s,d,t,o);break e;case 14:s=zh(null,s,d,Yt(d.type,t),o);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Yt(d,p),mc(t,s,d,p,o);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Yt(d,p),qh(t,s,d,p,o);case 3:e:{if(Kh(s),t===null)throw Error(n(387));d=s.pendingProps,g=s.memoizedState,p=g.element,lh(t,s),_o(s,d,null,o);var b=s.memoizedState;if(d=b.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=os(Error(n(423)),s),s=Gh(t,s,d,o,p);break e}else if(d!==p){p=os(Error(n(424)),s),s=Gh(t,s,d,o,p);break e}else for(Rt=Mr(s.stateNode.containerInfo.firstChild),Pt=s,We=!0,Jt=null,o=oh(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ts(),d===p){s=jr(t,s,o);break e}bt(t,s,d,o)}s=s.child}return s;case 5:return dh(s),t===null&&Hl(s),d=s.type,p=s.pendingProps,g=t!==null?t.memoizedProps:null,b=p.children,Ll(d,p)?b=null:g!==null&&Ll(d,g)&&(s.flags|=32),Hh(t,s),bt(t,s,b,o),s.child;case 6:return t===null&&Hl(s),null;case 13:return Jh(t,s,o);case 4:return Zl(s,s.stateNode.containerInfo),d=s.pendingProps,t===null?s.child=rs(s,null,d,o):bt(t,s,d,o),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Yt(d,p),Fh(t,s,d,p,o);case 7:return bt(t,s,s.pendingProps,o),s.child;case 8:return bt(t,s,s.pendingProps.children,o),s.child;case 12:return bt(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,b=p.value,Be(xo,d._currentValue),d._currentValue=b,g!==null)if(Gt(g.value,b)){if(g.children===p.children&&!St.current){s=jr(t,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){b=g.child;for(var R=C.firstContext;R!==null;){if(R.context===d){if(g.tag===1){R=Sr(-1,o&-o),R.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?R.next=R:(R.next=ee.next,ee.next=R),q.pending=R}}g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Yl(g.return,o,s),C.lanes|=o;break}R=R.next}}else if(g.tag===10)b=g.type===s.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(n(341));b.lanes|=o,C=b.alternate,C!==null&&(C.lanes|=o),Yl(b,o,s),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}bt(t,s,p.children,o),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,ss(s,o),p=Ut(p),d=d(p),s.flags|=1,bt(t,s,d,o),s.child;case 14:return d=s.type,p=Yt(d,s.pendingProps),p=Yt(d.type,p),zh(t,s,d,p,o);case 15:return Vh(t,s,s.type,s.pendingProps,o);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Yt(d,p),Po(t,s),s.tag=1,jt(d)?(t=!0,ho(s)):t=!1,ss(s,o),Ih(s,d,p),fc(s,d,p,o),gc(null,s,d,!0,t,o);case 19:return Qh(t,s,o);case 22:return Wh(t,s,o)}throw Error(n(156,s.tag))};function bp(t,s){return Zd(t,s)}function jw(t,s,o,d){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,s,o,d){return new jw(t,s,o,d)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ew(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K)return 11;if(t===W)return 14}return 2}function Jr(t,s){var o=t.alternate;return o===null?(o=Vt(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function zo(t,s,o,d,p,g){var b=2;if(d=t,typeof t=="function")Lc(t)&&(b=1);else if(typeof t=="string")b=5;else e:switch(t){case U:return jn(o.children,p,g,s);case N:b=8,p|=8;break;case B:return t=Vt(12,o,s,p|2),t.elementType=B,t.lanes=g,t;case O:return t=Vt(13,o,s,p),t.elementType=O,t.lanes=g,t;case G:return t=Vt(19,o,s,p),t.elementType=G,t.lanes=g,t;case Q:return Vo(o,p,g,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:b=10;break e;case te:b=9;break e;case K:b=11;break e;case W:b=14;break e;case z:b=16,d=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=Vt(b,o,s,p),s.elementType=t,s.type=d,s.lanes=g,s}function jn(t,s,o,d){return t=Vt(7,t,d,s),t.lanes=o,t}function Vo(t,s,o,d){return t=Vt(22,t,d,s),t.elementType=Q,t.lanes=o,t.stateNode={isHidden:!1},t}function $c(t,s,o){return t=Vt(6,t,null,s),t.lanes=o,t}function Mc(t,s,o){return s=Vt(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function kw(t,s,o,d,p){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Bc(t,s,o,d,p,g,b,C,R){return t=new kw(t,s,o,C,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vt(3,null,null,s),t.current=g,g.stateNode=t,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xl(g),t}function Nw(t,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:d==null?null:""+d,children:t,containerInfo:s,implementation:o}}function _p(t){if(!t)return Ur;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(jt(o))return Yf(t,o,s)}return s}function Sp(t,s,o,d,p,g,b,C,R){return t=Bc(o,d,!0,t,p,g,b,C,R),t.context=_p(null),o=t.current,d=_t(),p=Kr(o),g=Sr(d,p),g.callback=s??null,Vr(o,g,p),t.current.lanes=p,Vs(t,p,d),Nt(t,d),t}function Wo(t,s,o,d){var p=s.current,g=_t(),b=Kr(p);return o=_p(o),s.context===null?s.context=o:s.pendingContext=o,s=Sr(g,b),s.payload={element:t},d=d===void 0?null:d,d!==null&&(s.callback=d),t=Vr(p,s,b),t!==null&&(Zt(t,p,b,g),bo(t,p,b)),b}function Ho(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Uc(t,s){jp(t,s),(t=t.alternate)&&jp(t,s)}function Cw(){return null}var Ep=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}qo.prototype.render=Fc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));Wo(t,s,null,null)},qo.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;bn(function(){Wo(null,t,null,null)}),s[yr]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var s=lf();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Dr.length&&s!==0&&s<Dr[o].priority;o++);Dr.splice(o,0,t),o===0&&df(t)}};function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ko(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kp(){}function Aw(t,s,o,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var q=Ho(b);g.call(q)}}var b=Sp(s,d,t,0,null,!1,!1,"",kp);return t._reactRootContainer=b,t[yr]=b.current,ni(t.nodeType===8?t.parentNode:t),bn(),b}for(;p=t.lastChild;)t.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var q=Ho(R);C.call(q)}}var R=Bc(t,0,!1,null,null,!1,!1,"",kp);return t._reactRootContainer=R,t[yr]=R.current,ni(t.nodeType===8?t.parentNode:t),bn(function(){Wo(s,R,o,d)}),R}function Go(t,s,o,d,p){var g=o._reactRootContainer;if(g){var b=g;if(typeof p=="function"){var C=p;p=function(){var R=Ho(b);C.call(R)}}Wo(s,b,t,p)}else b=Aw(o,s,t,p,d);return Ho(b)}of=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=zs(s.pendingLanes);o!==0&&(fl(s,o|1),Nt(s,Xe()),(Oe&6)===0&&(cs=Xe()+500,Fr()))}break;case 13:bn(function(){var d=_r(t,1);if(d!==null){var p=_t();Zt(d,t,1,p)}}),Uc(t,1)}},hl=function(t){if(t.tag===13){var s=_r(t,134217728);if(s!==null){var o=_t();Zt(s,t,134217728,o)}Uc(t,134217728)}},af=function(t){if(t.tag===13){var s=Kr(t),o=_r(t,s);if(o!==null){var d=_t();Zt(o,t,s,d)}Uc(t,s)}},lf=function(){return Le},cf=function(t,s){var o=Le;try{return Le=t,s()}finally{Le=o}},il=function(t,s,o){switch(s){case"input":if(dn(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==t&&d.form===t.form){var p=uo(d);if(!p)throw Error(n(90));$e(d),dn(d,p)}}}break;case"textarea":$d(t,o);break;case"select":s=o.value,s!=null&&Un(t,!!o.multiple,s,!1)}},qd=Oc,Kd=bn;var Tw={usingClientEntryPoint:!1,Events:[oi,Yn,uo,Wd,Hd,Oc]},wi={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pw={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qd(t),t===null?null:t.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Hi=Jo.inject(Pw),lr=Jo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw,Ct.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(s))throw Error(n(200));return Nw(t,s,null,o)},Ct.createRoot=function(t,s){if(!zc(t))throw Error(n(299));var o=!1,d="",p=Ep;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Bc(t,1,!1,null,null,o,!1,d,p),t[yr]=s.current,ni(t.nodeType===8?t.parentNode:t),new Fc(s)},Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Qd(s),t=t===null?null:t.stateNode,t},Ct.flushSync=function(t){return bn(t)},Ct.hydrate=function(t,s,o){if(!Ko(s))throw Error(n(200));return Go(null,t,s,!0,o)},Ct.hydrateRoot=function(t,s,o){if(!zc(t))throw Error(n(405));var d=o!=null&&o.hydratedSources||null,p=!1,g="",b=Ep;if(o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),s=Sp(s,null,t,1,o??null,p,!1,g,b),t[yr]=s.current,ni(t),d)for(t=0;t<d.length;t++)o=d[t],p=o._getVersion,p=p(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,p]:s.mutableSourceEagerHydrationData.push(o,p);return new qo(s)},Ct.render=function(t,s,o){if(!Ko(s))throw Error(n(200));return Go(null,t,s,!1,o)},Ct.unmountComponentAtNode=function(t){if(!Ko(t))throw Error(n(40));return t._reactRootContainer?(bn(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1},Ct.unstable_batchedUpdates=Oc,Ct.unstable_renderSubtreeIntoContainer=function(t,s,o,d){if(!Ko(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Go(t,s,o,!1,d)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Ip;function Zm(){if(Ip)return Hc.exports;Ip=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hc.exports=Bw(),Hc.exports}var Dp;function Uw(){if(Dp)return Yo;Dp=1;var r=Zm();return Yo.createRoot=r.createRoot,Yo.hydrateRoot=r.hydrateRoot,Yo}var Fw=Uw(),y=$a();const Zr=Wu(y),Hu=Xm({__proto__:null,default:Zr},[y]);function Lp(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function As(...r){return e=>{let n=!1;const i=r.map(a=>{const l=Lp(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Lp(r[a],null)}}}}function qe(...r){return y.useCallback(As(...r),r)}var zw=Symbol.for("react.lazy"),ya=Hu[" use ".trim().toString()];function Vw(r){return typeof r=="object"&&r!==null&&"then"in r}function eg(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===zw&&"_payload"in r&&Vw(r._payload)}function qu(r){const e=Ww(r),n=y.forwardRef((i,a)=>{let{children:l,...u}=i;eg(l)&&typeof ya=="function"&&(l=ya(l._payload));const f=y.Children.toArray(l),h=f.find(qw);if(h){const m=h.props.children,v=f.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return c.jsx(e,{...u,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,v):null})}return c.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}var tg=qu("Slot");function Ww(r){const e=y.forwardRef((n,i)=>{let{children:a,...l}=n;if(eg(a)&&typeof ya=="function"&&(a=ya(a._payload)),y.isValidElement(a)){const u=Gw(a),f=Kw(l,a.props);return a.type!==y.Fragment&&(f.ref=i?As(i,u):u),y.cloneElement(a,f)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Hw=Symbol("radix.slottable");function qw(r){return y.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Hw}function Kw(r,e){const n={...e};for(const i in e){const a=r[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function Gw(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function rg(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=rg(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ng(){for(var r,e,n=0,i="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=rg(r))&&(i&&(i+=" "),i+=e);return i}const $p=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Mp=ng,sg=(r,e)=>n=>{var i;if(e?.variants==null)return Mp(r,n?.class,n?.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const v=n?.[m],x=l?.[m];if(v===null)return null;const w=$p(v)||$p(x);return a[m][w]}),f=n&&Object.entries(n).reduce((m,v)=>{let[x,w]=v;return w===void 0||(m[x]=w),m},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,v)=>{let{class:x,className:w,...S}=v;return Object.entries(S).every(E=>{let[_,j]=E;return Array.isArray(j)?j.includes({...l,...f}[_]):{...l,...f}[_]===j})?[...m,x,w]:m},[]);return Mp(r,u,h,n?.class,n?.className)},Jw=(r,e)=>{const n=new Array(r.length+e.length);for(let i=0;i<r.length;i++)n[i]=r[i];for(let i=0;i<e.length;i++)n[r.length+i]=e[i];return n},Yw=(r,e)=>({classGroupId:r,validator:e}),ig=(r=new Map,e=null,n)=>({nextPart:r,validators:e,classGroupId:n}),xa="-",Bp=[],Qw="arbitrary..",Xw=r=>{const e=eb(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Zw(u);const f=u.split(xa),h=f[0]===""&&f.length>1?1:0;return og(f,h,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const h=i[u],m=n[u];return h?m?Jw(m,h):h:m||Bp}return n[u]||Bp}}},og=(r,e,n)=>{if(r.length-e===0)return n.classGroupId;const a=r[e],l=n.nextPart.get(a);if(l){const m=og(r,e+1,l);if(m)return m}const u=n.validators;if(u===null)return;const f=e===0?r.join(xa):r.slice(e).join(xa),h=u.length;for(let m=0;m<h;m++){const v=u[m];if(v.validator(f))return v.classGroupId}},Zw=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Qw+i:void 0})(),eb=r=>{const{theme:e,classGroups:n}=r;return tb(n,e)},tb=(r,e)=>{const n=ig();for(const i in r){const a=r[i];Ku(a,n,i,e)}return n},Ku=(r,e,n,i)=>{const a=r.length;for(let l=0;l<a;l++){const u=r[l];rb(u,e,n,i)}},rb=(r,e,n,i)=>{if(typeof r=="string"){nb(r,e,n);return}if(typeof r=="function"){sb(r,e,n,i);return}ib(r,e,n,i)},nb=(r,e,n)=>{const i=r===""?e:ag(e,r);i.classGroupId=n},sb=(r,e,n,i)=>{if(ob(r)){Ku(r(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Yw(n,r))},ib=(r,e,n,i)=>{const a=Object.entries(r),l=a.length;for(let u=0;u<l;u++){const[f,h]=a[u];Ku(h,ag(e,f),n,i)}},ag=(r,e)=>{let n=r;const i=e.split(xa),a=i.length;for(let l=0;l<a;l++){const u=i[l];let f=n.nextPart.get(u);f||(f=ig(),n.nextPart.set(u,f)),n=f}return n},ob=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,ab=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>r&&(e=0,i=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=i[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},xu="!",Up=":",lb=[],Fp=(r,e,n,i,a)=>({modifiers:r,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),cb=r=>{const{prefix:e,experimentalParseClassName:n}=r;let i=a=>{const l=[];let u=0,f=0,h=0,m;const v=a.length;for(let _=0;_<v;_++){const j=a[_];if(u===0&&f===0){if(j===Up){l.push(a.slice(h,_)),h=_+1;continue}if(j==="/"){m=_;continue}}j==="["?u++:j==="]"?u--:j==="("?f++:j===")"&&f--}const x=l.length===0?a:a.slice(h);let w=x,S=!1;x.endsWith(xu)?(w=x.slice(0,-1),S=!0):x.startsWith(xu)&&(w=x.slice(1),S=!0);const E=m&&m>h?m-h:void 0;return Fp(l,S,w,E)};if(e){const a=e+Up,l=i;i=u=>u.startsWith(a)?l(u.slice(a.length)):Fp(lb,!1,u,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},ub=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",h=e.has(u);f||h?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(u)):a.push(u)}return a.length>0&&(a.sort(),i.push(...a)),i}},db=r=>({cache:ab(r.cacheSize),parseClassName:cb(r),sortModifiers:ub(r),...Xw(r)}),fb=/\s+/,hb=(r,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=r.trim().split(fb);let h="";for(let m=f.length-1;m>=0;m-=1){const v=f[m],{isExternal:x,modifiers:w,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:_}=n(v);if(x){h=v+(h.length>0?" "+h:h);continue}let j=!!_,T=i(j?E.substring(0,_):E);if(!T){if(!j){h=v+(h.length>0?" "+h:h);continue}if(T=i(E),!T){h=v+(h.length>0?" "+h:h);continue}j=!1}const k=w.length===0?"":w.length===1?w[0]:l(w).join(":"),A=S?k+xu:k,L=A+T;if(u.indexOf(L)>-1)continue;u.push(L);const H=a(T,j);for(let V=0;V<H.length;++V){const U=H[V];u.push(A+U)}h=v+(h.length>0?" "+h:h)}return h},pb=(...r)=>{let e=0,n,i,a="";for(;e<r.length;)(n=r[e++])&&(i=lg(n))&&(a&&(a+=" "),a+=i);return a},lg=r=>{if(typeof r=="string")return r;let e,n="";for(let i=0;i<r.length;i++)r[i]&&(e=lg(r[i]))&&(n&&(n+=" "),n+=e);return n},mb=(r,...e)=>{let n,i,a,l;const u=h=>{const m=e.reduce((v,x)=>x(v),r());return n=db(m),i=n.cache.get,a=n.cache.set,l=f,f(h)},f=h=>{const m=i(h);if(m)return m;const v=hb(h,n);return a(h,v),v};return l=u,(...h)=>l(pb(...h))},gb=[],st=r=>{const e=n=>n[r]||gb;return e.isThemeGetter=!0,e},cg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ug=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vb=/^\d+\/\d+$/,yb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_b=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=r=>vb.test(r),Ne=r=>!!r&&!Number.isNaN(Number(r)),Qr=r=>!!r&&Number.isInteger(Number(r)),Gc=r=>r.endsWith("%")&&Ne(r.slice(0,-1)),kr=r=>yb.test(r),Sb=()=>!0,jb=r=>xb.test(r)&&!wb.test(r),dg=()=>!1,Eb=r=>bb.test(r),kb=r=>_b.test(r),Nb=r=>!ue(r)&&!de(r),Cb=r=>Ts(r,pg,dg),ue=r=>cg.test(r),En=r=>Ts(r,mg,jb),Jc=r=>Ts(r,Ob,Ne),zp=r=>Ts(r,fg,dg),Ab=r=>Ts(r,hg,kb),Qo=r=>Ts(r,gg,Eb),de=r=>ug.test(r),_i=r=>Ps(r,mg),Tb=r=>Ps(r,Ib),Vp=r=>Ps(r,fg),Pb=r=>Ps(r,pg),Rb=r=>Ps(r,hg),Xo=r=>Ps(r,gg,!0),Ts=(r,e,n)=>{const i=cg.exec(r);return i?i[1]?e(i[1]):n(i[2]):!1},Ps=(r,e,n=!1)=>{const i=ug.exec(r);return i?i[1]?e(i[1]):n:!1},fg=r=>r==="position"||r==="percentage",hg=r=>r==="image"||r==="url",pg=r=>r==="length"||r==="size"||r==="bg-size",mg=r=>r==="length",Ob=r=>r==="number",Ib=r=>r==="family-name",gg=r=>r==="shadow",Db=()=>{const r=st("color"),e=st("font"),n=st("text"),i=st("font-weight"),a=st("tracking"),l=st("leading"),u=st("breakpoint"),f=st("container"),h=st("spacing"),m=st("radius"),v=st("shadow"),x=st("inset-shadow"),w=st("text-shadow"),S=st("drop-shadow"),E=st("blur"),_=st("perspective"),j=st("aspect"),T=st("ease"),k=st("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...L(),de,ue],V=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],N=()=>[de,ue,h],B=()=>[ds,"full","auto",...N()],J=()=>[Qr,"none","subgrid",de,ue],te=()=>["auto",{span:["full",Qr,de,ue]},Qr,de,ue],K=()=>[Qr,"auto",de,ue],O=()=>["auto","min","max","fr",de,ue],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...N()],Q=()=>[ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],I=()=>[r,de,ue],$=()=>[...L(),Vp,zp,{position:[de,ue]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",Pb,Cb,{size:[de,ue]}],Y=()=>[Gc,_i,En],oe=()=>["","none","full",m,de,ue],le=()=>["",Ne,_i,En],be=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Ne,Gc,Vp,zp],ve=()=>["","none",E,de,ue],Se=()=>["none",Ne,de,ue],je=()=>["none",Ne,de,ue],Re=()=>[Ne,de,ue],$e=()=>[ds,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[kr],breakpoint:[kr],color:[Sb],container:[kr],"drop-shadow":[kr],ease:["in","out","in-out"],font:[Nb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[kr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[kr],shadow:[kr],spacing:["px",Ne],text:[kr],"text-shadow":[kr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ds,ue,de,j]}],container:["container"],columns:[{columns:[Ne,ue,de,f]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Qr,"auto",de,ue]}],basis:[{basis:[ds,"full","auto",f,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,ds,"auto","initial","none",ue]}],grow:[{grow:["",Ne,de,ue]}],shrink:[{shrink:["",Ne,de,ue]}],order:[{order:[Qr,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,_i,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,de,Jc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gc,ue]}],"font-family":[{font:[Tb,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,de,ue]}],"line-clamp":[{"line-clamp":[Ne,"none",de,Jc]}],leading:[{leading:[l,...N()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",de,En]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Ne,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qr,de,ue],radial:["",de,ue],conic:[Qr,de,ue]},Rb,Ab]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,de,ue]}],"outline-w":[{outline:["",Ne,_i,En]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",v,Xo,Qo]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",x,Xo,Qo]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Ne,En]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",w,Xo,Qo]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Ne,de,ue]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:ve()}],brightness:[{brightness:[Ne,de,ue]}],contrast:[{contrast:[Ne,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",S,Xo,Qo]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Ne,de,ue]}],"hue-rotate":[{"hue-rotate":[Ne,de,ue]}],invert:[{invert:["",Ne,de,ue]}],saturate:[{saturate:[Ne,de,ue]}],sepia:[{sepia:["",Ne,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",Ne,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",de,ue]}],ease:[{ease:["linear","initial",T,de,ue]}],delay:[{delay:[Ne,de,ue]}],animate:[{animate:["none",k,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,de,ue]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Ne,_i,En,Jc]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Lb=mb(Db);function Ae(...r){return Lb(ng(r))}const Gu=sg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ye({className:r,variant:e,size:n,asChild:i=!1,...a}){const l=i?tg:"button";return c.jsx(l,{"data-slot":"button",className:Ae(Gu({variant:e,size:n,className:r})),...a})}function Me({className:r,type:e,...n}){return c.jsx("input",{type:e,"data-slot":"input",className:Ae("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...n})}var Ii=Zm();const $b=Wu(Ii);var Mb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bb=Mb.reduce((r,e)=>{const n=qu(`Primitive.${e}`),i=y.forwardRef((a,l)=>{const{asChild:u,...f}=a,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{}),Ub="Label",vg=y.forwardRef((r,e)=>c.jsx(Bb.label,{...r,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(r.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vg.displayName=Ub;var Fb=vg;function ke({className:r,...e}){return c.jsx(Fb,{"data-slot":"label",className:Ae("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function xt({className:r,...e}){return c.jsx("div",{"data-slot":"card",className:Ae("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...e})}function At({className:r,...e}){return c.jsx("div",{"data-slot":"card-header",className:Ae("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function sr({className:r,...e}){return c.jsx("h4",{"data-slot":"card-title",className:Ae("leading-none",r),...e})}function pa({className:r,...e}){return c.jsx("p",{"data-slot":"card-description",className:Ae("text-muted-foreground",r),...e})}function wt({className:r,...e}){return c.jsx("div",{"data-slot":"card-content",className:Ae("px-6 [&:last-child]:pb-6",r),...e})}function Ju({className:r,...e}){return c.jsx("div",{"data-slot":"card-footer",className:Ae("flex items-center px-6 pb-6 [.border-t]:pt-6",r),...e})}function Pe(r,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(r?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function zb(r,e){const n=y.createContext(e),i=l=>{const{children:u,...f}=l,h=y.useMemo(()=>f,Object.values(f));return c.jsx(n.Provider,{value:h,children:u})};i.displayName=r+"Provider";function a(l){const u=y.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[i,a]}function $n(r,e=[]){let n=[];function i(l,u){const f=y.createContext(u),h=n.length;n=[...n,u];const m=x=>{const{scope:w,children:S,...E}=x,_=w?.[r]?.[h]||f,j=y.useMemo(()=>E,Object.values(E));return c.jsx(_.Provider,{value:j,children:S})};m.displayName=l+"Provider";function v(x,w){const S=w?.[r]?.[h]||f,E=y.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const a=()=>{const l=n.map(u=>y.createContext(u));return function(f){const h=f?.[r]||l;return y.useMemo(()=>({[`__scope${r}`]:{...f,[r]:h}}),[f,h])}};return a.scopeName=r,[i,Vb(a,...e)]}function Vb(...r){const e=r[0];if(r.length===1)return e;const n=()=>{const i=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...f,...x}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Wp(r){const e=Wb(r),n=y.forwardRef((i,a)=>{const{children:l,...u}=i,f=y.Children.toArray(l),h=f.find(qb);if(h){const m=h.props.children,v=f.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return c.jsx(e,{...u,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,v):null})}return c.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}function Wb(r){const e=y.forwardRef((n,i)=>{const{children:a,...l}=n;if(y.isValidElement(a)){const u=Gb(a),f=Kb(l,a.props);return a.type!==y.Fragment&&(f.ref=i?As(i,u):u),y.cloneElement(a,f)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Hb=Symbol("radix.slottable");function qb(r){return y.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Hb}function Kb(r,e){const n={...e};for(const i in e){const a=r[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function Gb(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function yg(r){const e=r+"CollectionProvider",[n,i]=$n(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:j,children:T}=_,k=Zr.useRef(null),A=Zr.useRef(new Map).current;return c.jsx(a,{scope:j,itemMap:A,collectionRef:k,children:T})};u.displayName=e;const f=r+"CollectionSlot",h=Wp(f),m=Zr.forwardRef((_,j)=>{const{scope:T,children:k}=_,A=l(f,T),L=qe(j,A.collectionRef);return c.jsx(h,{ref:L,children:k})});m.displayName=f;const v=r+"CollectionItemSlot",x="data-radix-collection-item",w=Wp(v),S=Zr.forwardRef((_,j)=>{const{scope:T,children:k,...A}=_,L=Zr.useRef(null),H=qe(j,L),V=l(v,T);return Zr.useEffect(()=>(V.itemMap.set(L,{ref:L,...A}),()=>void V.itemMap.delete(L))),c.jsx(w,{[x]:"",ref:H,children:k})});S.displayName=v;function E(_){const j=l(r+"CollectionConsumer",_);return Zr.useCallback(()=>{const k=j.collectionRef.current;if(!k)return[];const A=Array.from(k.querySelectorAll(`[${x}]`));return Array.from(j.itemMap.values()).sort((V,U)=>A.indexOf(V.ref.current)-A.indexOf(U.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},E,i]}var ot=globalThis?.document?y.useLayoutEffect:()=>{},Jb=Hu[" useId ".trim().toString()]||(()=>{}),Yb=0;function rn(r){const[e,n]=y.useState(Jb());return ot(()=>{n(i=>i??String(Yb++))},[r]),r||(e?`radix-${e}`:"")}function Qb(r){const e=Xb(r),n=y.forwardRef((i,a)=>{const{children:l,...u}=i,f=y.Children.toArray(l),h=f.find(e_);if(h){const m=h.props.children,v=f.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return c.jsx(e,{...u,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,v):null})}return c.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}function Xb(r){const e=y.forwardRef((n,i)=>{const{children:a,...l}=n;if(y.isValidElement(a)){const u=r_(a),f=t_(l,a.props);return a.type!==y.Fragment&&(f.ref=i?As(i,u):u),y.cloneElement(a,f)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Zb=Symbol("radix.slottable");function e_(r){return y.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Zb}function t_(r,e){const n={...e};for(const i in e){const a=r[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function r_(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var n_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=n_.reduce((r,e)=>{const n=Qb(`Primitive.${e}`),i=y.forwardRef((a,l)=>{const{asChild:u,...f}=a,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function s_(r,e){r&&Ii.flushSync(()=>r.dispatchEvent(e))}function Cr(r){const e=y.useRef(r);return y.useEffect(()=>{e.current=r}),y.useMemo(()=>(...n)=>e.current?.(...n),[])}var i_=Hu[" useInsertionEffect ".trim().toString()]||ot;function Ni({prop:r,defaultProp:e,onChange:n=()=>{},caller:i}){const[a,l,u]=o_({defaultProp:e,onChange:n}),f=r!==void 0,h=f?r:a;{const v=y.useRef(r!==void 0);y.useEffect(()=>{const x=v.current;x!==f&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const m=y.useCallback(v=>{if(f){const x=a_(v)?v(r):v;x!==r&&u.current?.(x)}else l(v)},[f,r,l,u]);return[h,m]}function o_({defaultProp:r,onChange:e}){const[n,i]=y.useState(r),a=y.useRef(n),l=y.useRef(e);return i_(()=>{l.current=e},[e]),y.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,i,l]}function a_(r){return typeof r=="function"}var l_=y.createContext(void 0);function Yu(r){const e=y.useContext(l_);return r||e||"ltr"}var Yc="rovingFocusGroup.onEntryFocus",c_={bubbles:!1,cancelable:!0},Di="RovingFocusGroup",[wu,xg,u_]=yg(Di),[d_,wg]=$n(Di,[u_]),[f_,h_]=d_(Di),bg=y.forwardRef((r,e)=>c.jsx(wu.Provider,{scope:r.__scopeRovingFocusGroup,children:c.jsx(wu.Slot,{scope:r.__scopeRovingFocusGroup,children:c.jsx(p_,{...r,ref:e})})}));bg.displayName=Di;var p_=y.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...x}=r,w=y.useRef(null),S=qe(e,w),E=Yu(l),[_,j]=Ni({prop:u,defaultProp:f??null,onChange:h,caller:Di}),[T,k]=y.useState(!1),A=Cr(m),L=xg(n),H=y.useRef(!1),[V,U]=y.useState(0);return y.useEffect(()=>{const N=w.current;if(N)return N.addEventListener(Yc,A),()=>N.removeEventListener(Yc,A)},[A]),c.jsx(f_,{scope:n,orientation:i,dir:E,loop:a,currentTabStopId:_,onItemFocus:y.useCallback(N=>j(N),[j]),onItemShiftTab:y.useCallback(()=>k(!0),[]),onFocusableItemAdd:y.useCallback(()=>U(N=>N+1),[]),onFocusableItemRemove:y.useCallback(()=>U(N=>N-1),[]),children:c.jsx(De.div,{tabIndex:T||V===0?-1:0,"data-orientation":i,...x,ref:S,style:{outline:"none",...r.style},onMouseDown:Pe(r.onMouseDown,()=>{H.current=!0}),onFocus:Pe(r.onFocus,N=>{const B=!H.current;if(N.target===N.currentTarget&&B&&!T){const J=new CustomEvent(Yc,c_);if(N.currentTarget.dispatchEvent(J),!J.defaultPrevented){const te=L().filter(z=>z.focusable),K=te.find(z=>z.active),O=te.find(z=>z.id===_),W=[K,O,...te].filter(Boolean).map(z=>z.ref.current);jg(W,v)}}H.current=!1}),onBlur:Pe(r.onBlur,()=>k(!1))})})}),_g="RovingFocusGroupItem",Sg=y.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:a=!1,tabStopId:l,children:u,...f}=r,h=rn(),m=l||h,v=h_(_g,n),x=v.currentTabStopId===m,w=xg(n),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:_}=v;return y.useEffect(()=>{if(i)return S(),()=>E()},[i,S,E]),c.jsx(wu.ItemSlot,{scope:n,id:m,focusable:i,active:a,children:c.jsx(De.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...f,ref:e,onMouseDown:Pe(r.onMouseDown,j=>{i?v.onItemFocus(m):j.preventDefault()}),onFocus:Pe(r.onFocus,()=>v.onItemFocus(m)),onKeyDown:Pe(r.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){v.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const T=v_(j,v.orientation,v.dir);if(T!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let A=w().filter(L=>L.focusable).map(L=>L.ref.current);if(T==="last")A.reverse();else if(T==="prev"||T==="next"){T==="prev"&&A.reverse();const L=A.indexOf(j.currentTarget);A=v.loop?y_(A,L+1):A.slice(L+1)}setTimeout(()=>jg(A))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:_!=null}):u})})});Sg.displayName=_g;var m_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g_(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function v_(r,e,n){const i=g_(r.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return m_[i]}function jg(r,e=!1){const n=document.activeElement;for(const i of r)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function y_(r,e){return r.map((n,i)=>r[(e+i)%r.length])}var x_=bg,w_=Sg;function b_(r,e){return y.useReducer((n,i)=>e[n][i]??n,r)}var Li=r=>{const{present:e,children:n}=r,i=__(e),a=typeof n=="function"?n({present:i.isPresent}):y.Children.only(n),l=qe(i.ref,S_(a));return typeof n=="function"||i.isPresent?y.cloneElement(a,{ref:l}):null};Li.displayName="Presence";function __(r){const[e,n]=y.useState(),i=y.useRef(null),a=y.useRef(r),l=y.useRef("none"),u=r?"mounted":"unmounted",[f,h]=b_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=Zo(i.current);l.current=f==="mounted"?m:"none"},[f]),ot(()=>{const m=i.current,v=a.current;if(v!==r){const w=l.current,S=Zo(m);r?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,h]),ot(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,x=S=>{const _=Zo(i.current).includes(CSS.escape(S.animationName));if(S.target===e&&_&&(h("ANIMATION_END"),!a.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},w=S=>{S.target===e&&(l.current=Zo(i.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:y.useCallback(m=>{i.current=m?getComputedStyle(m):null,n(m)},[])}}function Zo(r){return r?.animationName||"none"}function S_(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var Ma="Tabs",[j_]=$n(Ma,[wg]),Eg=wg(),[E_,Qu]=j_(Ma),kg=y.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:h="automatic",...m}=r,v=Yu(f),[x,w]=Ni({prop:i,onChange:a,defaultProp:l??"",caller:Ma});return c.jsx(E_,{scope:n,baseId:rn(),value:x,onValueChange:w,orientation:u,dir:v,activationMode:h,children:c.jsx(De.div,{dir:v,"data-orientation":u,...m,ref:e})})});kg.displayName=Ma;var Ng="TabsList",Cg=y.forwardRef((r,e)=>{const{__scopeTabs:n,loop:i=!0,...a}=r,l=Qu(Ng,n),u=Eg(n);return c.jsx(x_,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:c.jsx(De.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});Cg.displayName=Ng;var Ag="TabsTrigger",Tg=y.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,disabled:a=!1,...l}=r,u=Qu(Ag,n),f=Eg(n),h=Og(u.baseId,i),m=Ig(u.baseId,i),v=i===u.value;return c.jsx(w_,{asChild:!0,...f,focusable:!a,active:v,children:c.jsx(De.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...l,ref:e,onMouseDown:Pe(r.onMouseDown,x=>{!a&&x.button===0&&x.ctrlKey===!1?u.onValueChange(i):x.preventDefault()}),onKeyDown:Pe(r.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(i)}),onFocus:Pe(r.onFocus,()=>{const x=u.activationMode!=="manual";!v&&!a&&x&&u.onValueChange(i)})})})});Tg.displayName=Ag;var Pg="TabsContent",Rg=y.forwardRef((r,e)=>{const{__scopeTabs:n,value:i,forceMount:a,children:l,...u}=r,f=Qu(Pg,n),h=Og(f.baseId,i),m=Ig(f.baseId,i),v=i===f.value,x=y.useRef(v);return y.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),c.jsx(Li,{present:a||v,children:({present:w})=>c.jsx(De.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:m,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:x.current?"0s":void 0},children:w&&l})})});Rg.displayName=Pg;function Og(r,e){return`${r}-trigger-${e}`}function Ig(r,e){return`${r}-content-${e}`}var k_=kg,N_=Cg,C_=Tg,A_=Rg;function T_({className:r,...e}){return c.jsx(k_,{"data-slot":"tabs",className:Ae("flex flex-col gap-2",r),...e})}function P_({className:r,...e}){return c.jsx(N_,{"data-slot":"tabs-list",className:Ae("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function Hp({className:r,...e}){return c.jsx(C_,{"data-slot":"tabs-trigger",className:Ae("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function qp({className:r,...e}){return c.jsx(A_,{"data-slot":"tabs-content",className:Ae("flex-1 outline-none",r),...e})}var bu=function(r,e){return bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},bu(r,e)};function Dg(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bu(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ht=function(){return Ht=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ht.apply(this,arguments)};function an(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n}function Lg(r,e,n,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,e,n,i);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(l=(a<3?u(l):a>3?u(e,n,l):u(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function $g(r,e){return function(n,i){e(n,i,r)}}function Mg(r,e,n,i,a,l){function u(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var f=i.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&r?i.static?r:r.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),x,w=!1,S=n.length-1;S>=0;S--){var E={};for(var _ in i)E[_]=_==="access"?{}:i[_];for(var _ in i.access)E.access[_]=i.access[_];E.addInitializer=function(T){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(T||null))};var j=(0,n[S])(f==="accessor"?{get:v.get,set:v.set}:v[h],E);if(f==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(x=u(j.get))&&(v.get=x),(x=u(j.set))&&(v.set=x),(x=u(j.init))&&a.unshift(x)}else(x=u(j))&&(f==="field"?a.unshift(x):v[h]=x)}m&&Object.defineProperty(m,i.name,v),w=!0}function Bg(r,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(r,n):e[a].call(r);return i?n:void 0}function Ug(r){return typeof r=="symbol"?r:"".concat(r)}function Fg(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function zg(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function pe(r,e,n,i){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(i.next(v))}catch(x){u(x)}}function h(v){try{m(i.throw(v))}catch(x){u(x)}}function m(v){v.done?l(v.value):a(v.value).then(f,h)}m((i=i.apply(r,e||[])).next())})}function Vg(r,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(v){return h([m,v])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(r,n)}catch(v){m=[6,v],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ba=Object.create?(function(r,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,i,a)}):(function(r,e,n,i){i===void 0&&(i=n),r[i]=e[n]});function Wg(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ba(e,r,n)}function wa(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],i=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xu(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,l=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(f){u={error:f}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return l}function Hg(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Xu(arguments[e]));return r}function qg(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<n;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,a++)i[a]=l[u];return i}function Zu(r,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return r.concat(l||Array.prototype.slice.call(e))}function Ns(r){return this instanceof Ns?(this.v=r,this):new Ns(r)}function Kg(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(r,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(S){return function(E){return Promise.resolve(E).then(S,x)}}function f(S,E){i[S]&&(a[S]=function(_){return new Promise(function(j,T){l.push([S,_,j,T])>1||h(S,_)})},E&&(a[S]=E(a[S])))}function h(S,E){try{m(i[S](E))}catch(_){w(l[0][3],_)}}function m(S){S.value instanceof Ns?Promise.resolve(S.value.v).then(v,x):w(l[0][2],S)}function v(S){h("next",S)}function x(S){h("throw",S)}function w(S,E){S(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Gg(r){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=r[a]?function(u){return(n=!n)?{value:Ns(r[a](u)),done:!1}:l?l(u):u}:l}}function Jg(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof wa=="function"?wa(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=r[l]&&function(u){return new Promise(function(f,h){u=r[l](u),a(f,h,u.done,u.value)})}}function a(l,u,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},u)}}function Yg(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var R_=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},_u=function(r){return _u=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},_u(r)};function Qg(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=_u(r),i=0;i<n.length;i++)n[i]!=="default"&&Ba(e,r,n[i]);return R_(e,r),e}function Xg(r){return r&&r.__esModule?r:{default:r}}function Zg(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)}function ev(r,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,n):a?a.value=n:e.set(r,n),n}function tv(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function rv(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),r.stack.push({value:e,dispose:i,async:n})}else n&&r.stack.push({async:!0});return e}var O_=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function nv(r){function e(l){r.error=r.hasError?new O_(l,r.error,"An error was suppressed during disposal."):l,r.hasError=!0}var n,i=0;function a(){for(;n=r.stack.pop();)try{if(!n.async&&i===1)return i=0,r.stack.push(n),Promise.resolve().then(a);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(l).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return a()}function sv(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,l,u){return i?e?".jsx":".js":a&&(!l||!u)?n:a+l+"."+u.toLowerCase()+"js"}):r}const I_={__extends:Dg,__assign:Ht,__rest:an,__decorate:Lg,__param:$g,__esDecorate:Mg,__runInitializers:Bg,__propKey:Ug,__setFunctionName:Fg,__metadata:zg,__awaiter:pe,__generator:Vg,__createBinding:Ba,__exportStar:Wg,__values:wa,__read:Xu,__spread:Hg,__spreadArrays:qg,__spreadArray:Zu,__await:Ns,__asyncGenerator:Kg,__asyncDelegator:Gg,__asyncValues:Jg,__makeTemplateObject:Yg,__importStar:Qg,__importDefault:Xg,__classPrivateFieldGet:Zg,__classPrivateFieldSet:ev,__classPrivateFieldIn:tv,__addDisposableResource:rv,__disposeResources:nv,__rewriteRelativeImportExtension:sv},D_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rv,get __assign(){return Ht},__asyncDelegator:Gg,__asyncGenerator:Kg,__asyncValues:Jg,__await:Ns,__awaiter:pe,__classPrivateFieldGet:Zg,__classPrivateFieldIn:tv,__classPrivateFieldSet:ev,__createBinding:Ba,__decorate:Lg,__disposeResources:nv,__esDecorate:Mg,__exportStar:Wg,__extends:Dg,__generator:Vg,__importDefault:Xg,__importStar:Qg,__makeTemplateObject:Yg,__metadata:zg,__param:$g,__propKey:Ug,__read:Xu,__rest:an,__rewriteRelativeImportExtension:sv,__runInitializers:Bg,__setFunctionName:Fg,__spread:Hg,__spreadArray:Zu,__spreadArrays:qg,__values:wa,default:I_},Symbol.toStringTag,{value:"Module"})),L_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class ed extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class $_ extends ed{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kp extends ed{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gp extends ed{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Su;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Su||(Su={}));class M_{constructor(e,{headers:n={},customFetch:i,region:a=Su.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=L_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pe(this,arguments,void 0,function*(n,i={}){var a;let l,u;try{const{headers:f,method:h,body:m,signal:v,timeout:x}=i;let w={},{region:S}=i;S||(S=this.region);const E=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let _;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(w["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(w["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let j=v;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),v?(j=u.signal,v.addEventListener("abort",()=>u.abort())):j=u.signal);const T=yield this.fetch(E.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:_,signal:j}).catch(H=>{throw new $_(H)}),k=T.headers.get("x-relay-error");if(k&&k==="true")throw new Kp(T);if(!T.ok)throw new Gp(T);let A=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),L;return A==="application/json"?L=yield T.json():A==="application/octet-stream"||A==="application/pdf"?L=yield T.blob():A==="text/event-stream"?L=T:A==="multipart/form-data"?L=yield T.formData():L=yield T.text(),{data:L,error:null,response:T}}catch(f){return{data:null,error:f,response:f instanceof Gp||f instanceof Kp?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var yt={};const Rs=Ow(D_);var ea={},ta={},ra={},na={},sa={},ia={},Jp;function iv(){if(Jp)return ia;Jp=1,Object.defineProperty(ia,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ia.default=r,ia}var Yp;function ov(){if(Yp)return sa;Yp=1,Object.defineProperty(sa,"__esModule",{value:!0});const e=Rs.__importDefault(iv());class n{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,x,w;let S=null,E=null,_=null,j=h.status,T=h.statusText;if(h.ok){if(this.method!=="HEAD"){const H=await h.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?E=H:E=JSON.parse(H))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),L=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&L&&L.length>1&&(_=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,_=null,j=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const A=await h.text();try{S=JSON.parse(A),Array.isArray(S)&&h.status===404&&(E=[],S=null,j=200,T="OK")}catch{h.status===404&&A===""?(j=204,T="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((w=S?.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,j=200,T="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:E,count:_,status:j,statusText:T}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,v,x;return{error:{message:`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,details:`${(v=h?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=h?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return sa.default=n,sa}var Qp;function av(){if(Qp)return na;Qp=1,Object.defineProperty(na,"__esModule",{value:!0});const e=Rs.__importDefault(ov());class n extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(m,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const x=[a?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return na.default=n,na}var Xp;function td(){if(Xp)return ra;Xp=1,Object.defineProperty(ra,"__esModule",{value:!0});const e=Rs.__importDefault(av()),n=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return ra.default=i,ra}var Zp;function lv(){if(Zp)return ta;Zp=1,Object.defineProperty(ta,"__esModule",{value:!0});const e=Rs.__importDefault(td());class n{constructor(a,{headers:l={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(a,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let m=!1;const v=(a??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){const v=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(x.length>0){const w=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ta.default=n,ta}var em;function B_(){if(em)return ea;em=1,Object.defineProperty(ea,"__esModule",{value:!0});const r=Rs,e=r.__importDefault(lv()),n=r.__importDefault(td());class i{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:m}={}){var v;let x;const w=new URL(`${this.url}/rpc/${l}`);let S;f||h?(x=f?"HEAD":"GET",Object.entries(u).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{w.searchParams.append(_,j)})):(x="POST",S=u);const E=new Headers(this.headers);return m&&E.set("Prefer",`count=${m}`),new n.default({method:x,url:w,headers:E,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ea.default=i,ea}var tm;function U_(){if(tm)return yt;tm=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const r=Rs,e=r.__importDefault(B_());yt.PostgrestClient=e.default;const n=r.__importDefault(lv());yt.PostgrestQueryBuilder=n.default;const i=r.__importDefault(td());yt.PostgrestFilterBuilder=i.default;const a=r.__importDefault(av());yt.PostgrestTransformBuilder=a.default;const l=r.__importDefault(ov());yt.PostgrestBuilder=l.default;const u=r.__importDefault(iv());return yt.PostgrestError=u.default,yt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},yt}var cv=U_();const uv=Wu(cv),F_=Xm({__proto__:null,default:uv},[cv]),{PostgrestClient:z_,PostgrestQueryBuilder:vA,PostgrestFilterBuilder:yA,PostgrestTransformBuilder:xA,PostgrestBuilder:wA,PostgrestError:bA}=uv||F_;class V_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W_="2.81.1",H_=`realtime-js/${W_}`,dv="1.0.0",q_="2.0.0",rm=dv,ju=1e4,K_=1e3,G_=100;var An;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(An||(An={}));var it;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(it||(it={}));var Wt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Wt||(Wt={}));var Eu;(function(r){r.websocket="websocket"})(Eu||(Eu={}));var Tn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Tn||(Tn={}));class J_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodePush(e){const{join_ref:n,ref:i,event:a,topic:l,payload:u}=e,f=this.META_LENGTH+n.length+i.length+l.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),v=0;m.setUint8(v++,this.KINDS.push),m.setUint8(v++,n.length),m.setUint8(v++,i.length),m.setUint8(v++,l.length),m.setUint8(v++,a.length),Array.from(n,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(i,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(v++,w.charCodeAt(0)));var x=new Uint8Array(h.byteLength+u.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(u),h.byteLength),x.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const{join_ref:a,ref:l,topic:u}=e,f=e.payload.event,h=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+l.length+u.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(v),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,a.length),x.setUint8(w++,l.length),x.setUint8(w++,u.length),x.setUint8(w++,f.length),x.setUint8(w++,this.BINARY_ENCODING),Array.from(a,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(l,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(u,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(f,E=>x.setUint8(w++,E.charCodeAt(0)));var S=new Uint8Array(v.byteLength+h.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(h),v.byteLength),S.buffer}_encodeJsonUserBroadcastPush(e){var n,i;const{join_ref:a,ref:l,topic:u}=e,f=e.payload.event,h=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},v=new TextEncoder().encode(JSON.stringify(h)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+l.length+u.length+f.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(w),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,a.length),S.setUint8(E++,l.length),S.setUint8(E++,u.length),S.setUint8(E++,f.length),S.setUint8(E++,this.JSON_ENCODING),Array.from(a,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(l,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(u,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(f,j=>S.setUint8(E++,j.charCodeAt(0)));var _=new Uint8Array(w.byteLength+v.byteLength);return _.set(new Uint8Array(w),0),_.set(new Uint8Array(v),w.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,u,f,h]=i;return n({join_ref:a,ref:l,topic:u,event:f,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.push:return this._decodePush(e,n,a);case this.KINDS.reply:return this._decodeReply(e,n,a);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodePush(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3);let f=this.HEADER_LENGTH+this.META_LENGTH-1;const h=i.decode(e.slice(f,f+a));f=f+a;const m=i.decode(e.slice(f,f+l));f=f+l;const v=i.decode(e.slice(f,f+u));f=f+u;const x=JSON.parse(i.decode(e.slice(f,e.byteLength)));return{join_ref:h,ref:null,topic:m,event:v,payload:x}}_decodeReply(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+this.META_LENGTH;const m=i.decode(e.slice(h,h+a));h=h+a;const v=i.decode(e.slice(h,h+l));h=h+l;const x=i.decode(e.slice(h,h+u));h=h+u;const w=i.decode(e.slice(h,h+f));h=h+f;const S=JSON.parse(i.decode(e.slice(h,e.byteLength))),E={status:w,response:S};return{join_ref:m,ref:v,topic:x,event:Wt.reply,payload:E}}_decodeBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(e.slice(u,u+a));u=u+a;const h=i.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{join_ref:null,ref:null,topic:f,event:h,payload:m}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(e.slice(h,h+a));h=h+a;const v=i.decode(e.slice(h,h+l));h=h+l;const x=i.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=f===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,E={type:this.BROADCAST,event:v,payload:S};return u>0&&(E.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class fv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const nm=(r,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Y_(u,r,e,a),l),{}):{}},Y_=(r,e,n,i)=>{const a=e.find(f=>f.name===r),l=a?.type,u=n[r];return l&&!i.includes(l)?hv(l,u):ku(u)},hv=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return eS(e,n)}switch(r){case Ue.bool:return Q_(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return X_(e);case Ue.json:case Ue.jsonb:return Z_(e);case Ue.timestamp:return tS(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return ku(e);default:return ku(e)}},ku=r=>r,Q_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},X_=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Z_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},eS=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,i=r[n];if(r[0]==="{"&&i==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>hv(e,f))}return r},tS=r=>typeof r=="string"?r.replace(" ","T"):r,pv=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qc{constructor(e,n,i={},a=ju){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(sm||(sm={}));class Ei{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ei.syncState(this.state,a,l,u),this.pendingDiffs.forEach(h=>{this.state=Ei.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ei.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),u=this.transformState(n),f={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const x=l[m];if(x){const w=v.map(j=>j.presence_ref),S=x.map(j=>j.presence_ref),E=v.filter(j=>S.indexOf(j.presence_ref)<0),_=x.filter(j=>w.indexOf(j.presence_ref)<0);E.length>0&&(f[m]=E),_.length>0&&(h[m]=_)}else f[m]=v}),this.syncDiff(l,{joins:f,leaves:h},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(f,h)=>{var m;const v=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),v.length>0){const x=e[f].map(S=>S.presence_ref),w=v.filter(S=>x.indexOf(S.presence_ref)<0);e[f].unshift(...w)}i(f,v,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const v=h.map(x=>x.presence_ref);m=m.filter(x=>v.indexOf(x.presence_ref)<0),e[f]=m,a(f,m,h),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var im;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(im||(im={}));var ki;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ki||(ki={}));var Nr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class rd{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qc(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new fv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Ei(this),this.broadcastEndpointURL=pv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[ki.PRESENCE]&&this.bindings[ki.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},w={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Nr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Nr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket.setAuth(),S===void 0){e?.(Nr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(E=_?.length)!==null&&E!==void 0?E:0,T=[];for(let k=0;k<j;k++){const A=_[k],{filter:{event:L,schema:H,table:V,filter:U}}=A,N=S&&S[k];if(N&&N.event===L&&N.schema===H&&N.table===V&&N.filter===U)T.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),this.state=it.errored,e?.(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Nr.SUBSCRIBED);return}}).receive("error",S=>{this.state=it.errored,e?.(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===it.joined&&e===ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Qc(this,Wt.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qc(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>G_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=Wt;if(i&&[f,h,m,v].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var E,_,j;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((j=(_=S.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(S=>S.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var E,_,j,T,k,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const L=S.id,H=(E=S.filter)===null||E===void 0?void 0:E.event;return L&&((_=n.ids)===null||_===void 0?void 0:_.includes(L))&&(H==="*"||H?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const L=(k=(T=S?.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return L==="*"||L===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:_,table:j,commit_timestamp:T,type:k,errors:A}=E;w=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:T,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(E))}S.callback(w,i)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&rd.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wt.close,{},e)}_onError(e){this._on(Wt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nm(e.columns,e.old_record)),n}}const Xc=()=>{},oa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rS=[1e3,2e3,5e3,1e4],nS=1e4,sS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iS{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ju,this.transport=null,this.heartbeatIntervalMs=oa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xc,this.ref=0,this.reconnectTimer=null,this.vsn=rm,this.logger=Xc,this.conn=null,this.sendBuffer=[],this.serializer=new J_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Eu.websocket}`,this.httpEndpoint=pv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return Tn.Connecting;case An.open:return Tn.Open;case An.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new rd(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(K_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},oa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=n,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${a} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([sS],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:H_};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Wt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new fv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,u,f,h,m,v,x,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:ju,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:oa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Xc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:rm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(E=>rS[E-1]||nS),this.vsn){case dv:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((E,_)=>_(JSON.stringify(E))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((E,_)=>_(JSON.parse(E)));break;case q_:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class nd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class oS extends nd{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nu extends nd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const sd=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),aS=()=>Response,Cu=r=>{if(Array.isArray(r))return r.map(n=>Cu(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Cu(i)}),e},lS=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Zc=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},cS=(r,e,n)=>pe(void 0,void 0,void 0,function*(){const i=yield aS();r instanceof i&&!n?.noResolveJson?r.json().then(a=>{const l=r.status||500,u=a?.statusCode||l+"";e(new oS(Zc(a),l,u))}).catch(a=>{e(new Nu(Zc(a),a))}):e(new Nu(Zc(r),r))}),uS=(r,e,n,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!i?a:(lS(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function $i(r,e,n,i,a,l){return pe(this,void 0,void 0,function*(){return new Promise((u,f)=>{r(n,uS(e,i,a,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>cS(h,f,i))})})}function Ci(r,e,n,i){return pe(this,void 0,void 0,function*(){return $i(r,"GET",e,n,i)})}function nr(r,e,n,i,a){return pe(this,void 0,void 0,function*(){return $i(r,"POST",e,i,a,n)})}function Au(r,e,n,i,a){return pe(this,void 0,void 0,function*(){return $i(r,"PUT",e,i,a,n)})}function dS(r,e,n,i){return pe(this,void 0,void 0,function*(){return $i(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function id(r,e,n,i,a){return pe(this,void 0,void 0,function*(){return $i(r,"DELETE",e,i,a,n)})}class fS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var mv;class hS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[mv]="BlobDownloadBuilder",this.promise=null}asStream(){return new fS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}mv=Symbol.toStringTag;const pS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mS{constructor(e,n={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=sd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,a){return pe(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},om),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),x=yield(e=="PUT"?Au:nr)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}upload(e,n,i){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return pe(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let h;const m=Object.assign({upsert:om.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const x=yield Au(this.fetch,f.toString(),h,{headers:v});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Je(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const l=yield nr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new nd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}update(e,n,i){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return pe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}copy(e,n,i){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return pe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield nr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return pe(this,void 0,void 0,function*(){try{const a=yield nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>Ci(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new hS(h,this.shouldThrowOnError)}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Ci(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i)&&i instanceof Nu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const f=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&a.push(h);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}list(e,n,i){return pe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},pS),n),{prefix:e||""});return{data:yield nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield nr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gv="2.81.1",vv={"X-Client-Info":`storage-js/${gv}`};class gS{constructor(e,n={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vv),n),this.fetch=sd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return pe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ci(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createBucket(e){return pe(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}emptyBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class vS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vv),n),this.fetch=sd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(e){return pe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ci(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}const od={"X-Client-Info":`storage-js/${gv}`,"Content-Type":"application/json"};class yv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class eu extends yv{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yS extends yv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var am;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(am||(am={}));const ad=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),xS=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},lm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),wS=(r,e,n)=>pe(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r.status||500,l=r;if(typeof l.json=="function")l.json().then(u=>{const f=u?.statusCode||u?.code||a+"";e(new eu(lm(u),a,f))}).catch(()=>{const u=a+"",f=l.statusText||`HTTP ${a} error`;e(new eu(f,a,u))});else{const u=a+"",f=l.statusText||`HTTP ${a} error`;e(new eu(f,a,u))}}else e(new yS(lm(r),r))}),bS=(r,e,n,i)=>{const a={method:r,headers:e?.headers||{}};return i?(xS(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function _S(r,e,n,i,a,l){return pe(this,void 0,void 0,function*(){return new Promise((u,f)=>{r(n,bS(e,i,a,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>wS(h,f,i))})})}function Lt(r,e,n,i,a){return pe(this,void 0,void 0,function*(){return _S(r,"POST",e,i,a,n)})}class SS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),n),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}listIndexes(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}}class jS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),n),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}getVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}listVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}queryVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}}class ES{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),n),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}listBuckets(){return pe(this,arguments,void 0,function*(e={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}}class kS extends ES{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new NS(this.url,this.headers,e,this.fetch)}}class NS extends SS{constructor(e,n,i,a){super(e,n,a),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new CS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class CS extends jS{constructor(e,n,i,a,l){super(e,n,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class AS extends gS{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new mS(this.url,this.headers,e,this.fetch)}get vectors(){return new kS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vS(this.url+"/iceberg",this.headers,this.fetch)}}const TS="2.81.1";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const PS={"X-Client-Info":`supabase-js-${Si}/${TS}`},RS={headers:PS},OS={schema:"public"},IS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DS={},LS=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),$S=()=>Headers,MS=(r,e,n)=>{const i=LS(n),a=$S();return async(l,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:r;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:m}))}};function BS(r){return r.endsWith("/")?r:r+"/"}function US(r,e){var n,i;const{db:a,auth:l,realtime:u,global:f}=r,{db:h,auth:m,realtime:v,global:x}=e,w={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),f),{headers:Object.assign(Object.assign({},(n=x?.headers)!==null&&n!==void 0?n:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function FS(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xv="2.81.1",ws=30*1e3,Tu=3,tu=Tu*ws,zS="http://localhost:9999",VS="supabase.auth.token",WS={"X-Client-Info":`gotrue-js/${xv}`},Pu="X-Supabase-Api-Version",wv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qS=600*1e3;class Ai extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ge(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class KS extends Ai{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function GS(r){return ge(r)&&r.name==="AuthApiError"}class Pn extends Ai{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ln extends Ai{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class er extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JS(r){return ge(r)&&r.name==="AuthSessionMissingError"}class fs extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aa extends ln{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class la extends ln{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YS(r){return ge(r)&&r.name==="AuthImplicitGrantRedirectError"}class cm extends ln{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends ln{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ru(r){return ge(r)&&r.name==="AuthRetryableFetchError"}class um extends ln{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Ou extends ln{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dm=` 	
\r=`.split(""),QS=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<dm.length;e+=1)r[dm[e].charCodeAt(0)]=-2;for(let e=0;e<ba.length;e+=1)r[ba[e].charCodeAt(0)]=e;return r})();function fm(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ba[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ba[i]),e.queuedBits-=6}}function bv(r,e,n){const i=QS[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function hm(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{ej(u,i,n)};for(let u=0;u<r.length;u+=1)bv(r.charCodeAt(u),a,l);return e.join("")}function XS(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ZS(r,e){for(let n=0;n<r.length;n+=1){let i=r.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}XS(i,e)}}function ej(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _s(r){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)bv(r.charCodeAt(a),n,i);return new Uint8Array(e)}function tj(r){const e=[];return ZS(r,n=>e.push(n)),new Uint8Array(e)}function Rn(r){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return r.forEach(a=>fm(a,n,i)),fm(null,n,i),e.join("")}function rj(r){return Math.round(Date.now()/1e3)+r}function nj(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},_v=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function sj(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const Sv=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),ij=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",bs=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Nn=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xr=async(r,e)=>{await r.removeItem(e)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ua.promiseConstructor=Promise;function nu(r){const e=r.split(".");if(e.length!==3)throw new Ou("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!HS.test(e[i]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(hm(e[0])),payload:JSON.parse(hm(e[1])),signature:_s(e[2]),raw:{header:e[0],payload:e[1]}}}async function oj(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function aj(r,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function lj(r){return("0"+r.toString(16)).substr(-2)}function cj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,lj).join("")}async function uj(r){const n=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function dj(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await uj(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(r,e,n=!1){const i=cj();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await bs(r,`${e}-code-verifier`,a);const l=await dj(i);return[l,i===l?"plain":"s256"]}const fj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hj(r){const e=r.headers.get(Pu);if(!e||!e.match(fj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pj(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function mj(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(r){if(!gj.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function su(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vj(r,e){return new Proxy(r,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function pm(r){return JSON.parse(JSON.stringify(r))}const Cn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yj=[502,503,504];async function mm(r){var e;if(!ij(r))throw new Ru(Cn(r),0);if(yj.includes(r.status))throw new Ru(Cn(r),r.status);let n;try{n=await r.json()}catch(l){throw new Pn(Cn(l),l)}let i;const a=hj(r);if(a&&a.getTime()>=wv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new um(Cn(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new um(Cn(n),r.status,n.weak_password.reasons);throw new KS(Cn(n),r.status||500,i)}const xj=(r,e,n,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function we(r,e,n,i){var a;const l=Object.assign({},i?.headers);l[Pu]||(l[Pu]=wv["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await wj(r,e,n+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function wj(r,e,n,i,a,l){const u=xj(e,i,a,l);let f;try{f=await r(n,Object.assign({},u))}catch(h){throw console.error(h),new Ru(Cn(h),0)}if(f.ok||await mm(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await mm(h)}}function tr(r){var e;let n=null;Sj(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=rj(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:i},error:null}}function gm(r){const e=tr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function tn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function bj(r){return{data:r,error:null}}function _j(r){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=r,u=an(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function vm(r){return r}function Sj(r){return r.access_token&&r.refresh_token&&r.expires_in}const iu=["global","local","others"];class jj{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Sv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=iu[0]){if(iu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iu.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=an(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_j,redirectTo:n?.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tn})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:vm});if(v.error)throw v.error;const x=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ps(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tn})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ps(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:tn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ps(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ps(e.userId);try{const{data:n,error:i}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ps(e.userId),ps(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:vm});if(v.error)throw v.error;const x=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);m[`${j}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ge(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function ym(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const ms={debug:!!(globalThis&&_v()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ej extends jv{}async function kj(r,e,n){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await n()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ej(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ms.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Nj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ev(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Cj(r){return parseInt(r,16)}function Aj(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Tj(r){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:v,uri:x,version:w}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Ev(r.address),E=v?`${v}://${i}`:i,_=r.statement?`${r.statement}
`:"",j=`${E} wants you to sign in with your Ethereum account:
${S}

${_}`;let T=`URI: ${x}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(T+=`
Expiration Time: ${a.toISOString()}`),f&&(T+=`
Not Before: ${f.toISOString()}`),h&&(T+=`
Request ID: ${h}`),m){let k=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}T+=k}return`${j}
${T}`}class tt extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class _a extends tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Pj({error:r,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(kv(u)){if(l.rp.id!==u)return new tt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Rj({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(kv(i)){if(n.rpId!==i)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Oj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ij=new Oj;function Dj(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:i}=r,a=an(r,["challenge","user","excludeCredentials"]),l=_s(e).buffer,u=Object.assign(Object.assign({},n),{id:_s(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:_s(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function Lj(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,i=an(r,["challenge","allowCredentials"]),a=_s(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:_s(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function $j(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Rn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Rn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mj(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Rn(new Uint8Array(a.authenticatorData)),clientDataJSON:Rn(new Uint8Array(a.clientDataJSON)),signature:Rn(new Uint8Array(a.signature)),userHandle:a.userHandle?Rn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kv(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function xm(){var r,e;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bj(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",e)}:{data:null,error:new _a("Empty credential response",e)}}catch(e){return{data:null,error:Pj({error:e,options:r})}}}async function Uj(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",e)}:{data:null,error:new _a("Empty credential response",e)}}catch(e){return{data:null,error:Rj({error:e,options:r})}}}const Fj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sa(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(n(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=Sa(f,u):i[l]=Sa(u)}else i[l]=u}return i}function Vj(r,e){return Sa(Fj,r,e||{})}function Wj(r,e){return Sa(zj,r,e||{})}class Hj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const h=a??Ij.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=Vj(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:x}=await Bj({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const m=Wj(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:x}=await Uj(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Pn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Ai("rpId is required for WebAuthn authentication")};try{if(!xm())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Pn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Ai("rpId is required for WebAuthn registration")};try{if(!xm())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Pn("Unexpected error in register",u)}}}}Nj();const qj={url:zS,storageKey:VS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wm(r,e,n){return await n()}const gs={};class Ti{get jwks(){var e,n;return(n=(e=gs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},qj),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Ti.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ti.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ht()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new jj({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Sv(l.fetch),this.lock=l.lock||wm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ht()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=kj:this.lock=wm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:_v()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ym(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ym(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(ht()&&(n=sj(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),ht()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),YS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?this._returnResult({error:n}):this._returnResult({error:new Pn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:tr}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:v,password:x,options:w}=e;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await hs(this.storage,this.storageKey)),l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:x,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:E},xform:tr})}else if("phone"in e){const{phone:v,password:x,options:w}=e;l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:tr})}else throw new aa("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:gm})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:gm})}else throw new aa("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new fs;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,u,f,h,m,v,x,w;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:_,wallet:j,statement:T,options:k}=e;let A;if(ht())if(typeof j=="object")A=j;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")A=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const L=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href),H=await A.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=Ev(H[0]);let U=(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const B=await A.request({method:"eth_chainId"});U=Cj(B)}const N={domain:L.host,address:V,statement:T,uri:L.href,version:"1",chainId:U,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=k?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=k?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=k?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=Tj(N),E=await A.request({method:"personal_sign",params:[Aj(S),V]})}try{const{data:_,error:j}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:tr});if(j)throw j;if(!_||!_.session||!_.user){const T=new fs;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,i,a,l,u,f,h,m,v,x,w,S;let E,_;if("message"in e)E=e.message,_=e.signature;else{const{chain:j,wallet:T,statement:k,options:A}=e;let L;if(ht())if(typeof T=="object")L=T;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))L=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const H=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const V=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),k?{statement:k}:null));let U;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")U=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)U=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)E=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),_=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${H.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const V=await L.signMessage(new TextEncoder().encode(E),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=V}}try{const{data:j,error:T}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Rn(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:tr});if(T)throw T;if(!j||!j.session||!j.user){const k=new fs;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:T})}catch(j){if(ge(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const n=await Nn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:l,error:u}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:tr});if(await Xr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(ge(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:u}=e,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:tr}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new fs;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await hs(this.storage,this.storageKey));const{error:x}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new aa("You must provide either an email or phone number.")}catch(f){if(ge(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:tr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,u;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await hs(this.storage,this.storageKey));const m=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:bj});return!((l=m.data)===null||l===void 0)&&l.url&&ht()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(ge(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new er;const{error:a}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:f}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new aa("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<tu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Nn(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=su()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=vj(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async n=>{var i,a,l;const{data:u,error:f}=n;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:tn})})}catch(n){if(ge(n))return JS(n)&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new er;const u=a.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await hs(this.storage,this.storageKey));const{data:m,error:v}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:tn});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(ge(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new er;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:u}=nu(e.access_token);if(u.exp&&(i=u.exp,a=i<=n),a){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new er;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ht())throw new la("No browser detected.");if(e.error||e.error_description||e.error_code)throw new la(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new la("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cm("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!u||!m)throw new la("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(f);let w=v+x;h&&(w=parseInt(h));const S=w-v;S*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const E=w-x;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,v);const{data:_,error:j}=await this._getUser(l);if(j)throw j;const T={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:x,expires_at:w,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(ge(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(GS(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=nj(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await hs(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ge(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var u,f,h,m,v;const{data:x,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return ht()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ge(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:f,token:h,access_token:m,nonce:v}=e,x=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:tr}),{data:w,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new fs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)throw u;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await aj(async a=>(a>0&&await oj(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&ru(l)&&Date.now()+u-i<ws})}catch(i){if(this._debug(n,"error",i),ge(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),ht()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Nn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await bs(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:su()}else if(a&&!a.user&&!a.user){const u=await Nn(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Xr(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,a)):a.user=su()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${tu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),ru(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ua;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new er;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),ge(l)){const u={data:null,error:l};return ru(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await bs(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=pm(a);await bs(this.storage,this.storageKey,l)}else{const a=pm(n);await bs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Xr(this.storage,this.storageKey),await Xr(this.storage,this.storageKey+"-code-verifier"),await Xr(this.storage,this.storageKey+"-user"),this.userStorage&&await Xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ws}ms, refresh threshold is ${Tu} ticks`),a<=Tu&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await hs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await we(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$j(e.webauthn.credential_response):Mj(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Dj(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Lj(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=nu(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new er})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new er});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&ht()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new er});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&ht()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+qS>a)return i;const{data:l,error:u}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});i=S.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:h}}=nu(i);n?.allowExpired||pj(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:a,signature:u},error:null}}const v=mj(a.alg),x=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,u,tj(`${f}.${h}`)))throw new Ou("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}}Ti.nextInstanceID={};const Kj=Ti;class Gj extends Kj{constructor(e){super(e)}}class Jj{constructor(e,n,i){var a,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=FS(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:OS,realtime:DS,auth:Object.assign(Object.assign({},IS),{storageKey:h}),global:RS},v=US(i??{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=MS(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new z_(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new AS(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new M_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:u,flowType:f,lock:h,debug:m,throwOnError:v},x,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gj({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),x),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,flowType:f,lock:h,debug:m,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yj=(r,e,n)=>new Jj(r,e,n);function Qj(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xj="xhnpzgqwcgvynqljycll",Zj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobnB6Z3F3Y2d2eW5xbGp5Y2xsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5MDUzMzMsImV4cCI6MjA3ODQ4MTMzM30.oTOi6WWCj080ySEYQZDYAKU6Q22JDl0iOwq7K4NnMuQ",me=Yj(`https://${Xj}.supabase.co`,Zj,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage}}),ld="/assets/VirtuoNext%20Logo-ByZOWwO3.png";function eE({onAuthSuccess:r}){const[e,n]=y.useState(!1),[i,a]=y.useState(null),[l,u]=y.useState(null),[f,h]=y.useState(!1),[m,v]=y.useState(""),[x,w]=y.useState(""),[S,E]=y.useState(""),[_,j]=y.useState(""),[T,k]=y.useState(""),[A,L]=y.useState("soloist"),H=async N=>{N.preventDefault(),n(!0),a(null),u(null);try{const{data:B,error:J}=await me.auth.signInWithPassword({email:m,password:x});if(J){if(J.message.includes("Email not confirmed")||J.message.includes("confirm"))h(!0),a("Email not confirmed. Please check your email or click below to resend confirmation.");else throw J;return}if(!B.user)throw new Error("No user data returned");const te={id:B.user.id,email:B.user.email,name:B.user.user_metadata.name||"",userType:B.user.user_metadata.userType||"soloist",createdAt:B.user.created_at};r(te)}catch(B){console.error("Unexpected error during login:",B);const J=B instanceof Error?B.message:"An unexpected error occurred. Please try again.";a(J)}finally{n(!1)}},V=async N=>{N.preventDefault(),n(!0),a(null),u(null);try{const{data:B,error:J}=await me.auth.signUp({email:S,password:_,options:{data:{name:T,userType:A}}});if(J)throw J;if(!B.user)throw new Error("No user data returned");if(!B.session&&B.user.identities&&B.user.identities.length===0){u("Account created! Please check your email to confirm your account before logging in."),h(!0),n(!1);return}if(!B.session)throw new Error("No session created. Please try logging in.");const te={id:B.user.id,email:B.user.email,name:T,userType:A,createdAt:B.user.created_at};r(te)}catch(B){console.error("Unexpected error during signup:",B);const J=B instanceof Error?B.message:"An unexpected error occurred. Please try again.";a(J)}finally{n(!1)}},U=async()=>{n(!0),a(null),u(null);try{const N=m||S;if(!N){a("Please enter your email address");return}const{error:B}=await me.auth.resend({type:"signup",email:N});if(B)throw B;u("Confirmation email sent! Please check your inbox."),h(!1)}catch(N){console.error("Error resending confirmation:",N);const B=N instanceof Error?N.message:"Failed to resend confirmation email. Please try again.";a(B)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-white to-red-50 p-4",children:c.jsxs(xt,{className:"w-full max-w-md",children:[c.jsxs(At,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("img",{src:ld,alt:"VirtuoNext",className:"h-12 w-12"})}),c.jsx(sr,{className:"text-3xl",children:"VirtuoNext"}),c.jsx(pa,{children:"Connect pianists with soloists for perfect performances"})]}),c.jsxs(wt,{children:[c.jsxs(T_,{defaultValue:"login",className:"space-y-4",children:[c.jsxs(P_,{className:"grid w-full grid-cols-2",children:[c.jsx(Hp,{value:"login",children:"Sign In"}),c.jsx(Hp,{value:"signup",children:"Sign Up"})]}),c.jsx(qp,{value:"login",children:c.jsxs("form",{onSubmit:H,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"login-email",children:"Email"}),c.jsx(Me,{id:"login-email",type:"email",placeholder:"your@email.com",value:m,onChange:N=>v(N.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"login-password",children:"Password"}),c.jsx(Me,{id:"login-password",type:"password",placeholder:"Enter your password",value:x,onChange:N=>w(N.target.value),required:!0})]}),c.jsx(Ye,{type:"submit",className:"w-full",disabled:e,children:e?"Signing in...":"Sign In"})]})}),c.jsx(qp,{value:"signup",children:c.jsxs("form",{onSubmit:V,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"signup-name",children:"Name"}),c.jsx(Me,{id:"signup-name",placeholder:"Your name",value:T,onChange:N=>k(N.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"signup-email",children:"Email"}),c.jsx(Me,{id:"signup-email",type:"email",placeholder:"your@email.com",value:S,onChange:N=>E(N.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"signup-password",children:"Password"}),c.jsx(Me,{id:"signup-password",type:"password",placeholder:"Create a password",value:_,onChange:N=>j(N.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(ke,{children:"I am a..."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>L("soloist"),className:`p-4 rounded-lg border-2 transition-all ${A==="soloist"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mb-1",children:""}),c.jsx("div",{children:"Soloist"})]})}),c.jsx("button",{type:"button",onClick:()=>L("pianist"),className:`p-4 rounded-lg border-2 transition-all ${A==="pianist"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mb-1",children:""}),c.jsx("div",{children:"Pianist"})]})})]})]}),c.jsx(Ye,{type:"submit",className:"w-full",disabled:e,children:e?"Creating account...":"Create Account"})]})})]}),i&&c.jsx("div",{className:"mt-4 p-3 rounded-lg bg-red-50 border border-red-200",children:c.jsx("p",{className:"text-sm text-red-600",children:i})}),l&&c.jsx("div",{className:"mt-4 p-3 rounded-lg bg-green-50 border border-green-200",children:c.jsx("p",{className:"text-sm text-green-600",children:l})}),f&&c.jsx("div",{className:"mt-4",children:c.jsx(Ye,{onClick:U,variant:"outline",className:"w-full",disabled:e,children:e?"Sending...":"Resend Confirmation Email"})})]})]})})}const tE=sg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Te({className:r,variant:e,asChild:n=!1,...i}){const a=n?tg:"span";return c.jsx(a,{"data-slot":"badge",className:Ae(tE({variant:e}),r),...i})}function rE(r,e=[]){let n=[];function i(l,u){const f=y.createContext(u);f.displayName=l+"Context";const h=n.length;n=[...n,u];const m=x=>{const{scope:w,children:S,...E}=x,_=w?.[r]?.[h]||f,j=y.useMemo(()=>E,Object.values(E));return c.jsx(_.Provider,{value:j,children:S})};m.displayName=l+"Provider";function v(x,w){const S=w?.[r]?.[h]||f,E=y.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const a=()=>{const l=n.map(u=>y.createContext(u));return function(f){const h=f?.[r]||l;return y.useMemo(()=>({[`__scope${r}`]:{...f,[r]:h}}),[f,h])}};return a.scopeName=r,[i,nE(a,...e)]}function nE(...r){const e=r[0];if(r.length===1)return e;const n=()=>{const i=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...f,...x}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var sE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cd=sE.reduce((r,e)=>{const n=qu(`Primitive.${e}`),i=y.forwardRef((a,l)=>{const{asChild:u,...f}=a,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{}),ou={exports:{}},au={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function iE(){if(bm)return au;bm=1;var r=$a();function e(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:e,i=r.useState,a=r.useEffect,l=r.useLayoutEffect,u=r.useDebugValue;function f(x,w){var S=w(),E=i({inst:{value:S,getSnapshot:w}}),_=E[0].inst,j=E[1];return l(function(){_.value=S,_.getSnapshot=w,h(_)&&j({inst:_})},[x,S,w]),a(function(){return h(_)&&j({inst:_}),x(function(){h(_)&&j({inst:_})})},[x]),u(S),S}function h(x){var w=x.getSnapshot;x=x.value;try{var S=w();return!n(x,S)}catch{return!0}}function m(x,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return au.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:v,au}var _m;function oE(){return _m||(_m=1,ou.exports=iE()),ou.exports}var aE=oE();function lE(){return aE.useSyncExternalStore(cE,()=>!0,()=>!1)}function cE(){return()=>{}}var ud="Avatar",[uE]=rE(ud),[dE,Nv]=uE(ud),Cv=y.forwardRef((r,e)=>{const{__scopeAvatar:n,...i}=r,[a,l]=y.useState("idle");return c.jsx(dE,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:c.jsx(cd.span,{...i,ref:e})})});Cv.displayName=ud;var Av="AvatarImage",Tv=y.forwardRef((r,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:a=()=>{},...l}=r,u=Nv(Av,n),f=fE(i,l),h=Cr(m=>{a(m),u.onImageLoadingStatusChange(m)});return ot(()=>{f!=="idle"&&h(f)},[f,h]),f==="loaded"?c.jsx(cd.img,{...l,ref:e,src:i}):null});Tv.displayName=Av;var Pv="AvatarFallback",Rv=y.forwardRef((r,e)=>{const{__scopeAvatar:n,delayMs:i,...a}=r,l=Nv(Pv,n),[u,f]=y.useState(i===void 0);return y.useEffect(()=>{if(i!==void 0){const h=window.setTimeout(()=>f(!0),i);return()=>window.clearTimeout(h)}},[i]),u&&l.imageLoadingStatus!=="loaded"?c.jsx(cd.span,{...a,ref:e}):null});Rv.displayName=Pv;function Sm(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fE(r,{referrerPolicy:e,crossOrigin:n}){const i=lE(),a=y.useRef(null),l=i?(a.current||(a.current=new window.Image),a.current):null,[u,f]=y.useState(()=>Sm(l,r));return ot(()=>{f(Sm(l,r))},[l,r]),ot(()=>{const h=x=>()=>{f(x)};if(!l)return;const m=h("loaded"),v=h("error");return l.addEventListener("load",m),l.addEventListener("error",v),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",v)}},[l,n,e]),u}var hE=Cv,pE=Tv,mE=Rv;function Mi({className:r,...e}){return c.jsx(hE,{"data-slot":"avatar",className:Ae("relative flex size-10 shrink-0 overflow-hidden rounded-full",r),...e})}function dd({className:r,...e}){return c.jsx(pE,{"data-slot":"avatar-image",className:Ae("aspect-square size-full",r),...e})}function Bi({className:r,...e}){return c.jsx(mE,{"data-slot":"avatar-fallback",className:Ae("bg-muted flex size-full items-center justify-center rounded-full",r),...e})}function gE(r,e=globalThis?.document){const n=Cr(r);y.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var vE="DismissableLayer",Iu="dismissableLayer.update",yE="dismissableLayer.pointerDownOutside",xE="dismissableLayer.focusOutside",jm,Ov=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fd=y.forwardRef((r,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...h}=r,m=y.useContext(Ov),[v,x]=y.useState(null),w=v?.ownerDocument??globalThis?.document,[,S]=y.useState({}),E=qe(e,U=>x(U)),_=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=_.indexOf(j),k=v?_.indexOf(v):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,L=k>=T,H=_E(U=>{const N=U.target,B=[...m.branches].some(J=>J.contains(N));!L||B||(a?.(U),u?.(U),U.defaultPrevented||f?.())},w),V=SE(U=>{const N=U.target;[...m.branches].some(J=>J.contains(N))||(l?.(U),u?.(U),U.defaultPrevented||f?.())},w);return gE(U=>{k===m.layers.size-1&&(i?.(U),!U.defaultPrevented&&f&&(U.preventDefault(),f()))},w),y.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jm=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Em(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=jm)}},[v,w,n,m]),y.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Em())},[v,m]),y.useEffect(()=>{const U=()=>S({});return document.addEventListener(Iu,U),()=>document.removeEventListener(Iu,U)},[]),c.jsx(De.div,{...h,ref:E,style:{pointerEvents:A?L?"auto":"none":void 0,...r.style},onFocusCapture:Pe(r.onFocusCapture,V.onFocusCapture),onBlurCapture:Pe(r.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Pe(r.onPointerDownCapture,H.onPointerDownCapture)})});fd.displayName=vE;var wE="DismissableLayerBranch",bE=y.forwardRef((r,e)=>{const n=y.useContext(Ov),i=y.useRef(null),a=qe(e,i);return y.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),c.jsx(De.div,{...r,ref:a})});bE.displayName=wE;function _E(r,e=globalThis?.document){const n=Cr(r),i=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let h=function(){Iv(yE,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function SE(r,e=globalThis?.document){const n=Cr(r),i=y.useRef(!1);return y.useEffect(()=>{const a=l=>{l.target&&!i.current&&Iv(xE,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Em(){const r=new CustomEvent(Iu);document.dispatchEvent(r)}function Iv(r,e,n,{discrete:i}){const a=n.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(r,e,{once:!0}),i?s_(a,l):a.dispatchEvent(l)}var lu="focusScope.autoFocusOnMount",cu="focusScope.autoFocusOnUnmount",km={bubbles:!1,cancelable:!0},jE="FocusScope",hd=y.forwardRef((r,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=r,[f,h]=y.useState(null),m=Cr(a),v=Cr(l),x=y.useRef(null),w=qe(e,_=>h(_)),S=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let _=function(A){if(S.paused||!f)return;const L=A.target;f.contains(L)?x.current=L:en(x.current,{select:!0})},j=function(A){if(S.paused||!f)return;const L=A.relatedTarget;L!==null&&(f.contains(L)||en(x.current,{select:!0}))},T=function(A){if(document.activeElement===document.body)for(const H of A)H.removedNodes.length>0&&en(f)};document.addEventListener("focusin",_),document.addEventListener("focusout",j);const k=new MutationObserver(T);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",j),k.disconnect()}}},[i,f,S.paused]),y.useEffect(()=>{if(f){Cm.add(S);const _=document.activeElement;if(!f.contains(_)){const T=new CustomEvent(lu,km);f.addEventListener(lu,m),f.dispatchEvent(T),T.defaultPrevented||(EE(TE(Dv(f)),{select:!0}),document.activeElement===_&&en(f))}return()=>{f.removeEventListener(lu,m),setTimeout(()=>{const T=new CustomEvent(cu,km);f.addEventListener(cu,v),f.dispatchEvent(T),T.defaultPrevented||en(_??document.body,{select:!0}),f.removeEventListener(cu,v),Cm.remove(S)},0)}}},[f,m,v,S]);const E=y.useCallback(_=>{if(!n&&!i||S.paused)return;const j=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,T=document.activeElement;if(j&&T){const k=_.currentTarget,[A,L]=kE(k);A&&L?!_.shiftKey&&T===L?(_.preventDefault(),n&&en(A,{select:!0})):_.shiftKey&&T===A&&(_.preventDefault(),n&&en(L,{select:!0})):T===k&&_.preventDefault()}},[n,i,S.paused]);return c.jsx(De.div,{tabIndex:-1,...u,ref:w,onKeyDown:E})});hd.displayName=jE;function EE(r,{select:e=!1}={}){const n=document.activeElement;for(const i of r)if(en(i,{select:e}),document.activeElement!==n)return}function kE(r){const e=Dv(r),n=Nm(e,r),i=Nm(e.reverse(),r);return[n,i]}function Dv(r){const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Nm(r,e){for(const n of r)if(!NE(n,{upTo:e}))return n}function NE(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function CE(r){return r instanceof HTMLInputElement&&"select"in r}function en(r,{select:e=!1}={}){if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),r!==n&&CE(r)&&e&&r.select()}}var Cm=AE();function AE(){let r=[];return{add(e){const n=r[0];e!==n&&n?.pause(),r=Am(r,e),r.unshift(e)},remove(e){r=Am(r,e),r[0]?.resume()}}}function Am(r,e){const n=[...r],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function TE(r){return r.filter(e=>e.tagName!=="A")}var PE="Portal",pd=y.forwardRef((r,e)=>{const{container:n,...i}=r,[a,l]=y.useState(!1);ot(()=>l(!0),[]);const u=n||a&&globalThis?.document?.body;return u?$b.createPortal(c.jsx(De.div,{...i,ref:e}),u):null});pd.displayName=PE;var uu=0;function Lv(){y.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Tm()),document.body.insertAdjacentElement("beforeend",r[1]??Tm()),uu++,()=>{uu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uu--}},[])}function Tm(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var ma="right-scroll-bar-position",ga="width-before-scroll-bar",RE="with-scroll-bars-hidden",OE="--removed-body-scroll-bar-size";function du(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function IE(r,e){var n=y.useState(function(){return{value:r,callback:e,facade:{get current(){return n.value},set current(i){var a=n.value;a!==i&&(n.value=i,n.callback(i,a))}}}})[0];return n.callback=e,n.facade}var DE=typeof window<"u"?y.useLayoutEffect:y.useEffect,Pm=new WeakMap;function LE(r,e){var n=IE(null,function(i){return r.forEach(function(a){return du(a,i)})});return DE(function(){var i=Pm.get(n);if(i){var a=new Set(i),l=new Set(r),u=n.current;a.forEach(function(f){l.has(f)||du(f,null)}),l.forEach(function(f){a.has(f)||du(f,u)})}Pm.set(n,r)},[r]),n}function $E(r){return r}function ME(r,e){e===void 0&&(e=$E);var n=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:r},useMedium:function(l){var u=e(l,i);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(i=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var h=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return a}function BE(r){r===void 0&&(r={});var e=ME(null);return e.options=Ht({async:!0,ssr:!1},r),e}var $v=function(r){var e=r.sideCar,n=an(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,Ht({},n))};$v.isSideCarExport=!0;function UE(r,e){return r.useMedium(e),$v}var Mv=BE(),fu=function(){},Fa=y.forwardRef(function(r,e){var n=y.useRef(null),i=y.useState({onScrollCapture:fu,onWheelCapture:fu,onTouchMoveCapture:fu}),a=i[0],l=i[1],u=r.forwardProps,f=r.children,h=r.className,m=r.removeScrollBar,v=r.enabled,x=r.shards,w=r.sideCar,S=r.noRelative,E=r.noIsolation,_=r.inert,j=r.allowPinchZoom,T=r.as,k=T===void 0?"div":T,A=r.gapMode,L=an(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,V=LE([n,e]),U=Ht(Ht({},L),a);return y.createElement(y.Fragment,null,v&&y.createElement(H,{sideCar:Mv,removeScrollBar:m,shards:x,noRelative:S,noIsolation:E,inert:_,setCallbacks:l,allowPinchZoom:!!j,lockRef:n,gapMode:A}),u?y.cloneElement(y.Children.only(f),Ht(Ht({},U),{ref:V})):y.createElement(k,Ht({},U,{className:h,ref:V}),f))});Fa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fa.classNames={fullWidth:ga,zeroRight:ma};var FE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zE(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=FE();return e&&r.setAttribute("nonce",e),r}function VE(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function WE(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var HE=function(){var r=0,e=null;return{add:function(n){r==0&&(e=zE())&&(VE(e,n),WE(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qE=function(){var r=HE();return function(e,n){y.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&n])}},Bv=function(){var r=qE(),e=function(n){var i=n.styles,a=n.dynamic;return r(i,a),null};return e},KE={left:0,top:0,right:0,gap:0},hu=function(r){return parseInt(r||"",10)||0},GE=function(r){var e=window.getComputedStyle(document.body),n=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],a=e[r==="padding"?"paddingRight":"marginRight"];return[hu(n),hu(i),hu(a)]},JE=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return KE;var e=GE(r),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},YE=Bv(),Ss="data-scroll-locked",QE=function(r,e,n,i){var a=r.left,l=r.top,u=r.right,f=r.gap;return n===void 0&&(n="margin"),`
  .`.concat(RE,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Ss,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ma,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(ga,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(ma," .").concat(ma,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ga," .").concat(ga,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ss,`] {
    `).concat(OE,": ").concat(f,`px;
  }
`)},Rm=function(){var r=parseInt(document.body.getAttribute(Ss)||"0",10);return isFinite(r)?r:0},XE=function(){y.useEffect(function(){return document.body.setAttribute(Ss,(Rm()+1).toString()),function(){var r=Rm()-1;r<=0?document.body.removeAttribute(Ss):document.body.setAttribute(Ss,r.toString())}},[])},ZE=function(r){var e=r.noRelative,n=r.noImportant,i=r.gapMode,a=i===void 0?"margin":i;XE();var l=y.useMemo(function(){return JE(a)},[a]);return y.createElement(YE,{styles:QE(l,!e,a,n?"":"!important")})},Du=!1;if(typeof window<"u")try{var ca=Object.defineProperty({},"passive",{get:function(){return Du=!0,!0}});window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Du=!1}var vs=Du?{passive:!1}:!1,e1=function(r){return r.tagName==="TEXTAREA"},Uv=function(r,e){if(!(r instanceof Element))return!1;var n=window.getComputedStyle(r);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!e1(r)&&n[e]==="visible")},t1=function(r){return Uv(r,"overflowY")},r1=function(r){return Uv(r,"overflowX")},Om=function(r,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=Fv(r,i);if(a){var l=zv(r,i),u=l[1],f=l[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},n1=function(r){var e=r.scrollTop,n=r.scrollHeight,i=r.clientHeight;return[e,n,i]},s1=function(r){var e=r.scrollLeft,n=r.scrollWidth,i=r.clientWidth;return[e,n,i]},Fv=function(r,e){return r==="v"?t1(e):r1(e)},zv=function(r,e){return r==="v"?n1(e):s1(e)},i1=function(r,e){return r==="h"&&e==="rtl"?-1:1},o1=function(r,e,n,i,a){var l=i1(r,window.getComputedStyle(e).direction),u=l*i,f=n.target,h=e.contains(f),m=!1,v=u>0,x=0,w=0;do{if(!f)break;var S=zv(r,f),E=S[0],_=S[1],j=S[2],T=_-j-l*E;(E||T)&&Fv(r,f)&&(x+=T,w+=E);var k=f.parentNode;f=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(v&&Math.abs(x)<1||!v&&Math.abs(w)<1)&&(m=!0),m},ua=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Im=function(r){return[r.deltaX,r.deltaY]},Dm=function(r){return r&&"current"in r?r.current:r},a1=function(r,e){return r[0]===e[0]&&r[1]===e[1]},l1=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},c1=0,ys=[];function u1(r){var e=y.useRef([]),n=y.useRef([0,0]),i=y.useRef(),a=y.useState(c1++)[0],l=y.useState(Bv)[0],u=y.useRef(r);y.useEffect(function(){u.current=r},[r]),y.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(a));var _=Zu([r.lockRef.current],(r.shards||[]).map(Dm),!0).filter(Boolean);return _.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[r.inert,r.lockRef.current,r.shards]);var f=y.useCallback(function(_,j){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var T=ua(_),k=n.current,A="deltaX"in _?_.deltaX:k[0]-T[0],L="deltaY"in _?_.deltaY:k[1]-T[1],H,V=_.target,U=Math.abs(A)>Math.abs(L)?"h":"v";if("touches"in _&&U==="h"&&V.type==="range")return!1;var N=Om(U,V);if(!N)return!0;if(N?H=U:(H=U==="v"?"h":"v",N=Om(U,V)),!N)return!1;if(!i.current&&"changedTouches"in _&&(A||L)&&(i.current=H),!H)return!0;var B=i.current||H;return o1(B,j,_,B==="h"?A:L)},[]),h=y.useCallback(function(_){var j=_;if(!(!ys.length||ys[ys.length-1]!==l)){var T="deltaY"in j?Im(j):ua(j),k=e.current.filter(function(H){return H.name===j.type&&(H.target===j.target||j.target===H.shadowParent)&&a1(H.delta,T)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var A=(u.current.shards||[]).map(Dm).filter(Boolean).filter(function(H){return H.contains(j.target)}),L=A.length>0?f(j,A[0]):!u.current.noIsolation;L&&j.cancelable&&j.preventDefault()}}},[]),m=y.useCallback(function(_,j,T,k){var A={name:_,delta:j,target:T,should:k,shadowParent:d1(T)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(L){return L!==A})},1)},[]),v=y.useCallback(function(_){n.current=ua(_),i.current=void 0},[]),x=y.useCallback(function(_){m(_.type,Im(_),_.target,f(_,r.lockRef.current))},[]),w=y.useCallback(function(_){m(_.type,ua(_),_.target,f(_,r.lockRef.current))},[]);y.useEffect(function(){return ys.push(l),r.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",h,vs),document.addEventListener("touchmove",h,vs),document.addEventListener("touchstart",v,vs),function(){ys=ys.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,vs),document.removeEventListener("touchmove",h,vs),document.removeEventListener("touchstart",v,vs)}},[]);var S=r.removeScrollBar,E=r.inert;return y.createElement(y.Fragment,null,E?y.createElement(l,{styles:l1(a)}):null,S?y.createElement(ZE,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function d1(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const f1=UE(Mv,u1);var md=y.forwardRef(function(r,e){return y.createElement(Fa,Ht({},r,{ref:e,sideCar:f1}))});md.classNames=Fa.classNames;var h1=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},xs=new WeakMap,da=new WeakMap,fa={},pu=0,Vv=function(r){return r&&(r.host||Vv(r.parentNode))},p1=function(r,e){return e.map(function(n){if(r.contains(n))return n;var i=Vv(n);return i&&r.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",r,". Doing nothing"),null)}).filter(function(n){return!!n})},m1=function(r,e,n,i){var a=p1(e,Array.isArray(r)?r:[r]);fa[n]||(fa[n]=new WeakMap);var l=fa[n],u=[],f=new Set,h=new Set(a),m=function(x){!x||f.has(x)||(f.add(x),m(x.parentNode))};a.forEach(m);var v=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(w){if(f.has(w))v(w);else try{var S=w.getAttribute(i),E=S!==null&&S!=="false",_=(xs.get(w)||0)+1,j=(l.get(w)||0)+1;xs.set(w,_),l.set(w,j),u.push(w),_===1&&E&&da.set(w,!0),j===1&&w.setAttribute(n,"true"),E||w.setAttribute(i,"true")}catch(T){console.error("aria-hidden: cannot operate on ",w,T)}})};return v(e),f.clear(),pu++,function(){u.forEach(function(x){var w=xs.get(x)-1,S=l.get(x)-1;xs.set(x,w),l.set(x,S),w||(da.has(x)||x.removeAttribute(i),da.delete(x)),S||x.removeAttribute(n)}),pu--,pu||(xs=new WeakMap,xs=new WeakMap,da=new WeakMap,fa={})}},Wv=function(r,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),a=h1(r);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),m1(i,a,n,"aria-hidden")):function(){return null}};function g1(r){const e=v1(r),n=y.forwardRef((i,a)=>{const{children:l,...u}=i,f=y.Children.toArray(l),h=f.find(x1);if(h){const m=h.props.children,v=f.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return c.jsx(e,{...u,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,v):null})}return c.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}function v1(r){const e=y.forwardRef((n,i)=>{const{children:a,...l}=n;if(y.isValidElement(a)){const u=b1(a),f=w1(l,a.props);return a.type!==y.Fragment&&(f.ref=i?As(i,u):u),y.cloneElement(a,f)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var y1=Symbol("radix.slottable");function x1(r){return y.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===y1}function w1(r,e){const n={...e};for(const i in e){const a=r[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function b1(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var za="Dialog",[Hv,qv]=$n(za),[_1,ar]=Hv(za),Kv=r=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=r,f=y.useRef(null),h=y.useRef(null),[m,v]=Ni({prop:i,defaultProp:a??!1,onChange:l,caller:za});return c.jsx(_1,{scope:e,triggerRef:f,contentRef:h,contentId:rn(),titleId:rn(),descriptionId:rn(),open:m,onOpenChange:v,onOpenToggle:y.useCallback(()=>v(x=>!x),[v]),modal:u,children:n})};Kv.displayName=za;var Gv="DialogTrigger",Jv=y.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,a=ar(Gv,n),l=qe(e,a.triggerRef);return c.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yd(a.open),...i,ref:l,onClick:Pe(r.onClick,a.onOpenToggle)})});Jv.displayName=Gv;var gd="DialogPortal",[S1,Yv]=Hv(gd,{forceMount:void 0}),Qv=r=>{const{__scopeDialog:e,forceMount:n,children:i,container:a}=r,l=ar(gd,e);return c.jsx(S1,{scope:e,forceMount:n,children:y.Children.map(i,u=>c.jsx(Li,{present:n||l.open,children:c.jsx(pd,{asChild:!0,container:a,children:u})}))})};Qv.displayName=gd;var ja="DialogOverlay",Xv=y.forwardRef((r,e)=>{const n=Yv(ja,r.__scopeDialog),{forceMount:i=n.forceMount,...a}=r,l=ar(ja,r.__scopeDialog);return l.modal?c.jsx(Li,{present:i||l.open,children:c.jsx(E1,{...a,ref:e})}):null});Xv.displayName=ja;var j1=g1("DialogOverlay.RemoveScroll"),E1=y.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,a=ar(ja,n);return c.jsx(md,{as:j1,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(De.div,{"data-state":yd(a.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),On="DialogContent",Zv=y.forwardRef((r,e)=>{const n=Yv(On,r.__scopeDialog),{forceMount:i=n.forceMount,...a}=r,l=ar(On,r.__scopeDialog);return c.jsx(Li,{present:i||l.open,children:l.modal?c.jsx(k1,{...a,ref:e}):c.jsx(N1,{...a,ref:e})})});Zv.displayName=On;var k1=y.forwardRef((r,e)=>{const n=ar(On,r.__scopeDialog),i=y.useRef(null),a=qe(e,n.contentRef,i);return y.useEffect(()=>{const l=i.current;if(l)return Wv(l)},[]),c.jsx(ey,{...r,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(r.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(r.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Pe(r.onFocusOutside,l=>l.preventDefault())})}),N1=y.forwardRef((r,e)=>{const n=ar(On,r.__scopeDialog),i=y.useRef(!1),a=y.useRef(!1);return c.jsx(ey,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||n.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{r.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),ey=y.forwardRef((r,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=r,f=ar(On,n),h=y.useRef(null),m=qe(e,h);return Lv(),c.jsxs(c.Fragment,{children:[c.jsx(hd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:c.jsx(fd,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":yd(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(A1,{titleId:f.titleId}),c.jsx(P1,{contentRef:h,descriptionId:f.descriptionId})]})]})}),vd="DialogTitle",ty=y.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,a=ar(vd,n);return c.jsx(De.h2,{id:a.titleId,...i,ref:e})});ty.displayName=vd;var ry="DialogDescription",ny=y.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,a=ar(ry,n);return c.jsx(De.p,{id:a.descriptionId,...i,ref:e})});ny.displayName=ry;var sy="DialogClose",iy=y.forwardRef((r,e)=>{const{__scopeDialog:n,...i}=r,a=ar(sy,n);return c.jsx(De.button,{type:"button",...i,ref:e,onClick:Pe(r.onClick,()=>a.onOpenChange(!1))})});iy.displayName=sy;function yd(r){return r?"open":"closed"}var oy="DialogTitleWarning",[C1,ay]=zb(oy,{contentName:On,titleName:vd,docsSlug:"dialog"}),A1=({titleId:r})=>{const e=ay(oy),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{r&&(document.getElementById(r)||console.error(n))},[n,r]),null},T1="DialogDescriptionWarning",P1=({contentRef:r,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ay(T1).contentName}}.`;return y.useEffect(()=>{const a=r.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(i))},[i,r,e]),null},ly=Kv,R1=Jv,cy=Qv,uy=Xv,dy=Zv,fy=ty,hy=ny,xd=iy;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Lm=r=>{const e=I1(r);return e.charAt(0).toUpperCase()+e.slice(1)},py=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=y.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},h)=>y.createElement("svg",{ref:h,...D1,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:py("lucide",a),...f},[...u.map(([m,v])=>y.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(r,e)=>{const n=y.forwardRef(({className:i,...a},l)=>y.createElement(L1,{ref:l,iconNode:e,className:py(`lucide-${O1(Lm(r))}`,`lucide-${r}`,i),...a}));return n.displayName=Lm(r),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],M1=Fe("arrow-left",$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],my=Fe("arrow-up",B1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wd=Fe("calendar",U1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z1=Fe("check",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gy=Fe("chevron-down",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],H1=Fe("chevron-up",W1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],K1=Fe("circle-alert",q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ea=Fe("clock",G1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vy=Fe("credit-card",J1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nn=Fe("dollar-sign",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yy=Fe("file-text",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$m=Fe("loader-circle",X1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Pi=Fe("log-out",Z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],tk=Fe("mail",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xy=Fe("map-pin",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ka=Fe("music",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ik=Fe("phone",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],js=Fe("plus",ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lk=Fe("save",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wy=Fe("search",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],by=Fe("settings",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],hr=Fe("trending-up",dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mm=Fe("triangle-alert",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],pk=Fe("upload",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_y=Fe("users",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Va=Fe("x",gk);function bd({...r}){return c.jsx(ly,{"data-slot":"dialog",...r})}function vk({...r}){return c.jsx(cy,{"data-slot":"dialog-portal",...r})}function yk({className:r,...e}){return c.jsx(uy,{"data-slot":"dialog-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function _d({className:r,children:e,...n}){return c.jsxs(vk,{"data-slot":"dialog-portal",children:[c.jsx(yk,{}),c.jsxs(dy,{"data-slot":"dialog-content",className:Ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...n,children:[e,c.jsxs(xd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(Va,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Sd({className:r,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:Ae("flex flex-col gap-2 text-center sm:text-left",r),...e})}function jd({className:r,...e}){return c.jsx(fy,{"data-slot":"dialog-title",className:Ae("text-lg leading-none font-semibold",r),...e})}function Ed({className:r,...e}){return c.jsx(hy,{"data-slot":"dialog-description",className:Ae("text-muted-foreground text-sm",r),...e})}function Wa({className:r,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:Ae("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}function Sy({isOpen:r,onClose:e,onSubmit:n,askCost:i,currentBid:a,lowestBid:l,isRebid:u=!1}){const[f,h]=y.useState(i.toString()),[m,v]=y.useState(""),[x,w]=y.useState(""),S=E=>{E.preventDefault();const _=parseFloat(f);if(u&&a&&_>=a){w(`Your new bid must be lower than your previous bid of $${a}`);return}w(""),n(_,m),h(""),v("")};return c.jsx(bd,{open:r,onOpenChange:e,children:c.jsxs(_d,{className:"max-w-md w-[95vw] sm:w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs(Sd,{children:[c.jsx(jd,{children:u?"Submit Another Bid":"Place Your Bid"}),c.jsx(Ed,{children:u&&a?`Your new bid must be lower than your previous bid of $${a}`:"Submit your offer to accompany this soloist"})]}),c.jsxs("form",{onSubmit:S,className:"space-y-4 mt-4",children:[x&&c.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:c.jsx("p",{className:"text-sm text-red-600",children:x})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"amount",children:"Your Bid Amount ($) *"}),c.jsx(Me,{id:"amount",type:"number",step:"0.01",min:"0",max:u&&a?(a-.01).toString():void 0,placeholder:i.toString(),value:f,onChange:E=>{h(E.target.value),w("")},required:!0}),c.jsx("p",{className:"text-xs text-gray-500",children:u&&a?`Maximum: $${(a-.01).toFixed(2)} (your previous bid: $${a})`:l?`Current lowest bid: $${l}`:`Suggested: $${i}`})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"message",children:"Message *"}),c.jsx(Wa,{id:"message",placeholder:"Introduce yourself and explain why you're a great fit...",value:m,onChange:E=>v(E.target.value),rows:4,required:!0})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),c.jsx(Ye,{type:"submit",className:"flex-1",children:u?"Submit New Bid":"Submit Bid"})]})]})]})})}function Bm(r){const e=new Date().getTime(),i=new Date(r).getTime()-e;if(i<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0,isLastDay:!1};const a=Math.floor(i/(1e3*60*60*24)),l=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),u=Math.floor(i%(1e3*60*60)/(1e3*60)),f=Math.floor(i%(1e3*60)/1e3),h=i<1e3*60*60*24;return{days:a,hours:l,minutes:u,seconds:f,isExpired:!1,isLastDay:h}}function jy({auctionEndTime:r,onExpire:e,compact:n=!1}){const[i,a]=y.useState(Bm(r));if(y.useEffect(()=>{const v=setInterval(()=>{const x=Bm(r);a(x),x.isExpired&&e&&(e(),clearInterval(v))},1e3);return()=>clearInterval(v)},[r,e]),i.isExpired)return c.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[c.jsx(K1,{className:"w-4 h-4"}),c.jsx("span",{children:"Auction Ended"})]});if(!i.isLastDay){const v=i.days*24+i.hours;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ea,{className:"w-4 h-4 text-white"}),c.jsxs("div",{className:"font-bold text-white",children:[i.days>0&&c.jsxs("span",{children:[i.days,"d ",i.hours,"h"]}),i.days===0&&c.jsxs("span",{children:[v,"h ",i.minutes,"m"]}),!n&&c.jsx("span",{className:"text-white text-sm ml-1",children:"left"})]})]})}const l=i.hours===0&&i.minutes===0,u=i.hours===0&&i.minutes<10,f=String(i.hours).padStart(2,"0"),h=String(i.minutes).padStart(2,"0"),m=String(i.seconds).padStart(2,"0");return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ea,{className:`w-4 h-4 text-white ${l?"animate-pulse":""}`}),c.jsxs("div",{className:"font-mono font-bold text-white",children:[f,":",h,":",m]}),!n&&c.jsx("span",{className:"text-white text-sm font-bold",children:l?"FINAL MINUTE!":u?"ending soon":"left"})]})}var xk=Symbol("radix.slottable");function wk(r){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${r}.Slottable`,e.__radixId=xk,e}var Ey="AlertDialog",[bk]=$n(Ey,[qv]),Pr=qv(),ky=r=>{const{__scopeAlertDialog:e,...n}=r,i=Pr(e);return c.jsx(ly,{...i,...n,modal:!0})};ky.displayName=Ey;var _k="AlertDialogTrigger",Sk=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,a=Pr(n);return c.jsx(R1,{...a,...i,ref:e})});Sk.displayName=_k;var jk="AlertDialogPortal",Ny=r=>{const{__scopeAlertDialog:e,...n}=r,i=Pr(e);return c.jsx(cy,{...i,...n})};Ny.displayName=jk;var Ek="AlertDialogOverlay",Cy=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,a=Pr(n);return c.jsx(uy,{...a,...i,ref:e})});Cy.displayName=Ek;var Es="AlertDialogContent",[kk,Nk]=bk(Es),Ck=wk("AlertDialogContent"),Ay=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,children:i,...a}=r,l=Pr(n),u=y.useRef(null),f=qe(e,u),h=y.useRef(null);return c.jsx(C1,{contentName:Es,titleName:Ty,docsSlug:"alert-dialog",children:c.jsx(kk,{scope:n,cancelRef:h,children:c.jsxs(dy,{role:"alertdialog",...l,...a,ref:f,onOpenAutoFocus:Pe(a.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[c.jsx(Ck,{children:i}),c.jsx(Tk,{contentRef:u})]})})})});Ay.displayName=Es;var Ty="AlertDialogTitle",Py=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,a=Pr(n);return c.jsx(fy,{...a,...i,ref:e})});Py.displayName=Ty;var Ry="AlertDialogDescription",Oy=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,a=Pr(n);return c.jsx(hy,{...a,...i,ref:e})});Oy.displayName=Ry;var Ak="AlertDialogAction",Iy=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,a=Pr(n);return c.jsx(xd,{...a,...i,ref:e})});Iy.displayName=Ak;var Dy="AlertDialogCancel",Ly=y.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...i}=r,{cancelRef:a}=Nk(Dy,n),l=Pr(n),u=qe(e,a);return c.jsx(xd,{...l,...i,ref:u})});Ly.displayName=Dy;var Tk=({contentRef:r})=>{const e=`\`${Es}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Es}\` by passing a \`${Ry}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Es}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},Pk=ky,Rk=Ny,Ok=Cy,Ik=Ay,Dk=Iy,Lk=Ly,$k=Py,Mk=Oy;function Bk({...r}){return c.jsx(Pk,{"data-slot":"alert-dialog",...r})}function Uk({...r}){return c.jsx(Rk,{"data-slot":"alert-dialog-portal",...r})}const $y=y.forwardRef(({className:r,...e},n)=>c.jsx(Ok,{ref:n,"data-slot":"alert-dialog-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e}));$y.displayName="AlertDialogOverlay";function Fk({className:r,...e}){return c.jsxs(Uk,{children:[c.jsx($y,{}),c.jsx(Ik,{"data-slot":"alert-dialog-content",className:Ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...e})]})}function zk({className:r,...e}){return c.jsx("div",{"data-slot":"alert-dialog-header",className:Ae("flex flex-col gap-2 text-center sm:text-left",r),...e})}function Vk({className:r,...e}){return c.jsx("div",{"data-slot":"alert-dialog-footer",className:Ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...e})}function Wk({className:r,...e}){return c.jsx($k,{"data-slot":"alert-dialog-title",className:Ae("text-lg font-semibold",r),...e})}function Hk({className:r,...e}){return c.jsx(Mk,{"data-slot":"alert-dialog-description",className:Ae("text-muted-foreground text-sm",r),...e})}const My=y.forwardRef(({className:r,...e},n)=>c.jsx(Dk,{ref:n,"data-slot":"alert-dialog-action",className:Ae(Gu(),r),...e}));My.displayName="AlertDialogAction";const By=y.forwardRef(({className:r,...e},n)=>c.jsx(Lk,{ref:n,"data-slot":"alert-dialog-cancel",className:Ae(Gu({variant:"outline"}),r),...e}));By.displayName="AlertDialogCancel";function Uy({isOpen:r,onClose:e,onConfirm:n,bidAmount:i,pianistName:a,isAuctionActive:l,timeRemaining:u}){return c.jsx(Bk,{open:r,onOpenChange:e,children:c.jsxs(Fk,{children:[c.jsxs(zk,{children:[c.jsxs(Wk,{className:"flex items-center gap-2",children:[l&&c.jsx(Mm,{className:"w-5 h-5 text-orange-600"}),"Accept Bid from ",a,"?"]}),c.jsx(Hk,{asChild:!0,children:c.jsxs("div",{className:"space-y-3 text-left",children:[c.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900 dark:text-gray-100",children:[c.jsx(nn,{className:"w-5 h-5"}),"$",i]}),l&&u&&c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[c.jsxs("div",{className:"font-semibold text-orange-900 dark:text-orange-100 flex items-center gap-2",children:[c.jsx(Mm,{className:"w-4 h-4"}),"Ending Auction Early"]}),c.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:["This auction still has ",c.jsx("strong",{children:u})," remaining. Accepting this bid will:"]}),c.jsxs("ul",{className:"text-sm text-orange-800 dark:text-orange-200 list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Immediately end the auction"}),c.jsx("li",{children:"Reject all other pending bids"}),c.jsx("li",{children:"Prevent new bids from being placed"}),c.jsx("li",{children:"Reveal the pianist's contact information"})]})]}),!l&&c.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-3",children:c.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:"The auction has ended. Accepting this bid will reveal the pianist's contact information."})}),c.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You'll receive ",c.jsxs("strong",{children:[a,"'s"]})," email and phone number (if provided) to coordinate your performance."]})]})})]}),c.jsxs(Vk,{children:[c.jsx(By,{children:"Cancel"}),c.jsx(My,{onClick:n,children:l?"End Auction & Accept Bid":"Accept Bid"})]})]})})}function mu({ask:r,userType:e,userName:n,onPlaceBid:i,onAcceptBid:a,onArchiveAsk:l,isActivityView:u=!1}){const[f,h]=y.useState(!1),[m,v]=y.useState(!1),[x,w]=y.useState(!1),[S,E]=y.useState(null),_=r.soloistName===n,T=r.bids.filter(O=>O.pianistName===n).find(O=>O.status==="pending"),k=r.bids.some(O=>O.status==="accepted"),A=r.auctionEndTime?new Date(r.auctionEndTime).getTime()<new Date().getTime():!1,L=r.auctionStatus==="active"&&!A,H=O=>{const G=new Date,W=new Date(O),z=G.getTime()-W.getTime(),Q=Math.floor(z/6e4),I=Math.floor(z/36e5),$=Math.floor(z/864e5);return Q<1?"Just now":Q<60?`${Q}m ago`:I<24?`${I}h ago`:$<7?`${$}d ago`:W.toLocaleDateString()},V=()=>{if(!r.auctionEndTime)return"";const O=new Date,W=new Date(r.auctionEndTime).getTime()-O.getTime();if(W<=0)return"";const z=Math.floor(W/(1e3*60*60*24)),Q=Math.floor(W%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(W%(1e3*60*60)/(1e3*60));return z>0?`${z}d ${Q}h`:Q>0?`${Q}h ${I}m`:`${I}m`},U=(O,G)=>{i(r.id,{pianistName:n,amount:O,message:G}),h(!1)},N=(O,G,W)=>{E({id:O,amount:G,pianistName:W}),w(!0)},B=()=>{S&&(a(r.id,S.id),w(!1),E(null))},J=r.bids.filter(O=>O.status==="pending"),te=J.length>0?Math.min(...J.map(O=>O.amount)):null,K=J.length>0?Math.round(J.reduce((O,G)=>O+G.amount,0)/J.length):null;return c.jsxs(c.Fragment,{children:[c.jsxs(xt,{children:[c.jsxs(At,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between mb-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx(Mi,{className:"h-10 w-10 sm:h-12 sm:w-12",children:c.jsx(Bi,{className:"text-sm",children:r.soloistName.split(" ").map(O=>O[0]).join("")})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:r.soloistName}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:r.instrument}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Posted ",H(r.createdAt)]})]})]}),c.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end gap-2 sm:text-right",children:[c.jsx(Te,{variant:r.costType==="hourly"?"default":r.costType==="total"?"outline":"secondary",className:"text-xs",children:r.costType==="hourly"?"Hourly":r.costType==="total"?"Total Fee":"Per Piece"}),c.jsxs("div",{className:"sm:mt-1",children:[c.jsxs("span",{className:"text-xl sm:text-2xl font-bold",children:["$",r.cost]}),c.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:r.costType==="hourly"?"/hr":""})]})]})]}),r.auctionEndTime&&r.auctionStatus==="active"&&!r.archivedAt&&!u&&c.jsx("div",{className:"pt-4 mt-3",children:c.jsxs("div",{className:"inline-flex flex-wrap items-center gap-2 sm:gap-4 rounded-lg px-3 py-2 shadow-md text-sm sm:text-base",style:{backgroundColor:"#AAA9AD"},children:[c.jsx(jy,{auctionEndTime:r.auctionEndTime}),te!==null&&c.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm sm:text-base",children:[c.jsx(my,{className:"w-3 h-3 sm:w-4 sm:h-4",style:{transform:"rotate(180deg)"}}),c.jsx("span",{children:"Bid:"}),c.jsxs("span",{children:["$",te]})]})]})}),r.archivedAt&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"secondary",className:"bg-gray-400 text-white",children:"Deleted"})}),!r.archivedAt&&r.auctionStatus==="completed"&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"default",className:"bg-green-600",children:"Auction Complete"})}),!r.archivedAt&&(A||r.auctionStatus==="expired")&&r.auctionStatus!=="completed"&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"destructive",children:"Auction Expired"})})]}),c.jsxs(wt,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:r.description}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-2 text-sm",children:[r.pieces.length>0&&c.jsxs("div",{className:"flex items-start gap-2 text-gray-600",children:[c.jsx(ka,{className:"size-4 mt-0.5 flex-shrink-0"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:r.pieces.map((O,G)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-xs",children:O},G))})]}),r.duration&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(Ea,{className:"size-4"}),c.jsx("span",{children:r.duration})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(wd,{className:"size-4"}),c.jsxs("span",{className:"break-words",children:[r.dateType==="single"&&r.date&&new Date(r.date).toLocaleDateString(),r.dateType==="range"&&r.startDate&&r.endDate&&`${new Date(r.startDate).toLocaleDateString()} - ${new Date(r.endDate).toLocaleDateString()}`,r.dateType==="semester"&&r.semester]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(xy,{className:"size-4"}),c.jsx("span",{className:"break-words",children:r.location})]})]})]}),r.bids.length>0&&!u&&c.jsxs("div",{className:"w-full sm:w-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-3 sm:p-4 border border-gray-200 space-y-2",children:[c.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Bid Stats"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Total Bids"}),c.jsx("span",{className:"text-sm font-bold text-gray-900",children:r.bids.length})]}),te&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Lowest Bid"}),c.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",te]})]}),K&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Avg. Bid"}),c.jsxs("span",{className:"text-sm font-bold text-amber-600",children:["$",K]})]})]})]})]}),r.bids.length>0&&c.jsxs("div",{className:"pt-2 border-t",children:[c.jsxs("button",{onClick:()=>v(!m),style:{background:"#fe440a"},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md text-white font-semibold text-sm shadow-md hover:shadow-lg transition-all hover:scale-[1.02] whitespace-nowrap",children:[c.jsx("span",{children:m?"":""}),c.jsxs("span",{children:[r.bids.length," bid",r.bids.length!==1?"s":""," placed"]})]}),m&&c.jsx("div",{className:"mt-3 space-y-2",children:[...r.bids].map(O=>{const W=[...r.bids.filter(Q=>Q.pianistName===O.pianistName)].sort((Q,I)=>new Date(I.createdAt).getTime()-new Date(Q.createdAt).getTime()),z=W.length>0&&W[0].id!==O.id;return{...O,newerBidExists:z}}).sort((O,G)=>O.newerBidExists!==G.newerBidExists?O.newerBidExists?1:-1:O.amount-G.amount).map(O=>{const G=O.newerBidExists;return c.jsxs("div",{className:`p-3 rounded-lg border ${G?"bg-gray-100 border-gray-300 opacity-60":O.status==="accepted"?"bg-green-50 border-green-200":O.status==="rejected"?"bg-gray-50 border-gray-200":"bg-white border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",style:G?{textDecoration:"line-through"}:{},children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{children:O.pianistName}),O.status==="accepted"&&c.jsx(Te,{className:"bg-green-600",style:{textDecoration:"none"},children:"Accepted"}),O.status==="rejected"&&c.jsx(Te,{variant:"secondary",style:{textDecoration:"none"},children:"Not Selected"}),G&&c.jsx("span",{style:{textDecoration:"none"},children:c.jsx(Te,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:"New Bid Placed"})})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.message})]}),c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(nn,{className:"size-4"}),c.jsx("span",{children:O.amount})]})})]}),_&&O.status==="pending"&&!k&&!u&&!G&&c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},className:"mt-2",children:c.jsx("button",{onClick:()=>N(O.id,O.amount,O.pianistName),style:{background:"#16a34a"},className:"relative overflow-hidden transition-all duration-300 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] rounded-md h-9 px-6 py-2 inline-flex items-center justify-center text-sm border-0",children:L?"Accept & End Auction":"Accept Bid"})})]},O.id)})})]}),e==="pianist"&&T&&c.jsx("div",{className:"pt-2 border-t",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-700",children:["Your current bid: $",T.amount]}),T.status==="accepted"&&c.jsx(Te,{className:"bg-green-100 text-green-700 border-green-200",children:"Accepted"}),T.status==="pending"&&c.jsx(Te,{className:"bg-amber-100 text-amber-700 border-amber-200",children:"Pending"}),T.status==="rejected"&&c.jsx(Te,{className:"bg-red-100 text-red-700 border-red-200",children:"Canceled"})]})})]}),c.jsxs(Ju,{style:{display:"flex",justifyContent:"flex-end"},children:[e==="pianist"&&!_&&!k&&!A&&r.auctionStatus!=="expired"&&r.auctionStatus!=="completed"&&!u&&c.jsx("button",{onClick:()=>h(!0),style:{background:"#fe440a"},className:"relative overflow-hidden transition-all duration-300 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-95 rounded-md h-11 sm:h-9 px-6 py-2 inline-flex items-center justify-center text-sm sm:text-sm w-full sm:w-auto border-0",children:T?"Submit Another Bid":"Place Bid"}),(A||r.auctionStatus==="expired")&&!k&&r.auctionStatus!=="completed"&&!_&&!u&&c.jsx("div",{className:"w-full text-center text-sm text-gray-600",children:"Bidding has ended"}),k&&!_&&!T&&!u&&c.jsx("div",{className:"w-full text-center text-sm text-gray-600",children:"This opportunity has been filled"}),e==="soloist"&&_&&!r.archivedAt&&k&&r.auctionStatus==="completed"&&!u&&c.jsx(Ye,{onClick:()=>l(r.id),variant:"destructive",className:"w-full",children:"Delete Ask"}),u&&c.jsxs("div",{className:"w-full flex justify-center",children:[r.auctionStatus==="active"&&!r.archivedAt&&c.jsx(Te,{className:"bg-green-600 text-white shadow-lg shadow-green-600/50",children:"Active"}),r.auctionStatus==="completed"&&c.jsx(Te,{className:"bg-green-600 text-white shadow-lg shadow-green-600/50",children:"Completed"}),r.archivedAt&&c.jsx(Te,{className:"bg-yellow-600 text-white shadow-lg shadow-red-600/50",children:"Archived"})]})]})]}),c.jsx(Sy,{isOpen:f,onClose:()=>h(!1),onSubmit:U,askCost:r.cost,currentBid:T?.amount,lowestBid:te,isRebid:!!T}),c.jsx(Uy,{isOpen:x,onClose:()=>w(!1),onConfirm:B,bidAmount:S?.amount||0,pianistName:S?.pianistName||"",isAuctionActive:L,timeRemaining:V()})]})}function Na(){return c.jsxs(xt,{className:"animate-pulse",children:[c.jsxs(At,{children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded"}),c.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"}),c.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"})]})]}),c.jsxs("div",{className:"text-right space-y-2",children:[c.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"}),c.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded"})]})]}),c.jsx("div",{className:"pt-3 border-t",children:c.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded"})})]}),c.jsxs(wt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),c.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded"}),c.jsx("div",{className:"h-4 w-4/6 bg-gray-200 rounded"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"}),c.jsx("div",{className:"h-4 w-28 bg-gray-200 rounded"})]})]}),c.jsx(Ju,{children:c.jsx("div",{className:"h-10 w-full bg-gray-200 rounded"})})]})}function Um(r,[e,n]){return Math.min(n,Math.max(e,r))}const qk=["top","right","bottom","left"],sn=Math.min,It=Math.max,Ca=Math.round,ha=Math.floor,mr=r=>({x:r,y:r}),Kk={left:"right",right:"left",bottom:"top",top:"bottom"},Gk={start:"end",end:"start"};function Lu(r,e,n){return It(r,sn(e,n))}function Ar(r,e){return typeof r=="function"?r(e):r}function Tr(r){return r.split("-")[0]}function Os(r){return r.split("-")[1]}function kd(r){return r==="x"?"y":"x"}function Nd(r){return r==="y"?"height":"width"}const Jk=new Set(["top","bottom"]);function pr(r){return Jk.has(Tr(r))?"y":"x"}function Cd(r){return kd(pr(r))}function Yk(r,e,n){n===void 0&&(n=!1);const i=Os(r),a=Cd(r),l=Nd(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Aa(u)),[u,Aa(u)]}function Qk(r){const e=Aa(r);return[$u(r),e,$u(e)]}function $u(r){return r.replace(/start|end/g,e=>Gk[e])}const Fm=["left","right"],zm=["right","left"],Xk=["top","bottom"],Zk=["bottom","top"];function eN(r,e,n){switch(r){case"top":case"bottom":return n?e?zm:Fm:e?Fm:zm;case"left":case"right":return e?Xk:Zk;default:return[]}}function tN(r,e,n,i){const a=Os(r);let l=eN(Tr(r),n==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map($u)))),l}function Aa(r){return r.replace(/left|right|bottom|top/g,e=>Kk[e])}function rN(r){return{top:0,right:0,bottom:0,left:0,...r}}function Fy(r){return typeof r!="number"?rN(r):{top:r,right:r,bottom:r,left:r}}function Ta(r){const{x:e,y:n,width:i,height:a}=r;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function Vm(r,e,n){let{reference:i,floating:a}=r;const l=pr(e),u=Cd(e),f=Nd(u),h=Tr(e),m=l==="y",v=i.x+i.width/2-a.width/2,x=i.y+i.height/2-a.height/2,w=i[f]/2-a[f]/2;let S;switch(h){case"top":S={x:v,y:i.y-a.height};break;case"bottom":S={x:v,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:x};break;case"left":S={x:i.x-a.width,y:x};break;default:S={x:i.x,y:i.y}}switch(Os(e)){case"start":S[u]-=w*(n&&m?-1:1);break;case"end":S[u]+=w*(n&&m?-1:1);break}return S}const nN=async(r,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:v,y:x}=Vm(m,i,h),w=i,S={},E=0;for(let _=0;_<f.length;_++){const{name:j,fn:T}=f[_],{x:k,y:A,data:L,reset:H}=await T({x:v,y:x,initialPlacement:i,placement:w,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});v=k??v,x=A??x,S={...S,[j]:{...S[j],...L}},H&&E<=50&&(E++,typeof H=="object"&&(H.placement&&(w=H.placement),H.rects&&(m=H.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):H.rects),{x:v,y:x}=Vm(m,w,h)),_=-1)}return{x:v,y:x,placement:w,strategy:a,middlewareData:S}};async function Ri(r,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:f,strategy:h}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:w=!1,padding:S=0}=Ar(e,r),E=Fy(S),j=f[w?x==="floating"?"reference":"floating":x],T=Ta(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(j)))==null||n?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:v,strategy:h})),k=x==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),L=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},H=Ta(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:A,strategy:h}):k);return{top:(T.top-H.top+E.top)/L.y,bottom:(H.bottom-T.bottom+E.bottom)/L.y,left:(T.left-H.left+E.left)/L.x,right:(H.right-T.right+E.right)/L.x}}const sN=r=>({name:"arrow",options:r,async fn(e){const{x:n,y:i,placement:a,rects:l,platform:u,elements:f,middlewareData:h}=e,{element:m,padding:v=0}=Ar(r,e)||{};if(m==null)return{};const x=Fy(v),w={x:n,y:i},S=Cd(a),E=Nd(S),_=await u.getDimensions(m),j=S==="y",T=j?"top":"left",k=j?"bottom":"right",A=j?"clientHeight":"clientWidth",L=l.reference[E]+l.reference[S]-w[S]-l.floating[E],H=w[S]-l.reference[S],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let U=V?V[A]:0;(!U||!await(u.isElement==null?void 0:u.isElement(V)))&&(U=f.floating[A]||l.floating[E]);const N=L/2-H/2,B=U/2-_[E]/2-1,J=sn(x[T],B),te=sn(x[k],B),K=J,O=U-_[E]-te,G=U/2-_[E]/2+N,W=Lu(K,G,O),z=!h.arrow&&Os(a)!=null&&G!==W&&l.reference[E]/2-(G<K?J:te)-_[E]/2<0,Q=z?G<K?G-K:G-O:0;return{[S]:w[S]+Q,data:{[S]:W,centerOffset:G-W-Q,...z&&{alignmentOffset:Q}},reset:z}}}),iN=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var n,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...j}=Ar(r,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const T=Tr(a),k=pr(f),A=Tr(f)===f,L=await(h.isRTL==null?void 0:h.isRTL(m.floating)),H=w||(A||!_?[Aa(f)]:Qk(f)),V=E!=="none";!w&&V&&H.push(...tN(f,_,E,L));const U=[f,...H],N=await Ri(e,j),B=[];let J=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&B.push(N[T]),x){const G=Yk(a,u,L);B.push(N[G[0]],N[G[1]])}if(J=[...J,{placement:a,overflows:B}],!B.every(G=>G<=0)){var te,K;const G=(((te=l.flip)==null?void 0:te.index)||0)+1,W=U[G];if(W&&(!(x==="alignment"?k!==pr(W):!1)||J.every(I=>pr(I.placement)===k?I.overflows[0]>0:!0)))return{data:{index:G,overflows:J},reset:{placement:W}};let z=(K=J.filter(Q=>Q.overflows[0]<=0).sort((Q,I)=>Q.overflows[1]-I.overflows[1])[0])==null?void 0:K.placement;if(!z)switch(S){case"bestFit":{var O;const Q=(O=J.filter(I=>{if(V){const $=pr(I.placement);return $===k||$==="y"}return!0}).map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:O[0];Q&&(z=Q);break}case"initialPlacement":z=f;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function Wm(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Hm(r){return qk.some(e=>r[e]>=0)}const oN=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=Ar(r,e);switch(i){case"referenceHidden":{const l=await Ri(e,{...a,elementContext:"reference"}),u=Wm(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Hm(u)}}}case"escaped":{const l=await Ri(e,{...a,altBoundary:!0}),u=Wm(l,n.floating);return{data:{escapedOffsets:u,escaped:Hm(u)}}}default:return{}}}}},zy=new Set(["left","top"]);async function aN(r,e){const{placement:n,platform:i,elements:a}=r,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Tr(n),f=Os(n),h=pr(n)==="y",m=zy.has(u)?-1:1,v=l&&h?-1:1,x=Ar(e,r);let{mainAxis:w,crossAxis:S,alignmentAxis:E}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof E=="number"&&(S=f==="end"?E*-1:E),h?{x:S*v,y:w*m}:{x:w*m,y:S*v}}const lN=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var n,i;const{x:a,y:l,placement:u,middlewareData:f}=e,h=await aN(e,r);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:u}}}}},cN=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:j=>{let{x:T,y:k}=j;return{x:T,y:k}}},...h}=Ar(r,e),m={x:n,y:i},v=await Ri(e,h),x=pr(Tr(a)),w=kd(x);let S=m[w],E=m[x];if(l){const j=w==="y"?"top":"left",T=w==="y"?"bottom":"right",k=S+v[j],A=S-v[T];S=Lu(k,S,A)}if(u){const j=x==="y"?"top":"left",T=x==="y"?"bottom":"right",k=E+v[j],A=E-v[T];E=Lu(k,E,A)}const _=f.fn({...e,[w]:S,[x]:E});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[w]:l,[x]:u}}}}}},uN=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:n,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=Ar(r,e),v={x:n,y:i},x=pr(a),w=kd(x);let S=v[w],E=v[x];const _=Ar(f,e),j=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const A=w==="y"?"height":"width",L=l.reference[w]-l.floating[A]+j.mainAxis,H=l.reference[w]+l.reference[A]-j.mainAxis;S<L?S=L:S>H&&(S=H)}if(m){var T,k;const A=w==="y"?"width":"height",L=zy.has(Tr(a)),H=l.reference[x]-l.floating[A]+(L&&((T=u.offset)==null?void 0:T[x])||0)+(L?0:j.crossAxis),V=l.reference[x]+l.reference[A]+(L?0:((k=u.offset)==null?void 0:k[x])||0)-(L?j.crossAxis:0);E<H?E=H:E>V&&(E=V)}return{[w]:S,[x]:E}}}},dN=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var n,i;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:h=()=>{},...m}=Ar(r,e),v=await Ri(e,m),x=Tr(a),w=Os(a),S=pr(a)==="y",{width:E,height:_}=l.floating;let j,T;x==="top"||x==="bottom"?(j=x,T=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(T=x,j=w==="end"?"top":"bottom");const k=_-v.top-v.bottom,A=E-v.left-v.right,L=sn(_-v[j],k),H=sn(E-v[T],A),V=!e.middlewareData.shift;let U=L,N=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=A),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(U=k),V&&!w){const J=It(v.left,0),te=It(v.right,0),K=It(v.top,0),O=It(v.bottom,0);S?N=E-2*(J!==0||te!==0?J+te:It(v.left,v.right)):U=_-2*(K!==0||O!==0?K+O:It(v.top,v.bottom))}await h({...e,availableWidth:N,availableHeight:U});const B=await u.getDimensions(f.floating);return E!==B.width||_!==B.height?{reset:{rects:!0}}:{}}}};function Ha(){return typeof window<"u"}function Is(r){return Vy(r)?(r.nodeName||"").toLowerCase():"#document"}function $t(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function vr(r){var e;return(e=(Vy(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Vy(r){return Ha()?r instanceof Node||r instanceof $t(r).Node:!1}function ir(r){return Ha()?r instanceof Element||r instanceof $t(r).Element:!1}function gr(r){return Ha()?r instanceof HTMLElement||r instanceof $t(r).HTMLElement:!1}function qm(r){return!Ha()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof $t(r).ShadowRoot}const fN=new Set(["inline","contents"]);function Ui(r){const{overflow:e,overflowX:n,overflowY:i,display:a}=or(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!fN.has(a)}const hN=new Set(["table","td","th"]);function pN(r){return hN.has(Is(r))}const mN=[":popover-open",":modal"];function qa(r){return mN.some(e=>{try{return r.matches(e)}catch{return!1}})}const gN=["transform","translate","scale","rotate","perspective"],vN=["transform","translate","scale","rotate","perspective","filter"],yN=["paint","layout","strict","content"];function Ad(r){const e=Td(),n=ir(r)?or(r):r;return gN.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vN.some(i=>(n.willChange||"").includes(i))||yN.some(i=>(n.contain||"").includes(i))}function xN(r){let e=on(r);for(;gr(e)&&!Cs(e);){if(Ad(e))return e;if(qa(e))return null;e=on(e)}return null}function Td(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wN=new Set(["html","body","#document"]);function Cs(r){return wN.has(Is(r))}function or(r){return $t(r).getComputedStyle(r)}function Ka(r){return ir(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function on(r){if(Is(r)==="html")return r;const e=r.assignedSlot||r.parentNode||qm(r)&&r.host||vr(r);return qm(e)?e.host:e}function Wy(r){const e=on(r);return Cs(e)?r.ownerDocument?r.ownerDocument.body:r.body:gr(e)&&Ui(e)?e:Wy(e)}function Oi(r,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Wy(r),l=a===((i=r.ownerDocument)==null?void 0:i.body),u=$t(a);if(l){const f=Mu(u);return e.concat(u,u.visualViewport||[],Ui(a)?a:[],f&&n?Oi(f):[])}return e.concat(a,Oi(a,[],n))}function Mu(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Hy(r){const e=or(r);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=gr(r),l=a?r.offsetWidth:n,u=a?r.offsetHeight:i,f=Ca(n)!==l||Ca(i)!==u;return f&&(n=l,i=u),{width:n,height:i,$:f}}function Pd(r){return ir(r)?r:r.contextElement}function ks(r){const e=Pd(r);if(!gr(e))return mr(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:l}=Hy(e);let u=(l?Ca(n.width):n.width)/i,f=(l?Ca(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const bN=mr(0);function qy(r){const e=$t(r);return!Td()||!e.visualViewport?bN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _N(r,e,n){return e===void 0&&(e=!1),!n||e&&n!==$t(r)?!1:e}function In(r,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=r.getBoundingClientRect(),l=Pd(r);let u=mr(1);e&&(i?ir(i)&&(u=ks(i)):u=ks(r));const f=_N(l,n,i)?qy(l):mr(0);let h=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,v=a.width/u.x,x=a.height/u.y;if(l){const w=$t(l),S=i&&ir(i)?$t(i):i;let E=w,_=Mu(E);for(;_&&i&&S!==E;){const j=ks(_),T=_.getBoundingClientRect(),k=or(_),A=T.left+(_.clientLeft+parseFloat(k.paddingLeft))*j.x,L=T.top+(_.clientTop+parseFloat(k.paddingTop))*j.y;h*=j.x,m*=j.y,v*=j.x,x*=j.y,h+=A,m+=L,E=$t(_),_=Mu(E)}}return Ta({width:v,height:x,x:h,y:m})}function Ga(r,e){const n=Ka(r).scrollLeft;return e?e.left+n:In(vr(r)).left+n}function Ky(r,e){const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-Ga(r,n),a=n.top+e.scrollTop;return{x:i,y:a}}function SN(r){let{elements:e,rect:n,offsetParent:i,strategy:a}=r;const l=a==="fixed",u=vr(i),f=e?qa(e.floating):!1;if(i===u||f&&l)return n;let h={scrollLeft:0,scrollTop:0},m=mr(1);const v=mr(0),x=gr(i);if((x||!x&&!l)&&((Is(i)!=="body"||Ui(u))&&(h=Ka(i)),gr(i))){const S=In(i);m=ks(i),v.x=S.x+i.clientLeft,v.y=S.y+i.clientTop}const w=u&&!x&&!l?Ky(u,h):mr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+v.x+w.x,y:n.y*m.y-h.scrollTop*m.y+v.y+w.y}}function jN(r){return Array.from(r.getClientRects())}function EN(r){const e=vr(r),n=Ka(r),i=r.ownerDocument.body,a=It(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=It(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Ga(r);const f=-n.scrollTop;return or(i).direction==="rtl"&&(u+=It(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:f}}const Km=25;function kN(r,e){const n=$t(r),i=vr(r),a=n.visualViewport;let l=i.clientWidth,u=i.clientHeight,f=0,h=0;if(a){l=a.width,u=a.height;const v=Td();(!v||v&&e==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}const m=Ga(i);if(m<=0){const v=i.ownerDocument,x=v.body,w=getComputedStyle(x),S=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(i.clientWidth-x.clientWidth-S);E<=Km&&(l-=E)}else m<=Km&&(l+=m);return{width:l,height:u,x:f,y:h}}const NN=new Set(["absolute","fixed"]);function CN(r,e){const n=In(r,!0,e==="fixed"),i=n.top+r.clientTop,a=n.left+r.clientLeft,l=gr(r)?ks(r):mr(1),u=r.clientWidth*l.x,f=r.clientHeight*l.y,h=a*l.x,m=i*l.y;return{width:u,height:f,x:h,y:m}}function Gm(r,e,n){let i;if(e==="viewport")i=kN(r,n);else if(e==="document")i=EN(vr(r));else if(ir(e))i=CN(e,n);else{const a=qy(r);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ta(i)}function Gy(r,e){const n=on(r);return n===e||!ir(n)||Cs(n)?!1:or(n).position==="fixed"||Gy(n,e)}function AN(r,e){const n=e.get(r);if(n)return n;let i=Oi(r,[],!1).filter(f=>ir(f)&&Is(f)!=="body"),a=null;const l=or(r).position==="fixed";let u=l?on(r):r;for(;ir(u)&&!Cs(u);){const f=or(u),h=Ad(u);!h&&f.position==="fixed"&&(a=null),(l?!h&&!a:!h&&f.position==="static"&&!!a&&NN.has(a.position)||Ui(u)&&!h&&Gy(r,u))?i=i.filter(v=>v!==u):a=f,u=on(u)}return e.set(r,i),i}function TN(r){let{element:e,boundary:n,rootBoundary:i,strategy:a}=r;const u=[...n==="clippingAncestors"?qa(e)?[]:AN(e,this._c):[].concat(n),i],f=u[0],h=u.reduce((m,v)=>{const x=Gm(e,v,a);return m.top=It(x.top,m.top),m.right=sn(x.right,m.right),m.bottom=sn(x.bottom,m.bottom),m.left=It(x.left,m.left),m},Gm(e,f,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function PN(r){const{width:e,height:n}=Hy(r);return{width:e,height:n}}function RN(r,e,n){const i=gr(e),a=vr(e),l=n==="fixed",u=In(r,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=mr(0);function m(){h.x=Ga(a)}if(i||!i&&!l)if((Is(e)!=="body"||Ui(a))&&(f=Ka(e)),i){const S=In(e,!0,l,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();l&&!i&&a&&m();const v=a&&!i&&!l?Ky(a,f):mr(0),x=u.left+f.scrollLeft-h.x-v.x,w=u.top+f.scrollTop-h.y-v.y;return{x,y:w,width:u.width,height:u.height}}function gu(r){return or(r).position==="static"}function Jm(r,e){if(!gr(r)||or(r).position==="fixed")return null;if(e)return e(r);let n=r.offsetParent;return vr(r)===n&&(n=n.ownerDocument.body),n}function Jy(r,e){const n=$t(r);if(qa(r))return n;if(!gr(r)){let a=on(r);for(;a&&!Cs(a);){if(ir(a)&&!gu(a))return a;a=on(a)}return n}let i=Jm(r,e);for(;i&&pN(i)&&gu(i);)i=Jm(i,e);return i&&Cs(i)&&gu(i)&&!Ad(i)?n:i||xN(r)||n}const ON=async function(r){const e=this.getOffsetParent||Jy,n=this.getDimensions,i=await n(r.floating);return{reference:RN(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function IN(r){return or(r).direction==="rtl"}const DN={convertOffsetParentRelativeRectToViewportRelativeRect:SN,getDocumentElement:vr,getClippingRect:TN,getOffsetParent:Jy,getElementRects:ON,getClientRects:jN,getDimensions:PN,getScale:ks,isElement:ir,isRTL:IN};function Yy(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function LN(r,e){let n=null,i;const a=vr(r);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=r.getBoundingClientRect(),{left:v,top:x,width:w,height:S}=m;if(f||e(),!w||!S)return;const E=ha(x),_=ha(a.clientWidth-(v+w)),j=ha(a.clientHeight-(x+S)),T=ha(v),A={rootMargin:-E+"px "+-_+"px "+-j+"px "+-T+"px",threshold:It(0,sn(1,h))||1};let L=!0;function H(V){const U=V[0].intersectionRatio;if(U!==h){if(!L)return u();U?u(!1,U):i=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!Yy(m,r.getBoundingClientRect())&&u(),L=!1}try{n=new IntersectionObserver(H,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(H,A)}n.observe(r)}return u(!0),l}function $N(r,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,m=Pd(r),v=a||l?[...m?Oi(m):[],...Oi(e)]:[];v.forEach(T=>{a&&T.addEventListener("scroll",n,{passive:!0}),l&&T.addEventListener("resize",n)});const x=m&&f?LN(m,n):null;let w=-1,S=null;u&&(S=new ResizeObserver(T=>{let[k]=T;k&&k.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var A;(A=S)==null||A.observe(e)})),n()}),m&&!h&&S.observe(m),S.observe(e));let E,_=h?In(r):null;h&&j();function j(){const T=In(r);_&&!Yy(_,T)&&n(),_=T,E=requestAnimationFrame(j)}return n(),()=>{var T;v.forEach(k=>{a&&k.removeEventListener("scroll",n),l&&k.removeEventListener("resize",n)}),x?.(),(T=S)==null||T.disconnect(),S=null,h&&cancelAnimationFrame(E)}}const MN=lN,BN=cN,UN=iN,FN=dN,zN=oN,Ym=sN,VN=uN,WN=(r,e,n)=>{const i=new Map,a={platform:DN,...n},l={...a.platform,_c:i};return nN(r,e,{...a,platform:l})};var HN=typeof document<"u",qN=function(){},va=HN?y.useLayoutEffect:qN;function Pa(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let n,i,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Pa(r[i],e[i]))return!1;return!0}if(a=Object.keys(r),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&r.$$typeof)&&!Pa(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function Qy(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Qm(r,e){const n=Qy(r);return Math.round(e*n)/n}function vu(r){const e=y.useRef(r);return va(()=>{e.current=r}),e}function KN(r){r===void 0&&(r={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:h,open:m}=r,[v,x]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=y.useState(i);Pa(w,i)||S(i);const[E,_]=y.useState(null),[j,T]=y.useState(null),k=y.useCallback(I=>{I!==V.current&&(V.current=I,_(I))},[]),A=y.useCallback(I=>{I!==U.current&&(U.current=I,T(I))},[]),L=l||E,H=u||j,V=y.useRef(null),U=y.useRef(null),N=y.useRef(v),B=h!=null,J=vu(h),te=vu(a),K=vu(m),O=y.useCallback(()=>{if(!V.current||!U.current)return;const I={placement:e,strategy:n,middleware:w};te.current&&(I.platform=te.current),WN(V.current,U.current,I).then($=>{const X={...$,isPositioned:K.current!==!1};G.current&&!Pa(N.current,X)&&(N.current=X,Ii.flushSync(()=>{x(X)}))})},[w,e,n,te,K]);va(()=>{m===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,x(I=>({...I,isPositioned:!1})))},[m]);const G=y.useRef(!1);va(()=>(G.current=!0,()=>{G.current=!1}),[]),va(()=>{if(L&&(V.current=L),H&&(U.current=H),L&&H){if(J.current)return J.current(L,H,O);O()}},[L,H,O,J,B]);const W=y.useMemo(()=>({reference:V,floating:U,setReference:k,setFloating:A}),[k,A]),z=y.useMemo(()=>({reference:L,floating:H}),[L,H]),Q=y.useMemo(()=>{const I={position:n,left:0,top:0};if(!z.floating)return I;const $=Qm(z.floating,v.x),X=Qm(z.floating,v.y);return f?{...I,transform:"translate("+$+"px, "+X+"px)",...Qy(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,f,z.floating,v.x,v.y]);return y.useMemo(()=>({...v,update:O,refs:W,elements:z,floatingStyles:Q}),[v,O,W,z,Q])}const GN=r=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:i,padding:a}=typeof r=="function"?r(n):r;return i&&e(i)?i.current!=null?Ym({element:i.current,padding:a}).fn(n):{}:i?Ym({element:i,padding:a}).fn(n):{}}}},JN=(r,e)=>({...MN(r),options:[r,e]}),YN=(r,e)=>({...BN(r),options:[r,e]}),QN=(r,e)=>({...VN(r),options:[r,e]}),XN=(r,e)=>({...UN(r),options:[r,e]}),ZN=(r,e)=>({...FN(r),options:[r,e]}),eC=(r,e)=>({...zN(r),options:[r,e]}),tC=(r,e)=>({...GN(r),options:[r,e]});var rC="Arrow",Xy=y.forwardRef((r,e)=>{const{children:n,width:i=10,height:a=5,...l}=r;return c.jsx(De.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xy.displayName=rC;var nC=Xy;function sC(r){const[e,n]=y.useState(void 0);return ot(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,f=m.blockSize}else u=r.offsetWidth,f=r.offsetHeight;n({width:u,height:f})});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else n(void 0)},[r]),e}var Rd="Popper",[Zy,e0]=$n(Rd),[iC,t0]=Zy(Rd),r0=r=>{const{__scopePopper:e,children:n}=r,[i,a]=y.useState(null);return c.jsx(iC,{scope:e,anchor:i,onAnchorChange:a,children:n})};r0.displayName=Rd;var n0="PopperAnchor",s0=y.forwardRef((r,e)=>{const{__scopePopper:n,virtualRef:i,...a}=r,l=t0(n0,n),u=y.useRef(null),f=qe(e,u),h=y.useRef(null);return y.useEffect(()=>{const m=h.current;h.current=i?.current||u.current,m!==h.current&&l.onAnchorChange(h.current)}),i?null:c.jsx(De.div,{...a,ref:f})});s0.displayName=n0;var Od="PopperContent",[oC,aC]=Zy(Od),i0=y.forwardRef((r,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:E,..._}=r,j=t0(Od,n),[T,k]=y.useState(null),A=qe(e,ne=>k(ne)),[L,H]=y.useState(null),V=sC(L),U=V?.width??0,N=V?.height??0,B=i+(l!=="center"?"-"+l:""),J=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},te=Array.isArray(m)?m:[m],K=te.length>0,O={padding:J,boundary:te.filter(cC),altBoundary:K},{refs:G,floatingStyles:W,placement:z,isPositioned:Q,middlewareData:I}=KN({strategy:"fixed",placement:B,whileElementsMounted:(...ne)=>$N(...ne,{animationFrame:S==="always"}),elements:{reference:j.anchor},middleware:[JN({mainAxis:a+N,alignmentAxis:u}),h&&YN({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?QN():void 0,...O}),h&&XN({...O}),ZN({...O,apply:({elements:ne,rects:ve,availableWidth:Se,availableHeight:je})=>{const{width:Re,height:$e}=ve.reference,ut=ne.floating.style;ut.setProperty("--radix-popper-available-width",`${Se}px`),ut.setProperty("--radix-popper-available-height",`${je}px`),ut.setProperty("--radix-popper-anchor-width",`${Re}px`),ut.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),L&&tC({element:L,padding:f}),uC({arrowWidth:U,arrowHeight:N}),w&&eC({strategy:"referenceHidden",...O})]}),[$,X]=l0(z),P=Cr(E);ot(()=>{Q&&P?.()},[Q,P]);const Y=I.arrow?.x,oe=I.arrow?.y,le=I.arrow?.centerOffset!==0,[be,Ee]=y.useState();return ot(()=>{T&&Ee(window.getComputedStyle(T).zIndex)},[T]),c.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:c.jsx(oC,{scope:n,placedSide:$,onArrowChange:H,arrowX:Y,arrowY:oe,shouldHideArrow:le,children:c.jsx(De.div,{"data-side":$,"data-align":X,..._,ref:A,style:{..._.style,animation:Q?void 0:"none"}})})})});i0.displayName=Od;var o0="PopperArrow",lC={top:"bottom",right:"left",bottom:"top",left:"right"},a0=y.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,l=aC(o0,i),u=lC[l.placedSide];return c.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:c.jsx(nC,{...a,ref:n,style:{...a.style,display:"block"}})})});a0.displayName=o0;function cC(r){return r!==null}var uC=r=>({name:"transformOrigin",options:r,fn(e){const{placement:n,rects:i,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:r.arrowWidth,h=u?0:r.arrowHeight,[m,v]=l0(n),x={start:"0%",center:"50%",end:"100%"}[v],w=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+h/2;let E="",_="";return m==="bottom"?(E=u?x:`${w}px`,_=`${-h}px`):m==="top"?(E=u?x:`${w}px`,_=`${i.floating.height+h}px`):m==="right"?(E=`${-h}px`,_=u?x:`${S}px`):m==="left"&&(E=`${i.floating.width+h}px`,_=u?x:`${S}px`),{data:{x:E,y:_}}}});function l0(r){const[e,n="center"]=r.split("-");return[e,n]}var dC=r0,fC=s0,hC=i0,pC=a0;function mC(r){const e=gC(r),n=y.forwardRef((i,a)=>{const{children:l,...u}=i,f=y.Children.toArray(l),h=f.find(yC);if(h){const m=h.props.children,v=f.map(x=>x===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return c.jsx(e,{...u,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,v):null})}return c.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}function gC(r){const e=y.forwardRef((n,i)=>{const{children:a,...l}=n;if(y.isValidElement(a)){const u=wC(a),f=xC(l,a.props);return a.type!==y.Fragment&&(f.ref=i?As(i,u):u),y.cloneElement(a,f)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var vC=Symbol("radix.slottable");function yC(r){return y.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===vC}function xC(r,e){const n={...e};for(const i in e){const a=r[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...f)=>{const h=l(...f);return a(...f),h}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function wC(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function bC(r){const e=y.useRef({value:r,previous:r});return y.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var c0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_C="VisuallyHidden",SC=y.forwardRef((r,e)=>c.jsx(De.span,{...r,ref:e,style:{...c0,...r.style}}));SC.displayName=_C;var jC=[" ","Enter","ArrowUp","ArrowDown"],EC=[" ","Enter"],Dn="Select",[Ja,Ya,kC]=yg(Dn),[Ds]=$n(Dn,[kC,e0]),Qa=e0(),[NC,cn]=Ds(Dn),[CC,AC]=Ds(Dn),u0=r=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:f,onValueChange:h,dir:m,name:v,autoComplete:x,disabled:w,required:S,form:E}=r,_=Qa(e),[j,T]=y.useState(null),[k,A]=y.useState(null),[L,H]=y.useState(!1),V=Yu(m),[U,N]=Ni({prop:i,defaultProp:a??!1,onChange:l,caller:Dn}),[B,J]=Ni({prop:u,defaultProp:f,onChange:h,caller:Dn}),te=y.useRef(null),K=j?E||!!j.closest("form"):!0,[O,G]=y.useState(new Set),W=Array.from(O).map(z=>z.props.value).join(";");return c.jsx(dC,{..._,children:c.jsxs(NC,{required:S,scope:e,trigger:j,onTriggerChange:T,valueNode:k,onValueNodeChange:A,valueNodeHasChildren:L,onValueNodeHasChildrenChange:H,contentId:rn(),value:B,onValueChange:J,open:U,onOpenChange:N,dir:V,triggerPointerDownPosRef:te,disabled:w,children:[c.jsx(Ja.Provider,{scope:e,children:c.jsx(CC,{scope:r.__scopeSelect,onNativeOptionAdd:y.useCallback(z=>{G(Q=>new Set(Q).add(z))},[]),onNativeOptionRemove:y.useCallback(z=>{G(Q=>{const I=new Set(Q);return I.delete(z),I})},[]),children:n})}),K?c.jsxs(R0,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:x,value:B,onChange:z=>J(z.target.value),disabled:w,form:E,children:[B===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},W):null]})})};u0.displayName=Dn;var d0="SelectTrigger",f0=y.forwardRef((r,e)=>{const{__scopeSelect:n,disabled:i=!1,...a}=r,l=Qa(n),u=cn(d0,n),f=u.disabled||i,h=qe(e,u.onTriggerChange),m=Ya(n),v=y.useRef("touch"),[x,w,S]=I0(_=>{const j=m().filter(A=>!A.disabled),T=j.find(A=>A.value===u.value),k=D0(j,_,T);k!==void 0&&u.onValueChange(k.value)}),E=_=>{f||(u.onOpenChange(!0),S()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return c.jsx(fC,{asChild:!0,...l,children:c.jsx(De.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":O0(u.value)?"":void 0,...a,ref:h,onClick:Pe(a.onClick,_=>{_.currentTarget.focus(),v.current!=="mouse"&&E(_)}),onPointerDown:Pe(a.onPointerDown,_=>{v.current=_.pointerType;const j=_.target;j.hasPointerCapture(_.pointerId)&&j.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(E(_),_.preventDefault())}),onKeyDown:Pe(a.onKeyDown,_=>{const j=x.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(j&&_.key===" ")&&jC.includes(_.key)&&(E(),_.preventDefault())})})})});f0.displayName=d0;var h0="SelectValue",p0=y.forwardRef((r,e)=>{const{__scopeSelect:n,className:i,style:a,children:l,placeholder:u="",...f}=r,h=cn(h0,n),{onValueNodeHasChildrenChange:m}=h,v=l!==void 0,x=qe(e,h.onValueNodeChange);return ot(()=>{m(v)},[m,v]),c.jsx(De.span,{...f,ref:x,style:{pointerEvents:"none"},children:O0(h.value)?c.jsx(c.Fragment,{children:u}):l})});p0.displayName=h0;var TC="SelectIcon",m0=y.forwardRef((r,e)=>{const{__scopeSelect:n,children:i,...a}=r;return c.jsx(De.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});m0.displayName=TC;var PC="SelectPortal",g0=r=>c.jsx(pd,{asChild:!0,...r});g0.displayName=PC;var Ln="SelectContent",v0=y.forwardRef((r,e)=>{const n=cn(Ln,r.__scopeSelect),[i,a]=y.useState();if(ot(()=>{a(new DocumentFragment)},[]),!n.open){const l=i;return l?Ii.createPortal(c.jsx(y0,{scope:r.__scopeSelect,children:c.jsx(Ja.Slot,{scope:r.__scopeSelect,children:c.jsx("div",{children:r.children})})}),l):null}return c.jsx(x0,{...r,ref:e})});v0.displayName=Ln;var rr=10,[y0,un]=Ds(Ln),RC="SelectContentImpl",OC=mC("SelectContent.RemoveScroll"),x0=y.forwardRef((r,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:h,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:S,sticky:E,hideWhenDetached:_,avoidCollisions:j,...T}=r,k=cn(Ln,n),[A,L]=y.useState(null),[H,V]=y.useState(null),U=qe(e,ne=>L(ne)),[N,B]=y.useState(null),[J,te]=y.useState(null),K=Ya(n),[O,G]=y.useState(!1),W=y.useRef(!1);y.useEffect(()=>{if(A)return Wv(A)},[A]),Lv();const z=y.useCallback(ne=>{const[ve,...Se]=K().map($e=>$e.ref.current),[je]=Se.slice(-1),Re=document.activeElement;for(const $e of ne)if($e===Re||($e?.scrollIntoView({block:"nearest"}),$e===ve&&H&&(H.scrollTop=0),$e===je&&H&&(H.scrollTop=H.scrollHeight),$e?.focus(),document.activeElement!==Re))return},[K,H]),Q=y.useCallback(()=>z([N,A]),[z,N,A]);y.useEffect(()=>{O&&Q()},[O,Q]);const{onOpenChange:I,triggerPointerDownPosRef:$}=k;y.useEffect(()=>{if(A){let ne={x:0,y:0};const ve=je=>{ne={x:Math.abs(Math.round(je.pageX)-($.current?.x??0)),y:Math.abs(Math.round(je.pageY)-($.current?.y??0))}},Se=je=>{ne.x<=10&&ne.y<=10?je.preventDefault():A.contains(je.target)||I(!1),document.removeEventListener("pointermove",ve),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Se,{capture:!0})}}},[A,I,$]),y.useEffect(()=>{const ne=()=>I(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[I]);const[X,P]=I0(ne=>{const ve=K().filter(Re=>!Re.disabled),Se=ve.find(Re=>Re.ref.current===document.activeElement),je=D0(ve,ne,Se);je&&setTimeout(()=>je.ref.current.focus())}),Y=y.useCallback((ne,ve,Se)=>{const je=!W.current&&!Se;(k.value!==void 0&&k.value===ve||je)&&(B(ne),je&&(W.current=!0))},[k.value]),oe=y.useCallback(()=>A?.focus(),[A]),le=y.useCallback((ne,ve,Se)=>{const je=!W.current&&!Se;(k.value!==void 0&&k.value===ve||je)&&te(ne)},[k.value]),be=i==="popper"?Bu:w0,Ee=be===Bu?{side:f,sideOffset:h,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:S,sticky:E,hideWhenDetached:_,avoidCollisions:j}:{};return c.jsx(y0,{scope:n,content:A,viewport:H,onViewportChange:V,itemRefCallback:Y,selectedItem:N,onItemLeave:oe,itemTextRefCallback:le,focusSelectedItem:Q,selectedItemText:J,position:i,isPositioned:O,searchRef:X,children:c.jsx(md,{as:OC,allowPinchZoom:!0,children:c.jsx(hd,{asChild:!0,trapped:k.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Pe(a,ne=>{k.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:c.jsx(fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:c.jsx(be,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ne=>ne.preventDefault(),...T,...Ee,onPlaced:()=>G(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Pe(T.onKeyDown,ne=>{const ve=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ve&&ne.key.length===1&&P(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let je=K().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Re=ne.target,$e=je.indexOf(Re);je=je.slice($e+1)}setTimeout(()=>z(je)),ne.preventDefault()}})})})})})})});x0.displayName=RC;var IC="SelectItemAlignedPosition",w0=y.forwardRef((r,e)=>{const{__scopeSelect:n,onPlaced:i,...a}=r,l=cn(Ln,n),u=un(Ln,n),[f,h]=y.useState(null),[m,v]=y.useState(null),x=qe(e,U=>v(U)),w=Ya(n),S=y.useRef(!1),E=y.useRef(!0),{viewport:_,selectedItem:j,selectedItemText:T,focusSelectedItem:k}=u,A=y.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&_&&j&&T){const U=l.trigger.getBoundingClientRect(),N=m.getBoundingClientRect(),B=l.valueNode.getBoundingClientRect(),J=T.getBoundingClientRect();if(l.dir!=="rtl"){const Re=J.left-N.left,$e=B.left-Re,ut=U.left-$e,qt=U.width+ut,Mn=Math.max(qt,N.width),Bn=window.innerWidth-rr,dn=Um($e,[rr,Math.max(rr,Bn-Mn)]);f.style.minWidth=qt+"px",f.style.left=dn+"px"}else{const Re=N.right-J.right,$e=window.innerWidth-B.right-Re,ut=window.innerWidth-U.right-$e,qt=U.width+ut,Mn=Math.max(qt,N.width),Bn=window.innerWidth-rr,dn=Um($e,[rr,Math.max(rr,Bn-Mn)]);f.style.minWidth=qt+"px",f.style.right=dn+"px"}const te=w(),K=window.innerHeight-rr*2,O=_.scrollHeight,G=window.getComputedStyle(m),W=parseInt(G.borderTopWidth,10),z=parseInt(G.paddingTop,10),Q=parseInt(G.borderBottomWidth,10),I=parseInt(G.paddingBottom,10),$=W+z+O+I+Q,X=Math.min(j.offsetHeight*5,$),P=window.getComputedStyle(_),Y=parseInt(P.paddingTop,10),oe=parseInt(P.paddingBottom,10),le=U.top+U.height/2-rr,be=K-le,Ee=j.offsetHeight/2,ne=j.offsetTop+Ee,ve=W+z+ne,Se=$-ve;if(ve<=le){const Re=te.length>0&&j===te[te.length-1].ref.current;f.style.bottom="0px";const $e=m.clientHeight-_.offsetTop-_.offsetHeight,ut=Math.max(be,Ee+(Re?oe:0)+$e+Q),qt=ve+ut;f.style.height=qt+"px"}else{const Re=te.length>0&&j===te[0].ref.current;f.style.top="0px";const ut=Math.max(le,W+_.offsetTop+(Re?Y:0)+Ee)+Se;f.style.height=ut+"px",_.scrollTop=ve-le+_.offsetTop}f.style.margin=`${rr}px 0`,f.style.minHeight=X+"px",f.style.maxHeight=K+"px",i?.(),requestAnimationFrame(()=>S.current=!0)}},[w,l.trigger,l.valueNode,f,m,_,j,T,l.dir,i]);ot(()=>A(),[A]);const[L,H]=y.useState();ot(()=>{m&&H(window.getComputedStyle(m).zIndex)},[m]);const V=y.useCallback(U=>{U&&E.current===!0&&(A(),k?.(),E.current=!1)},[A,k]);return c.jsx(LC,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:V,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:c.jsx(De.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});w0.displayName=IC;var DC="SelectPopperPosition",Bu=y.forwardRef((r,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:a=rr,...l}=r,u=Qa(n);return c.jsx(hC,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bu.displayName=DC;var[LC,Id]=Ds(Ln,{}),Uu="SelectViewport",b0=y.forwardRef((r,e)=>{const{__scopeSelect:n,nonce:i,...a}=r,l=un(Uu,n),u=Id(Uu,n),f=qe(e,l.onViewportChange),h=y.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Ja.Slot,{scope:n,children:c.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,m=>{const v=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const S=Math.abs(h.current-v.scrollTop);if(S>0){const E=window.innerHeight-rr*2,_=parseFloat(x.style.minHeight),j=parseFloat(x.style.height),T=Math.max(_,j);if(T<E){const k=T+S,A=Math.min(E,k),L=k-A;x.style.height=A+"px",x.style.bottom==="0px"&&(v.scrollTop=L>0?L:0,x.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});b0.displayName=Uu;var _0="SelectGroup",[$C,MC]=Ds(_0),BC=y.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,a=rn();return c.jsx($C,{scope:n,id:a,children:c.jsx(De.div,{role:"group","aria-labelledby":a,...i,ref:e})})});BC.displayName=_0;var S0="SelectLabel",UC=y.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,a=MC(S0,n);return c.jsx(De.div,{id:a.id,...i,ref:e})});UC.displayName=S0;var Ra="SelectItem",[FC,j0]=Ds(Ra),E0=y.forwardRef((r,e)=>{const{__scopeSelect:n,value:i,disabled:a=!1,textValue:l,...u}=r,f=cn(Ra,n),h=un(Ra,n),m=f.value===i,[v,x]=y.useState(l??""),[w,S]=y.useState(!1),E=qe(e,k=>h.itemRefCallback?.(k,i,a)),_=rn(),j=y.useRef("touch"),T=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(FC,{scope:n,value:i,disabled:a,textId:_,isSelected:m,onItemTextChange:y.useCallback(k=>{x(A=>A||(k?.textContent??"").trim())},[]),children:c.jsx(Ja.ItemSlot,{scope:n,value:i,disabled:a,textValue:v,children:c.jsx(De.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:E,onFocus:Pe(u.onFocus,()=>S(!0)),onBlur:Pe(u.onBlur,()=>S(!1)),onClick:Pe(u.onClick,()=>{j.current!=="mouse"&&T()}),onPointerUp:Pe(u.onPointerUp,()=>{j.current==="mouse"&&T()}),onPointerDown:Pe(u.onPointerDown,k=>{j.current=k.pointerType}),onPointerMove:Pe(u.onPointerMove,k=>{j.current=k.pointerType,a?h.onItemLeave?.():j.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(u.onPointerLeave,k=>{k.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Pe(u.onKeyDown,k=>{h.searchRef?.current!==""&&k.key===" "||(EC.includes(k.key)&&T(),k.key===" "&&k.preventDefault())})})})})});E0.displayName=Ra;var ji="SelectItemText",k0=y.forwardRef((r,e)=>{const{__scopeSelect:n,className:i,style:a,...l}=r,u=cn(ji,n),f=un(ji,n),h=j0(ji,n),m=AC(ji,n),[v,x]=y.useState(null),w=qe(e,T=>x(T),h.onItemTextChange,T=>f.itemTextRefCallback?.(T,h.value,h.disabled)),S=v?.textContent,E=y.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:_,onNativeOptionRemove:j}=m;return ot(()=>(_(E),()=>j(E)),[_,j,E]),c.jsxs(c.Fragment,{children:[c.jsx(De.span,{id:h.textId,...l,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ii.createPortal(l.children,u.valueNode):null]})});k0.displayName=ji;var N0="SelectItemIndicator",C0=y.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r;return j0(N0,n).isSelected?c.jsx(De.span,{"aria-hidden":!0,...i,ref:e}):null});C0.displayName=N0;var Fu="SelectScrollUpButton",A0=y.forwardRef((r,e)=>{const n=un(Fu,r.__scopeSelect),i=Id(Fu,r.__scopeSelect),[a,l]=y.useState(!1),u=qe(e,i.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?c.jsx(P0,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});A0.displayName=Fu;var zu="SelectScrollDownButton",T0=y.forwardRef((r,e)=>{const n=un(zu,r.__scopeSelect),i=Id(zu,r.__scopeSelect),[a,l]=y.useState(!1),u=qe(e,i.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<m;l(v)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?c.jsx(P0,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});T0.displayName=zu;var P0=y.forwardRef((r,e)=>{const{__scopeSelect:n,onAutoScroll:i,...a}=r,l=un("SelectScrollButton",n),u=y.useRef(null),f=Ya(n),h=y.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return y.useEffect(()=>()=>h(),[h]),ot(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),c.jsx(De.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Pe(a.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{h()})})}),zC="SelectSeparator",VC=y.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r;return c.jsx(De.div,{"aria-hidden":!0,...i,ref:e})});VC.displayName=zC;var Vu="SelectArrow",WC=y.forwardRef((r,e)=>{const{__scopeSelect:n,...i}=r,a=Qa(n),l=cn(Vu,n),u=un(Vu,n);return l.open&&u.position==="popper"?c.jsx(pC,{...a,...i,ref:e}):null});WC.displayName=Vu;var HC="SelectBubbleInput",R0=y.forwardRef(({__scopeSelect:r,value:e,...n},i)=>{const a=y.useRef(null),l=qe(i,a),u=bC(e);return y.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&v){const x=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(x)}},[u,e]),c.jsx(De.select,{...n,style:{...c0,...n.style},ref:l,defaultValue:e})});R0.displayName=HC;function O0(r){return r===""||r===void 0}function I0(r){const e=Cr(r),n=y.useRef(""),i=y.useRef(0),a=y.useCallback(u=>{const f=n.current+u;e(f),(function h(m){n.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(f)},[e]),l=y.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,a,l]}function D0(r,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?r.indexOf(n):-1;let u=qC(r,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function qC(r,e){return r.map((n,i)=>r[(e+i)%r.length])}var KC=u0,GC=f0,JC=p0,YC=m0,QC=g0,XC=v0,ZC=b0,eA=E0,tA=k0,rA=C0,nA=A0,sA=T0;function Oa({...r}){return c.jsx(KC,{"data-slot":"select",...r})}function Ia({...r}){return c.jsx(JC,{"data-slot":"select-value",...r})}function Da({className:r,size:e="default",children:n,...i}){return c.jsxs(GC,{"data-slot":"select-trigger","data-size":e,className:Ae("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...i,children:[n,c.jsx(YC,{asChild:!0,children:c.jsx(gy,{className:"size-4 opacity-50"})})]})}function La({className:r,children:e,position:n="popper",...i}){return c.jsx(QC,{children:c.jsxs(XC,{"data-slot":"select-content",className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...i,children:[c.jsx(iA,{}),c.jsx(ZC,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(oA,{})]})})}function He({className:r,children:e,...n}){return c.jsxs(eA,{"data-slot":"select-item",className:Ae("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...n,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(rA,{children:c.jsx(z1,{className:"size-4"})})}),c.jsx(tA,{children:e})]})}function iA({className:r,...e}){return c.jsx(nA,{"data-slot":"select-scroll-up-button",className:Ae("flex cursor-default items-center justify-center py-1",r),...e,children:c.jsx(H1,{className:"size-4"})})}function oA({className:r,...e}){return c.jsx(sA,{"data-slot":"select-scroll-down-button",className:Ae("flex cursor-default items-center justify-center py-1",r),...e,children:c.jsx(gy,{className:"size-4"})})}function aA({isOpen:r,onClose:e,onSubmit:n,userName:i}){const[a,l]=y.useState(""),[u,f]=y.useState([]),[h,m]=y.useState(""),[v,x]=y.useState(""),[w,S]=y.useState("per-piece"),[E,_]=y.useState(""),[j,T]=y.useState(""),[k,A]=y.useState("semester"),[L,H]=y.useState(""),[V,U]=y.useState(""),[N,B]=y.useState(""),[J,te]=y.useState("Fall 2025"),[K,O]=y.useState(""),[G,W]=y.useState("7"),z=()=>{h.trim()&&(f([...u,h.trim()]),m(""))},Q=$=>{f(u.filter((X,P)=>P!==$))},I=$=>{$.preventDefault();const X=new Date,P=parseInt(G),Y=new Date(X.getTime()+P*24*60*60*1e3);n({soloistName:i,instrument:a,pieces:u,duration:v||void 0,costType:w,cost:parseFloat(E),location:j,dateType:k,date:k==="single"?L:void 0,startDate:k==="range"?V:void 0,endDate:k==="range"?N:void 0,semester:k==="semester"?J:void 0,description:K,auctionEndTime:Y.toISOString(),auctionStatus:"active"}),l(""),f([]),m(""),x(""),S("per-piece"),_(""),T(""),A("semester"),H(""),U(""),B(""),te("Fall 2025"),O(""),W("7")};return c.jsx(bd,{open:r,onOpenChange:e,children:c.jsxs(_d,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs(Sd,{children:[c.jsx(jd,{children:"Post a New Ask"}),c.jsx(Ed,{children:"Share details about your accompaniment needs"})]}),c.jsxs("form",{onSubmit:I,className:"space-y-4 mt-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"instrument",children:"Instrument *"}),c.jsx(Me,{id:"instrument",placeholder:"e.g., Violin, Cello, Flute",value:a,onChange:$=>l($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"pieces",children:"Pieces (optional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Me,{id:"pieces",placeholder:"e.g., Brahms Violin Concerto",value:h,onChange:$=>m($.target.value),onKeyDown:$=>{$.key==="Enter"&&($.preventDefault(),z())}}),c.jsx(Ye,{type:"button",onClick:z,variant:"outline",size:"icon",children:c.jsx(js,{className:"size-4"})})]}),u.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(($,X)=>c.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-md bg-red-50 border border-red-200 text-sm",children:[c.jsx("span",{children:$}),c.jsx("button",{type:"button",onClick:()=>Q(X),className:"ml-1 text-red-600 hover:text-red-700",children:c.jsx(Va,{className:"size-3"})})]},X))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Cost Type *"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>S("per-piece"),className:`p-3 rounded-lg border-2 transition-all ${w==="per-piece"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Per Piece"}),c.jsx("button",{type:"button",onClick:()=>S("hourly"),className:`p-3 rounded-lg border-2 transition-all ${w==="hourly"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Hourly Rate"}),c.jsx("button",{type:"button",onClick:()=>S("total"),className:`p-3 rounded-lg border-2 transition-all ${w==="total"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Total Fee"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ke,{htmlFor:"cost",children:[w==="hourly"?"Hourly Rate":w==="total"?"Total Fee":"Cost per Piece"," ($) *"]}),c.jsx(Me,{id:"cost",type:"number",placeholder:"150",value:E,onChange:$=>_($.target.value),required:!0})]}),w==="hourly"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"duration",children:"Duration"}),c.jsx(Me,{id:"duration",placeholder:"e.g., 2 hours",value:v,onChange:$=>x($.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"location",children:"Location *"}),c.jsx(Me,{id:"location",placeholder:"e.g., Carnegie Hall, NYC",value:j,onChange:$=>T($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Date Type *"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>A("single"),className:`p-3 rounded-lg border-2 transition-all ${k==="single"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Single Date"}),c.jsx("button",{type:"button",onClick:()=>A("range"),className:`p-3 rounded-lg border-2 transition-all ${k==="range"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Date Range"}),c.jsx("button",{type:"button",onClick:()=>A("semester"),className:`p-3 rounded-lg border-2 transition-all ${k==="semester"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Semester"})]})]}),k==="single"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"date",children:"Date *"}),c.jsx(Me,{id:"date",type:"date",value:L,onChange:$=>H($.target.value),required:!0})]}),k==="range"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"startDate",children:"Start Date *"}),c.jsx(Me,{id:"startDate",type:"date",value:V,onChange:$=>U($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"endDate",children:"End Date *"}),c.jsx(Me,{id:"endDate",type:"date",value:N,onChange:$=>B($.target.value),required:!0})]})]}),k==="semester"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"semester",children:"Semester *"}),c.jsxs(Oa,{value:J,onValueChange:te,children:[c.jsx(Da,{children:c.jsx(Ia,{})}),c.jsxs(La,{children:[c.jsx(He,{value:"Fall 2025",children:"Fall 2025"}),c.jsx(He,{value:"Spring 2026",children:"Spring 2026"}),c.jsx(He,{value:"Summer 2026",children:"Summer 2026"}),c.jsx(He,{value:"Fall 2026",children:"Fall 2026"}),c.jsx(He,{value:"Spring 2027",children:"Spring 2027"}),c.jsx(He,{value:"Summer 2027",children:"Summer 2027"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"description",children:"Description *"}),c.jsx(Wa,{id:"description",placeholder:"Describe your needs, experience level required, repertoire, etc.",value:K,onChange:$=>O($.target.value),rows:4,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"auctionDuration",children:"Bidding Duration *"}),c.jsxs(Oa,{value:G,onValueChange:W,children:[c.jsx(Da,{children:c.jsx(Ia,{})}),c.jsxs(La,{children:[c.jsx(He,{value:"1",children:"1 day (24 hours)"}),c.jsx(He,{value:"2",children:"2 days (48 hours)"}),c.jsx(He,{value:"3",children:"3 days (72 hours)"}),c.jsx(He,{value:"7",children:"1 week (7 days)"}),c.jsx(He,{value:"14",children:"2 weeks (14 days)"}),c.jsx(He,{value:"30",children:"1 month (30 days)"})]})]}),c.jsx("p",{className:"text-sm text-gray-500",children:"How long pianists can bid on your ask. Timer extends by 1 minute if a bid is placed in the final minute."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),c.jsx(Ye,{type:"submit",className:"flex-1",children:"Post Ask"})]})]})]})})}function lA({userId:r,userEmail:e,userName:n,userType:i,onEditProfile:a,onLogout:l,isMobileOverlay:u=!1}){const[f,h]=y.useState({bio:null,picture_url:null}),[m,v]=y.useState({profileViews:0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:0,acceptedBids:0,activeAsks:0}),[x,w]=y.useState([]),[S,E]=y.useState(!0),[_,j]=y.useState({accountId:null,onboardingComplete:!1,chargesEnabled:!1,payoutsEnabled:!1});y.useEffect(()=>{k(),A(),H(),i==="pianist"&&L(),T()},[r]);const T=async()=>{try{await me.from("profile_views").insert({profile_id:r,viewer_id:r})}catch(N){console.error("Error tracking profile view:",N)}},k=async()=>{try{const{data:N,error:B}=await me.from("profiles").select("bio, picture_url").eq("id",r).single();B?console.log("No profile found, using defaults"):N&&h(N)}catch(N){console.error("Error fetching profile:",N)}},A=async()=>{try{E(!0);const{count:N}=await me.from("profile_views").select("*",{count:"exact",head:!0}).eq("profile_id",r);if(i==="soloist"){const{data:B}=await me.from("asks").select("id").eq("user_id",r),J=B?.length||0;if(J>0){const te=B?.map(G=>G.id)||[],{count:K}=await me.from("bids").select("*",{count:"exact",head:!0}).in("ask_id",te),{count:O}=await me.from("bids").select("*",{count:"exact",head:!0}).in("ask_id",te).eq("status","accepted");v({profileViews:N||0,totalAsks:J,totalBidsOnAsks:K||0,totalBidsDone:0,acceptedBids:O||0,activeAsks:J-(O||0)})}else v({profileViews:N||0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:0,acceptedBids:0,activeAsks:0})}else{const{data:B}=await me.from("bids").select("id, status").eq("user_id",r),J=B?.length||0,te=B?.filter(K=>K.status==="accepted").length||0;v({profileViews:N||0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:J,acceptedBids:te,activeAsks:0})}}catch(N){console.error("Error fetching metrics:",N)}finally{E(!1)}},L=async()=>{try{const{data:N,error:B}=await me.from("profiles").select("stripe_account_id, stripe_onboarding_complete, stripe_charges_enabled, stripe_payouts_enabled").eq("id",r).single();if(B){console.error("Error fetching Stripe data:",B);return}N&&j({accountId:N.stripe_account_id,onboardingComplete:N.stripe_onboarding_complete||!1,chargesEnabled:N.stripe_charges_enabled||!1,payoutsEnabled:N.stripe_payouts_enabled||!1})}catch(N){console.error("Error fetching Stripe data:",N)}},H=async()=>{try{if(i==="soloist"){const{data:N}=await me.from("asks").select("id, instrument, pieces, cost, cost_type").eq("user_id",r).order("created_at",{ascending:!1}).limit(5),B=(N||[]).map(J=>{let te="No pieces listed";if(J.pieces&&J.pieces.length>0){const O=J.pieces.slice(0,2).join(", ")+(J.pieces.length>2?"...":"");te=O.length>30?O.substring(0,30)+"...":O}const K=J.cost_type==="hourly"?"/hr":J.cost_type==="total"?" total":"/piece";return{id:J.id,title:`${J.instrument} - $${J.cost}${K}`,subtitle:te}});w(B)}else{const{data:N}=await me.from("bids").select("id, amount, ask_id, status").eq("user_id",r).order("created_at",{ascending:!1}).limit(5);if(!N||N.length===0){w([]);return}const B=N.map(K=>K.ask_id),{data:J}=await me.from("asks").select("id, instrument, soloist_name").in("id",B),te=N.map(K=>{const O=J?.find(G=>G.id===K.ask_id);return{id:K.id,title:`${O?.instrument||"Unknown"} - $${K.amount}`,subtitle:`${O?.soloist_name||"Unknown"}  ${K.status}`}});w(te)}}catch(N){console.error("Error fetching recent activity:",N)}},V=N=>N.split(" ").map(B=>B[0]).join("").toUpperCase(),U=N=>{const B=N.split("").map(O=>O.trim());if(B.length<2)return null;const J=B[1].toLowerCase(),K={pending:"bg-amber-500 text-white shadow-lg shadow-amber-500/50",accepted:"bg-green-600 text-white shadow-lg shadow-green-600/50",canceled:"bg-red-600 text-white shadow-lg shadow-red-600/50"}[J];return K?{status:J,style:K}:null};return c.jsxs("div",{className:u?"w-full space-y-3":"w-48 flex-shrink-0 space-y-3 sticky top-20 self-start",children:[c.jsx(xt,{className:"h-fit",children:c.jsx(wt,{className:"pt-4 pb-4 px-4",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[c.jsxs(Mi,{className:"size-9",children:[c.jsx(dd,{src:f.picture_url||void 0,alt:n}),c.jsx(Bi,{className:"text-[9px]",children:V(n)})]}),c.jsxs("div",{className:"w-full space-y-0.5",children:[c.jsx("h3",{className:"font-semibold text-[8px] leading-tight truncate",children:n}),c.jsx("p",{className:"text-[7px] text-muted-foreground truncate leading-tight",children:e})]}),c.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full h-5 text-[7px] px-1.5 mt-1",onClick:a,children:[c.jsx(by,{className:"size-2 mr-0.5"}),"Edit"]})]})})}),c.jsxs(xt,{className:"h-fit",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsx(sr,{className:"text-[9px] font-bold",children:"Stats"})}),c.jsx(wt,{className:"space-y-1 px-3 pb-2.5",children:S?c.jsx("div",{className:"text-center py-1",children:c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-[3px] border-red-600 border-t-transparent mx-auto"})}):c.jsx(c.Fragment,{children:i==="soloist"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(yy,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Asks"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalAsks})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Bids"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalBidsOnAsks})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(nn,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Accepted"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.acceptedBids})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Active"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.activeAsks})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Bids"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalBidsDone})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(nn,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Accepted"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.acceptedBids})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Rate"})]}),c.jsxs("span",{className:"text-[7px] font-semibold flex-shrink-0",children:[m.totalBidsDone>0?Math.round(m.acceptedBids/m.totalBidsDone*100):0,"%"]})]})]})})})]}),c.jsxs(xt,{className:u?"h-fit w-full":"h-fit max-h-[280px] overflow-hidden w-full",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsx(sr,{className:"text-[9px] font-bold",children:"Recent"})}),c.jsx(wt,{className:u?"px-3 pb-2.5":"px-3 pb-2.5 overflow-y-auto overflow-x-hidden max-h-[240px]",children:x.length>0?c.jsx("div",{className:"space-y-1.5 w-full",children:x.slice(0,6).map(N=>{const B=U(N.subtitle),J=B?N.subtitle.split("")[0].trim():N.subtitle;return c.jsxs("div",{className:"border-l border-muted pl-1.5 py-0.5 min-w-0 w-full max-w-full",children:[c.jsx("p",{className:"text-[6px] font-medium leading-tight truncate overflow-hidden w-full",children:N.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 min-w-0 w-full max-w-full",children:[c.jsx("p",{className:"text-[5px] text-muted-foreground leading-tight truncate flex-1 min-w-0 overflow-hidden max-w-0",children:J}),B&&c.jsx(Te,{className:`text-[7px] px-1.5 py-0.5 flex-shrink-0 ${B.style}`,children:B.status})]})]},N.id)})}):c.jsx("p",{className:"text-[6px] text-muted-foreground text-center py-2",children:"None yet"})})]}),i==="pianist"&&c.jsxs(xt,{className:"h-fit",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsxs(sr,{className:"text-[9px] font-bold flex items-center gap-1",children:[c.jsx(vy,{className:"size-2"}),"Payments"]})}),c.jsx(wt,{className:"space-y-1 px-3 pb-2.5",children:_.accountId?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsx("span",{className:"text-[6px] text-muted-foreground",children:"Status"}),c.jsx(Te,{variant:_.onboardingComplete?"default":"secondary",className:"text-[6px] px-1.5 py-0.5",children:_.onboardingComplete?"Active":"Pending"})]}),_.chargesEnabled&&_.payoutsEnabled&&c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Ready"}),c.jsx(Te,{className:"text-[6px] px-1.5 py-0.5 bg-green-600 flex-shrink-0",children:""})]})]}):c.jsxs("div",{className:"text-center py-1.5",children:[c.jsx("p",{className:"text-[6px] text-muted-foreground leading-tight mb-1",children:"Not set up"}),c.jsx(Te,{variant:"secondary",className:"text-[6px] px-1.5 py-0.5",children:"Setup Required"})]})})]}),l&&c.jsxs(Ye,{onClick:l,variant:"outline",className:"w-full h-8 text-[7px] px-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300",children:[c.jsx(Pi,{className:"size-3 mr-1"}),"Logout"]})]})}function L0({contact:r,askDetails:e,bidAmount:n}){const i=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return c.jsxs(xt,{className:"border-green-200 bg-green-50",children:[c.jsxs(At,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(sr,{className:"text-lg",children:"Winning Pianist"}),c.jsx(Te,{className:"bg-green-600",children:"Accepted"})]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Bid accepted on ",i(r.revealed_at)]})]}),c.jsxs(wt,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r.pianist_name}),n&&c.jsxs("div",{className:"flex items-center gap-1 text-green-700 mt-1",children:[c.jsx(nn,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-medium",children:["$",n]})]})]}),c.jsxs("div",{className:"space-y-3 pt-3 border-t border-green-200",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100",children:c.jsx(tk,{className:"w-4 h-4 text-green-700"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),c.jsx("a",{href:`mailto:${r.pianist_email}`,className:"text-sm font-medium text-blue-600 hover:underline",children:r.pianist_email})]})]}),r.pianist_phone&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100",children:c.jsx(ik,{className:"w-4 h-4 text-green-700"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),c.jsx("a",{href:`tel:${r.pianist_phone}`,className:"text-sm font-medium text-blue-600 hover:underline",children:r.pianist_phone})]})]})]}),e&&c.jsxs("div",{className:"space-y-3 pt-3 border-t border-green-200",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ka,{className:"w-4 h-4 text-gray-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Instrument"}),c.jsx("p",{className:"text-sm font-medium",children:e.instrument})]})]}),e.pieces.length>0&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ka,{className:"w-4 h-4 text-gray-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Pieces"}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.pieces.map((a,l)=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md bg-green-100 text-xs",children:a},l))})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(wd,{className:"w-4 h-4 text-gray-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Performance Date"}),c.jsxs("p",{className:"text-sm font-medium",children:[e.dateType==="single"&&e.date&&new Date(e.date).toLocaleDateString(),e.dateType==="range"&&e.startDate&&e.endDate&&`${new Date(e.startDate).toLocaleDateString()} - ${new Date(e.endDate).toLocaleDateString()}`,e.dateType==="semester"&&e.semester]})]})]})]}),c.jsx("div",{className:"pt-3 border-t border-green-200",children:c.jsx("p",{className:"text-xs text-gray-600",children:"Contact this pianist to coordinate rehearsals and finalize arrangements."})})]})]})}function cA({userId:r,userType:e,userName:n,userEmail:i,onLogout:a,onEditProfile:l}){const[u,f]=y.useState([]),[h,m]=y.useState(!1),[v,x]=y.useState(!0),[w,S]=y.useState(!1),[E,_]=y.useState([]),[j,T]=y.useState(!0),[k,A]=y.useState("all"),L=async(O=!1)=>{try{O&&x(!0);const{data:G,error:W}=await me.from("asks").select("*").order("created_at",{ascending:!1});if(W)throw W;const{data:z,error:Q}=await me.from("bids").select("*").order("created_at",{ascending:!0});if(Q)throw Q;const I=(G||[]).map($=>({id:$.id,soloistName:$.soloist_name,instrument:$.instrument,pieces:$.pieces||[],duration:$.duration,costType:$.cost_type,cost:$.cost,location:$.location,dateType:$.date_type,date:$.date,startDate:$.start_date,endDate:$.end_date,semester:$.semester,description:$.description,auctionEndTime:$.auction_end_time,auctionStatus:$.auction_status,archivedAt:$.archived_at,createdAt:$.created_at,bids:(z||[]).filter(X=>X.ask_id===$.id).map(X=>({id:X.id,pianistName:X.pianist_name,amount:X.amount,message:X.message,status:X.status,createdAt:X.created_at}))}));f(I)}catch(G){console.error("Error fetching asks:",G)}finally{x(!1)}},H=async()=>{if(e==="soloist")try{T(!0);const{data:O,error:G}=await me.from("contact_reveals").select("*").eq("soloist_id",r).order("revealed_at",{ascending:!1});if(G)throw G;_(O||[])}catch(O){console.error("Error fetching contact reveals:",O)}finally{T(!1)}};y.useEffect(()=>{L(!0),e==="soloist"&&H();const O=me.channel("asks-changes").on("postgres_changes",{event:"*",schema:"public",table:"asks"},()=>{L(),S(!1)}).on("postgres_changes",{event:"*",schema:"public",table:"bids"},()=>{L(),e==="soloist"&&H()}).on("postgres_changes",{event:"*",schema:"public",table:"contact_reveals"},()=>{e==="soloist"&&H()}).subscribe();return()=>{O.unsubscribe()}},[e]);const V=async O=>{try{S(!0);const{data:{user:G}}=await me.auth.getUser();if(!G)throw new Error("Not authenticated");console.log("Creating ask with data:",O);const{error:W}=await me.from("asks").insert({user_id:G.id,soloist_name:O.soloistName,instrument:O.instrument,pieces:O.pieces,duration:O.duration,cost_type:O.costType,cost:O.cost,location:O.location,date_type:O.dateType,date:O.date,start_date:O.startDate,end_date:O.endDate,semester:O.semester,description:O.description,auction_end_time:O.auctionEndTime,auction_status:O.auctionStatus||"active"});if(W)throw console.error("Supabase error details:",W),S(!1),W;m(!1),await L(),S(!1)}catch(G){console.error("Error creating ask:",G),S(!1),alert(`Failed to create ask: ${G instanceof Error?G.message:"Unknown error"}. Check console for details.`)}},U=async(O,G)=>{try{const{data:{user:W}}=await me.auth.getUser();if(!W)throw new Error("Not authenticated");const z=u.find(Y=>Y.id===O);if(!z||!z.auctionEndTime)throw new Error("Ask not found or has no auction end time");const Q=new Date,I=new Date(z.auctionEndTime),$=I.getTime()-Q.getTime(),X=$>0&&$<60*1e3,{error:P}=await me.from("bids").insert({ask_id:O,user_id:W.id,pianist_name:G.pianistName,amount:G.amount,message:G.message,status:"pending"});if(P)throw P;if(X){const Y=new Date(I.getTime()+6e4),{error:oe}=await me.from("asks").update({auction_end_time:Y.toISOString()}).eq("id",O);if(oe)throw oe}await L()}catch(W){console.error("Error placing bid:",W),alert("Failed to place bid. Please try again.")}},N=async(O,G)=>{try{const W=u.find(Q=>Q.id===O);if(!W)return;const z=W.bids.map(async Q=>{const I=Q.id===G?"accepted":"rejected",{data:$,error:X}=await me.from("bids").update({status:I}).eq("id",Q.id).select();if(X)throw console.error(`Error updating bid ${Q.id}:`,X),X;return $});await Promise.all(z),console.log("All bids updated successfully"),await L(),e==="soloist"&&await H()}catch(W){console.error("Error accepting bid:",W),alert("Failed to accept bid. Please try again.")}},B=async O=>{try{const{error:G}=await me.from("asks").update({archived_at:new Date().toISOString()}).eq("id",O);if(G)throw G;await L()}catch(G){console.error("Error archiving ask:",G),alert("Failed to delete ask. Please try again.")}},J=u.filter(O=>!O.archivedAt),te=u.filter(O=>O.soloistName===n),K=u.filter(O=>O.bids.some(G=>G.pianistName===n));return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("header",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>A("all"),className:"flex items-center gap-2 sm:gap-3 group",children:[c.jsx("img",{src:ld,alt:"VirtuoNext",className:"h-8 w-8 sm:h-10 sm:w-10 transition-transform group-hover:scale-105"}),c.jsxs("div",{className:"flex flex-col items-start -mt-1",children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-500 via-amber-600 to-red-600 group-hover:from-amber-400 group-hover:via-amber-500 group-hover:to-red-500 transition-all leading-none",children:"VirtuoNext"}),c.jsxs("span",{className:"text-xs text-gray-500 mt-0.5 hidden sm:block",children:["Welcome, ",n.split(" ")[0]," (",e==="soloist"?"Soloist":"Pianist",")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("nav",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>A("all"),style:k==="all"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="all"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(wy,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:e==="soloist"?"Asks":"Bids"})]}),c.jsxs("button",{onClick:()=>A(e==="soloist"?"my-asks":"my-bids"),style:k==="my-asks"||k==="my-bids"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="my-asks"||k==="my-bids"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(hr,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:"Activity"})]}),e==="soloist"&&c.jsxs("button",{onClick:()=>A("my-contacts"),style:k==="my-contacts"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="my-contacts"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(_y,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:"Contacts"})]})]}),e==="soloist"&&c.jsxs(Ye,{onClick:()=>m(!0),className:"!bg-black hover:!bg-gray-800 !text-white !border-0 font-semibold shadow-lg",size:"sm",children:[c.jsx(js,{className:"size-4 mr-2"}),"Post Ask"]}),c.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-gray-600 hover:text-red-600 hover:bg-gray-50 transition-all",title:"Logout",children:c.jsx(Pi,{className:"size-5"})})]})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8 pb-24 md:pb-8",children:c.jsxs("div",{className:"flex gap-6",children:[c.jsx(lA,{userId:r,userEmail:i,userName:n,userType:e,onEditProfile:l,onLogout:a}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-6 w-full",children:[k==="all"&&c.jsx("div",{className:"space-y-4",children:v?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading asks..."})]}):c.jsxs(c.Fragment,{children:[w&&c.jsx(Na,{}),J.length>0?J.map(O=>c.jsx(mu,{ask:O,userType:e,userName:n,onPlaceBid:U,onAcceptBid:N,onArchiveAsk:B},O.id)):w?null:c.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No asks available yet. ",e==="soloist"&&"Create your first ask to get started!"]})]})}),k==="my-asks"&&e==="soloist"&&c.jsxs("div",{className:"space-y-4",children:[w&&c.jsx(Na,{}),te.length>0?te.map(O=>c.jsx(mu,{ask:O,userType:e,userName:n,onPlaceBid:U,onAcceptBid:N,onArchiveAsk:B,isActivityView:!0},O.id)):w?null:c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No asks posted yet. Create your first ask to get started!"})]}),k==="my-contacts"&&e==="soloist"&&c.jsx("div",{className:"space-y-4",children:j?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading contacts..."})]}):E.length>0?E.map(O=>{const G=u.find(z=>z.id===O.ask_id),W=G?.bids.find(z=>z.id===O.bid_id);return c.jsx(L0,{contact:O,askDetails:G?{instrument:G.instrument,pieces:G.pieces,dateType:G.dateType,date:G.date,startDate:G.startDate,endDate:G.endDate,semester:G.semester}:void 0,bidAmount:W?.amount},O.id)}):c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No accepted bids yet. When you accept a bid, pianist contact information will appear here."})}),k==="my-bids"&&e==="pianist"&&c.jsx("div",{className:"space-y-4",children:K.length>0?K.map(O=>c.jsx(mu,{ask:O,userType:e,userName:n,onPlaceBid:U,onAcceptBid:N,onArchiveAsk:B,isActivityView:!0},O.id)):c.jsx("div",{className:"text-center py-12 text-gray-500",children:"You haven't placed any bids yet. Browse asks and place your first bid!"})}),c.jsx(aA,{isOpen:h,onClose:()=>m(!1),onSubmit:V,userName:n})]})]})})]})}function yu({ask:r,userType:e,userName:n,onPlaceBid:i,onAcceptBid:a,onArchiveAsk:l,isActivityView:u=!1}){const[f,h]=y.useState(!1),[m,v]=y.useState(!1),[x,w]=y.useState(!1),[S,E]=y.useState(null),_=r.soloistName===n,T=r.bids.filter(K=>K.pianistName===n).find(K=>K.status==="pending"),k=r.bids.some(K=>K.status==="accepted"),A=r.auctionEndTime?new Date(r.auctionEndTime).getTime()<new Date().getTime():!1,L=r.auctionStatus==="active"&&!A,H=K=>{const O=new Date,G=new Date(K),W=O.getTime()-G.getTime(),z=Math.floor(W/6e4),Q=Math.floor(W/36e5),I=Math.floor(W/864e5);return z<1?"Just now":z<60?`${z}m ago`:Q<24?`${Q}h ago`:I<7?`${I}d ago`:G.toLocaleDateString()},V=()=>{if(!r.auctionEndTime)return"";const K=new Date,G=new Date(r.auctionEndTime).getTime()-K.getTime();if(G<=0)return"";const W=Math.floor(G/(1e3*60*60*24)),z=Math.floor(G%(1e3*60*60*24)/(1e3*60*60)),Q=Math.floor(G%(1e3*60*60)/(1e3*60));return W>0?`${W}d ${z}h`:z>0?`${z}h ${Q}m`:`${Q}m`},U=(K,O)=>{i(r.id,{pianistName:n,amount:K,message:O}),h(!1)},N=(K,O,G)=>{E({id:K,amount:O,pianistName:G}),w(!0)},B=()=>{S&&(a(r.id,S.id),w(!1),E(null))},J=r.bids.filter(K=>K.status==="pending"),te=J.length>0?Math.min(...J.map(K=>K.amount)):null;return J.length>0&&Math.round(J.reduce((K,O)=>K+O.amount,0)/J.length),c.jsxs(c.Fragment,{children:[c.jsxs(xt,{children:[c.jsxs(At,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between mb-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx(Mi,{className:"h-10 w-10 sm:h-12 sm:w-12",children:c.jsx(Bi,{className:"text-sm",children:r.soloistName.split(" ").map(K=>K[0]).join("")})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:r.soloistName}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:r.instrument}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Posted ",H(r.createdAt)]})]})]}),c.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end gap-2 sm:text-right",children:[c.jsx(Te,{variant:r.costType==="hourly"?"default":r.costType==="total"?"outline":"secondary",className:"text-xs",children:r.costType==="hourly"?"Hourly":r.costType==="total"?"Total Fee":"Per Piece"}),c.jsxs("div",{className:"sm:mt-1",children:[c.jsxs("span",{className:"text-xl sm:text-2xl font-bold",children:["$",r.cost]}),c.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:r.costType==="hourly"?"/hr":""})]})]})]}),r.auctionEndTime&&r.auctionStatus==="active"&&!r.archivedAt&&!u&&c.jsx("div",{className:"pt-4 mt-3",children:c.jsxs("div",{className:"inline-flex flex-wrap items-center gap-2 sm:gap-4 rounded-lg px-3 py-2 shadow-md text-sm sm:text-base",style:{backgroundColor:"#AAA9AD"},children:[c.jsx(jy,{auctionEndTime:r.auctionEndTime}),te!==null&&c.jsxs("div",{className:"flex items-center gap-2 text-white font-bold text-sm sm:text-base",children:[c.jsx(my,{className:"w-3 h-3 sm:w-4 sm:h-4",style:{transform:"rotate(180deg)"}}),c.jsx("span",{children:"Bid:"}),c.jsxs("span",{children:["$",te]})]})]})}),r.archivedAt&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"secondary",className:"bg-gray-400 text-white",children:"Deleted"})}),!r.archivedAt&&r.auctionStatus==="completed"&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"default",className:"bg-green-600",children:"Auction Complete"})}),!r.archivedAt&&(A||r.auctionStatus==="expired")&&r.auctionStatus!=="completed"&&c.jsx("div",{className:"pt-3 border-t",children:c.jsx(Te,{variant:"destructive",children:"Auction Expired"})})]}),c.jsxs(wt,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:r.description}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:c.jsxs("div",{className:"flex-1 space-y-2 text-sm",children:[r.pieces.length>0&&c.jsxs("div",{className:"flex items-start gap-2 text-gray-600",children:[c.jsx(ka,{className:"size-4 mt-0.5 flex-shrink-0"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:r.pieces.map((K,O)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-xs",children:K},O))})]}),r.duration&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(Ea,{className:"size-4"}),c.jsx("span",{children:r.duration})]}),c.jsxs("div",{className:"flex flex-row gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(wd,{className:"size-4"}),c.jsxs("span",{className:"break-words",children:[r.dateType==="single"&&r.date&&new Date(r.date).toLocaleDateString(),r.dateType==="range"&&r.startDate&&r.endDate&&`${new Date(r.startDate).toLocaleDateString()} - ${new Date(r.endDate).toLocaleDateString()}`,r.dateType==="semester"&&r.semester]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm",children:[c.jsx(xy,{className:"size-4"}),c.jsx("span",{className:"break-words",children:r.location})]})]})]})}),r.bids.length>0&&c.jsxs("div",{className:"pt-2 border-t",children:[c.jsxs("button",{onClick:()=>v(!m),style:{background:"#fe440a"},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md text-white font-semibold text-sm shadow-md hover:shadow-lg transition-all hover:scale-[1.02] whitespace-nowrap",children:[c.jsx("span",{children:m?"":""}),c.jsxs("span",{children:[r.bids.length," bid",r.bids.length!==1?"s":""," placed"]})]}),m&&c.jsx("div",{className:"mt-3 space-y-2",children:[...r.bids].map(K=>{const G=[...r.bids.filter(z=>z.pianistName===K.pianistName)].sort((z,Q)=>new Date(Q.createdAt).getTime()-new Date(z.createdAt).getTime()),W=G.length>0&&G[0].id!==K.id;return{...K,newerBidExists:W}}).sort((K,O)=>K.newerBidExists!==O.newerBidExists?K.newerBidExists?1:-1:K.amount-O.amount).map(K=>{const O=K.newerBidExists;return c.jsxs("div",{className:`p-3 rounded-lg border ${O?"bg-gray-100 border-gray-300 opacity-60":K.status==="accepted"?"bg-green-50 border-green-200":K.status==="rejected"?"bg-gray-50 border-gray-200":"bg-white border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",style:O?{textDecoration:"line-through"}:{},children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{children:K.pianistName}),K.status==="accepted"&&c.jsx(Te,{className:"bg-green-600",style:{textDecoration:"none"},children:"Accepted"}),K.status==="rejected"&&c.jsx(Te,{variant:"secondary",style:{textDecoration:"none"},children:"Not Selected"}),O&&c.jsx("span",{style:{textDecoration:"none"},children:c.jsx(Te,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:"New Bid Placed"})})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:K.message})]}),c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(nn,{className:"size-4"}),c.jsx("span",{children:K.amount})]})})]}),_&&K.status==="pending"&&!k&&!u&&!O&&c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},className:"mt-2",children:c.jsx("button",{onClick:()=>N(K.id,K.amount,K.pianistName),style:{background:"#16a34a"},className:"relative overflow-hidden transition-all duration-300 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] rounded-md h-9 px-6 py-2 inline-flex items-center justify-center text-sm border-0",children:L?"Accept & End Auction":"Accept Bid"})})]},K.id)})})]}),e==="pianist"&&T&&c.jsx("div",{className:"pt-2 border-t",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-700",children:["Your current bid: $",T.amount]}),T.status==="accepted"&&c.jsx(Te,{className:"bg-green-100 text-green-700 border-green-200",children:"Accepted"}),T.status==="pending"&&c.jsx(Te,{className:"bg-amber-100 text-amber-700 border-amber-200",children:"Pending"}),T.status==="rejected"&&c.jsx(Te,{className:"bg-red-100 text-red-700 border-red-200",children:"Canceled"})]})})]}),c.jsxs(Ju,{style:{display:"flex",justifyContent:"flex-end"},children:[e==="pianist"&&!_&&!k&&!A&&r.auctionStatus!=="expired"&&r.auctionStatus!=="completed"&&!u&&c.jsx("button",{onClick:()=>h(!0),style:{background:"#fe440a"},className:"relative overflow-hidden transition-all duration-300 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-95 rounded-md h-11 sm:h-9 px-6 py-2 inline-flex items-center justify-center text-sm sm:text-sm w-full sm:w-auto border-0",children:T?"Submit Another Bid":"Place Bid"}),(A||r.auctionStatus==="expired")&&!k&&r.auctionStatus!=="completed"&&!_&&!u&&c.jsx("div",{className:"w-full text-center text-sm text-gray-600",children:"Bidding has ended"}),k&&!_&&!T&&!u&&c.jsx("div",{className:"w-full text-center text-sm text-gray-600",children:"This opportunity has been filled"}),e==="soloist"&&_&&!r.archivedAt&&k&&r.auctionStatus==="completed"&&!u&&c.jsx(Ye,{onClick:()=>l(r.id),variant:"destructive",className:"w-full",children:"Delete Ask"}),u&&c.jsxs("div",{className:"w-full flex justify-center",children:[r.auctionStatus==="active"&&!r.archivedAt&&c.jsx(Te,{className:"bg-green-600 text-white shadow-lg shadow-green-600/50",children:"Active"}),r.auctionStatus==="completed"&&c.jsx(Te,{className:"bg-green-600 text-white shadow-lg shadow-green-600/50",children:"Completed"}),r.archivedAt&&c.jsx(Te,{className:"bg-yellow-600 text-white shadow-lg shadow-red-600/50",children:"Archived"})]})]})]}),c.jsx(Sy,{isOpen:f,onClose:()=>h(!1),onSubmit:U,askCost:r.cost,currentBid:T?.amount,lowestBid:te,isRebid:!!T}),c.jsx(Uy,{isOpen:x,onClose:()=>w(!1),onConfirm:B,bidAmount:S?.amount||0,pianistName:S?.pianistName||"",isAuctionActive:L,timeRemaining:V()})]})}function uA({isOpen:r,onClose:e,onSubmit:n,userName:i}){const[a,l]=y.useState(""),[u,f]=y.useState([]),[h,m]=y.useState(""),[v,x]=y.useState(""),[w,S]=y.useState("per-piece"),[E,_]=y.useState(""),[j,T]=y.useState(""),[k,A]=y.useState("semester"),[L,H]=y.useState(""),[V,U]=y.useState(""),[N,B]=y.useState(""),[J,te]=y.useState("Fall 2025"),[K,O]=y.useState(""),[G,W]=y.useState("7"),z=()=>{h.trim()&&(f([...u,h.trim()]),m(""))},Q=$=>{f(u.filter((X,P)=>P!==$))},I=$=>{$.preventDefault();const X=new Date,P=parseInt(G),Y=new Date(X.getTime()+P*24*60*60*1e3);n({soloistName:i,instrument:a,pieces:u,duration:v||void 0,costType:w,cost:parseFloat(E),location:j,dateType:k,date:k==="single"?L:void 0,startDate:k==="range"?V:void 0,endDate:k==="range"?N:void 0,semester:k==="semester"?J:void 0,description:K,auctionEndTime:Y.toISOString(),auctionStatus:"active"}),l(""),f([]),m(""),x(""),S("per-piece"),_(""),T(""),A("semester"),H(""),U(""),B(""),te("Fall 2025"),O(""),W("7")};return c.jsx(bd,{open:r,onOpenChange:e,children:c.jsxs(_d,{className:"w-[94vw] max-h-[90vh] overflow-y-auto",children:[c.jsxs(Sd,{children:[c.jsx(jd,{children:"Post a New Ask"}),c.jsx(Ed,{children:"Share details about your accompaniment needs"})]}),c.jsxs("form",{onSubmit:I,className:"space-y-4 mt-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"instrument",children:"Instrument *"}),c.jsx(Me,{id:"instrument",placeholder:"e.g., Violin, Cello, Flute",value:a,onChange:$=>l($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"pieces",children:"Pieces (optional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Me,{id:"pieces",placeholder:"e.g., Brahms Violin Concerto",value:h,onChange:$=>m($.target.value),onKeyDown:$=>{$.key==="Enter"&&($.preventDefault(),z())}}),c.jsx(Ye,{type:"button",onClick:z,variant:"outline",size:"icon",children:c.jsx(js,{className:"size-4"})})]}),u.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(($,X)=>c.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-md bg-red-50 border border-red-200 text-sm",children:[c.jsx("span",{children:$}),c.jsx("button",{type:"button",onClick:()=>Q(X),className:"ml-1 text-red-600 hover:text-red-700",children:c.jsx(Va,{className:"size-3"})})]},X))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Cost Type *"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>S("per-piece"),className:`p-3 rounded-lg border-2 transition-all ${w==="per-piece"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Per Piece"}),c.jsx("button",{type:"button",onClick:()=>S("hourly"),className:`p-3 rounded-lg border-2 transition-all ${w==="hourly"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Hourly Rate"}),c.jsx("button",{type:"button",onClick:()=>S("total"),className:`p-3 rounded-lg border-2 transition-all ${w==="total"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Total Fee"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ke,{htmlFor:"cost",children:[w==="hourly"?"Hourly Rate":w==="total"?"Total Fee":"Cost per Piece"," ($) *"]}),c.jsx(Me,{id:"cost",type:"number",placeholder:"150",value:E,onChange:$=>_($.target.value),required:!0})]}),w==="hourly"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"duration",children:"Duration"}),c.jsx(Me,{id:"duration",placeholder:"e.g., 2 hours",value:v,onChange:$=>x($.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"location",children:"Location *"}),c.jsx(Me,{id:"location",placeholder:"e.g., Carnegie Hall, NYC",value:j,onChange:$=>T($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{children:"Date Type *"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("button",{type:"button",onClick:()=>A("single"),className:`p-3 rounded-lg border-2 transition-all ${k==="single"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Single Date"}),c.jsx("button",{type:"button",onClick:()=>A("range"),className:`p-3 rounded-lg border-2 transition-all ${k==="range"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Date Range"}),c.jsx("button",{type:"button",onClick:()=>A("semester"),className:`p-3 rounded-lg border-2 transition-all ${k==="semester"?"border-red-600 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:"Semester"})]})]}),k==="single"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"date",children:"Date *"}),c.jsx(Me,{id:"date",type:"date",value:L,onChange:$=>H($.target.value),required:!0})]}),k==="range"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"startDate",children:"Start Date *"}),c.jsx(Me,{id:"startDate",type:"date",value:V,onChange:$=>U($.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"endDate",children:"End Date *"}),c.jsx(Me,{id:"endDate",type:"date",value:N,onChange:$=>B($.target.value),required:!0})]})]}),k==="semester"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"semester",children:"Semester *"}),c.jsxs(Oa,{value:J,onValueChange:te,children:[c.jsx(Da,{children:c.jsx(Ia,{})}),c.jsxs(La,{children:[c.jsx(He,{value:"Fall 2025",children:"Fall 2025"}),c.jsx(He,{value:"Spring 2026",children:"Spring 2026"}),c.jsx(He,{value:"Summer 2026",children:"Summer 2026"}),c.jsx(He,{value:"Fall 2026",children:"Fall 2026"}),c.jsx(He,{value:"Spring 2027",children:"Spring 2027"}),c.jsx(He,{value:"Summer 2027",children:"Summer 2027"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"description",children:"Description *"}),c.jsx(Wa,{id:"description",placeholder:"Describe your needs, experience level required, repertoire, etc.",value:K,onChange:$=>O($.target.value),rows:4,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"auctionDuration",children:"Bidding Duration *"}),c.jsxs(Oa,{value:G,onValueChange:W,children:[c.jsx(Da,{children:c.jsx(Ia,{})}),c.jsxs(La,{children:[c.jsx(He,{value:"1",children:"1 day (24 hours)"}),c.jsx(He,{value:"2",children:"2 days (48 hours)"}),c.jsx(He,{value:"3",children:"3 days (72 hours)"}),c.jsx(He,{value:"7",children:"1 week (7 days)"}),c.jsx(He,{value:"14",children:"2 weeks (14 days)"}),c.jsx(He,{value:"30",children:"1 month (30 days)"})]})]}),c.jsx("p",{className:"text-sm text-gray-500",children:"How long pianists can bid on your ask. Timer extends by 1 minute if a bid is placed in the final minute."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(Ye,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),c.jsx(Ye,{type:"submit",className:"flex-1",children:"Post Ask"})]})]})]})})}function dA({userId:r,userEmail:e,userName:n,userType:i,onEditProfile:a,onLogout:l,isMobileOverlay:u=!1}){const[f,h]=y.useState({bio:null,picture_url:null}),[m,v]=y.useState({profileViews:0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:0,acceptedBids:0,activeAsks:0}),[x,w]=y.useState([]),[S,E]=y.useState(!0),[_,j]=y.useState({accountId:null,onboardingComplete:!1,chargesEnabled:!1,payoutsEnabled:!1});y.useEffect(()=>{k(),A(),H(),i==="pianist"&&L(),T()},[r]);const T=async()=>{try{await me.from("profile_views").insert({profile_id:r,viewer_id:r})}catch(N){console.error("Error tracking profile view:",N)}},k=async()=>{try{const{data:N,error:B}=await me.from("profiles").select("bio, picture_url").eq("id",r).single();B?console.log("No profile found, using defaults"):N&&h(N)}catch(N){console.error("Error fetching profile:",N)}},A=async()=>{try{E(!0);const{count:N}=await me.from("profile_views").select("*",{count:"exact",head:!0}).eq("profile_id",r);if(i==="soloist"){const{data:B}=await me.from("asks").select("id").eq("user_id",r),J=B?.length||0;if(J>0){const te=B?.map(G=>G.id)||[],{count:K}=await me.from("bids").select("*",{count:"exact",head:!0}).in("ask_id",te),{count:O}=await me.from("bids").select("*",{count:"exact",head:!0}).in("ask_id",te).eq("status","accepted");v({profileViews:N||0,totalAsks:J,totalBidsOnAsks:K||0,totalBidsDone:0,acceptedBids:O||0,activeAsks:J-(O||0)})}else v({profileViews:N||0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:0,acceptedBids:0,activeAsks:0})}else{const{data:B}=await me.from("bids").select("id, status").eq("user_id",r),J=B?.length||0,te=B?.filter(K=>K.status==="accepted").length||0;v({profileViews:N||0,totalAsks:0,totalBidsOnAsks:0,totalBidsDone:J,acceptedBids:te,activeAsks:0})}}catch(N){console.error("Error fetching metrics:",N)}finally{E(!1)}},L=async()=>{try{const{data:N,error:B}=await me.from("profiles").select("stripe_account_id, stripe_onboarding_complete, stripe_charges_enabled, stripe_payouts_enabled").eq("id",r).single();if(B){console.error("Error fetching Stripe data:",B);return}N&&j({accountId:N.stripe_account_id,onboardingComplete:N.stripe_onboarding_complete||!1,chargesEnabled:N.stripe_charges_enabled||!1,payoutsEnabled:N.stripe_payouts_enabled||!1})}catch(N){console.error("Error fetching Stripe data:",N)}},H=async()=>{try{if(i==="soloist"){const{data:N}=await me.from("asks").select("id, instrument, pieces, cost, cost_type").eq("user_id",r).order("created_at",{ascending:!1}).limit(5),B=(N||[]).map(J=>{let te="No pieces listed";if(J.pieces&&J.pieces.length>0){const O=J.pieces.slice(0,2).join(", ")+(J.pieces.length>2?"...":"");te=O.length>30?O.substring(0,30)+"...":O}const K=J.cost_type==="hourly"?"/hr":J.cost_type==="total"?" total":"/piece";return{id:J.id,title:`${J.instrument} - $${J.cost}${K}`,subtitle:te}});w(B)}else{const{data:N}=await me.from("bids").select("id, amount, ask_id, status").eq("user_id",r).order("created_at",{ascending:!1}).limit(5);if(!N||N.length===0){w([]);return}const B=N.map(K=>K.ask_id),{data:J}=await me.from("asks").select("id, instrument, soloist_name").in("id",B),te=N.map(K=>{const O=J?.find(G=>G.id===K.ask_id);return{id:K.id,title:`${O?.instrument||"Unknown"} - $${K.amount}`,subtitle:`${O?.soloist_name||"Unknown"}  ${K.status}`}});w(te)}}catch(N){console.error("Error fetching recent activity:",N)}},V=N=>N.split(" ").map(B=>B[0]).join("").toUpperCase(),U=N=>{const B=N.split("").map(O=>O.trim());if(B.length<2)return null;const J=B[1].toLowerCase(),K={pending:"bg-amber-500 text-white shadow-lg shadow-amber-500/50",accepted:"bg-green-600 text-white shadow-lg shadow-green-600/50",canceled:"bg-red-600 text-white shadow-lg shadow-red-600/50"}[J];return K?{status:J,style:K}:null};return c.jsxs("div",{className:u?"w-full space-y-3":"w-48 flex-shrink-0 space-y-3 sticky top-20 self-start",children:[c.jsx(xt,{className:"h-fit",children:c.jsx(wt,{className:"pt-4 pb-4 px-4",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[c.jsxs(Mi,{className:"size-9",children:[c.jsx(dd,{src:f.picture_url||void 0,alt:n}),c.jsx(Bi,{className:"text-[9px]",children:V(n)})]}),c.jsxs("div",{className:"w-full space-y-0.5",children:[c.jsx("h3",{className:"font-semibold text-[8px] leading-tight truncate",children:n}),c.jsx("p",{className:"text-[7px] text-muted-foreground truncate leading-tight",children:e})]}),c.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full h-5 text-[7px] px-1.5 mt-1",onClick:a,children:[c.jsx(by,{className:"size-2 mr-0.5"}),"Edit"]})]})})}),c.jsxs(xt,{className:"h-fit",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsx(sr,{className:"text-[9px] font-bold",children:"Stats"})}),c.jsx(wt,{className:"space-y-1 px-3 pb-2.5",children:S?c.jsx("div",{className:"text-center py-1",children:c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-[3px] border-red-600 border-t-transparent mx-auto"})}):c.jsx(c.Fragment,{children:i==="soloist"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(yy,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Asks"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalAsks})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Bids"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalBidsOnAsks})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(nn,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Accepted"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.acceptedBids})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Active"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.activeAsks})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Bids"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.totalBidsDone})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(nn,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Accepted"})]}),c.jsx("span",{className:"text-[7px] font-semibold flex-shrink-0",children:m.acceptedBids})]}),c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsxs("div",{className:"flex items-center gap-0.5 min-w-0 flex-1",children:[c.jsx(hr,{className:"size-2 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Rate"})]}),c.jsxs("span",{className:"text-[7px] font-semibold flex-shrink-0",children:[m.totalBidsDone>0?Math.round(m.acceptedBids/m.totalBidsDone*100):0,"%"]})]})]})})})]}),c.jsxs(xt,{className:u?"h-fit w-full":"h-fit max-h-[280px] overflow-hidden w-full",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsx(sr,{className:"text-[9px] font-bold",children:"Recent"})}),c.jsx(wt,{className:u?"px-3 pb-2.5":"px-3 pb-2.5 overflow-y-auto overflow-x-hidden max-h-[240px]",children:x.length>0?c.jsx("div",{className:"space-y-1.5 w-full",children:x.slice(0,6).map(N=>{const B=U(N.subtitle),J=B?N.subtitle.split("")[0].trim():N.subtitle;return c.jsxs("div",{className:"border-l border-muted pl-1.5 py-0.5 min-w-0 w-full max-w-full",children:[c.jsx("p",{className:"text-[6px] font-medium leading-tight truncate overflow-hidden w-full",children:N.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 min-w-0 w-full max-w-full",children:[c.jsx("p",{className:"text-[5px] text-muted-foreground leading-tight truncate flex-1 min-w-0 overflow-hidden max-w-0",children:J}),B&&c.jsx(Te,{className:`text-[7px] px-1.5 py-0.5 flex-shrink-0 ${B.style}`,children:B.status})]})]},N.id)})}):c.jsx("p",{className:"text-[6px] text-muted-foreground text-center py-2",children:"None yet"})})]}),i==="pianist"&&c.jsxs(xt,{className:"h-fit",children:[c.jsx(At,{className:"pb-1.5 pt-3.5 px-3",children:c.jsxs(sr,{className:"text-[9px] font-bold flex items-center gap-1",children:[c.jsx(vy,{className:"size-2"}),"Payments"]})}),c.jsx(wt,{className:"space-y-1 px-3 pb-2.5",children:_.accountId?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsx("span",{className:"text-[6px] text-muted-foreground",children:"Status"}),c.jsx(Te,{variant:_.onboardingComplete?"default":"secondary",className:"text-[6px] px-1.5 py-0.5",children:_.onboardingComplete?"Active":"Pending"})]}),_.chargesEnabled&&_.payoutsEnabled&&c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsx("span",{className:"text-[6px] text-muted-foreground truncate",children:"Ready"}),c.jsx(Te,{className:"text-[6px] px-1.5 py-0.5 bg-green-600 flex-shrink-0",children:""})]})]}):c.jsxs("div",{className:"text-center py-1.5",children:[c.jsx("p",{className:"text-[6px] text-muted-foreground leading-tight mb-1",children:"Not set up"}),c.jsx(Te,{variant:"secondary",className:"text-[6px] px-1.5 py-0.5",children:"Setup Required"})]})})]}),l&&c.jsxs(Ye,{onClick:l,variant:"outline",className:"w-full h-8 text-[7px] px-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300",children:[c.jsx(Pi,{className:"size-3 mr-1"}),"Logout"]})]})}function fA({userId:r,userType:e,userName:n,userEmail:i,onLogout:a,onEditProfile:l}){const[u,f]=y.useState([]),[h,m]=y.useState(!1),[v,x]=y.useState(!0),[w,S]=y.useState(!1),[E,_]=y.useState([]),[j,T]=y.useState(!0),[k,A]=y.useState("all"),[L,H]=y.useState(!1),V=async(W=!1)=>{try{W&&x(!0);const{data:z,error:Q}=await me.from("asks").select("*").order("created_at",{ascending:!1});if(Q)throw Q;const{data:I,error:$}=await me.from("bids").select("*").order("created_at",{ascending:!0});if($)throw $;const X=(z||[]).map(P=>({id:P.id,soloistName:P.soloist_name,instrument:P.instrument,pieces:P.pieces||[],duration:P.duration,costType:P.cost_type,cost:P.cost,location:P.location,dateType:P.date_type,date:P.date,startDate:P.start_date,endDate:P.end_date,semester:P.semester,description:P.description,auctionEndTime:P.auction_end_time,auctionStatus:P.auction_status,archivedAt:P.archived_at,createdAt:P.created_at,bids:(I||[]).filter(Y=>Y.ask_id===P.id).map(Y=>({id:Y.id,pianistName:Y.pianist_name,amount:Y.amount,message:Y.message,status:Y.status,createdAt:Y.created_at}))}));f(X)}catch(z){console.error("Error fetching asks:",z)}finally{x(!1)}},U=async()=>{if(e==="soloist")try{T(!0);const{data:W,error:z}=await me.from("contact_reveals").select("*").eq("soloist_id",r).order("revealed_at",{ascending:!1});if(z)throw z;_(W||[])}catch(W){console.error("Error fetching contact reveals:",W)}finally{T(!1)}};y.useEffect(()=>(L?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[L]),y.useEffect(()=>{V(!0),e==="soloist"&&U();const W=me.channel("asks-changes").on("postgres_changes",{event:"*",schema:"public",table:"asks"},()=>{V(),S(!1)}).on("postgres_changes",{event:"*",schema:"public",table:"bids"},()=>{V(),e==="soloist"&&U()}).on("postgres_changes",{event:"*",schema:"public",table:"contact_reveals"},()=>{e==="soloist"&&U()}).subscribe();return()=>{W.unsubscribe()}},[e]);const N=async W=>{try{S(!0);const{data:{user:z}}=await me.auth.getUser();if(!z)throw new Error("Not authenticated");console.log("Creating ask with data:",W);const{error:Q}=await me.from("asks").insert({user_id:z.id,soloist_name:W.soloistName,instrument:W.instrument,pieces:W.pieces,duration:W.duration,cost_type:W.costType,cost:W.cost,location:W.location,date_type:W.dateType,date:W.date,start_date:W.startDate,end_date:W.endDate,semester:W.semester,description:W.description,auction_end_time:W.auctionEndTime,auction_status:W.auctionStatus||"active"});if(Q)throw console.error("Supabase error details:",Q),S(!1),Q;m(!1),await V(),S(!1)}catch(z){console.error("Error creating ask:",z),S(!1),alert(`Failed to create ask: ${z instanceof Error?z.message:"Unknown error"}. Check console for details.`)}},B=async(W,z)=>{try{const{data:{user:Q}}=await me.auth.getUser();if(!Q)throw new Error("Not authenticated");const I=u.find(le=>le.id===W);if(!I||!I.auctionEndTime)throw new Error("Ask not found or has no auction end time");const $=new Date,X=new Date(I.auctionEndTime),P=X.getTime()-$.getTime(),Y=P>0&&P<60*1e3,{error:oe}=await me.from("bids").insert({ask_id:W,user_id:Q.id,pianist_name:z.pianistName,amount:z.amount,message:z.message,status:"pending"});if(oe)throw oe;if(Y){const le=new Date(X.getTime()+6e4),{error:be}=await me.from("asks").update({auction_end_time:le.toISOString()}).eq("id",W);if(be)throw be}await V()}catch(Q){console.error("Error placing bid:",Q),alert("Failed to place bid. Please try again.")}},J=async(W,z)=>{try{const Q=u.find($=>$.id===W);if(!Q)return;const I=Q.bids.map(async $=>{const X=$.id===z?"accepted":"rejected",{data:P,error:Y}=await me.from("bids").update({status:X}).eq("id",$.id).select();if(Y)throw console.error(`Error updating bid ${$.id}:`,Y),Y;return P});await Promise.all(I),console.log("All bids updated successfully"),await V(),e==="soloist"&&await U()}catch(Q){console.error("Error accepting bid:",Q),alert("Failed to accept bid. Please try again.")}},te=async W=>{try{const{error:z}=await me.from("asks").update({archived_at:new Date().toISOString()}).eq("id",W);if(z)throw z;await V()}catch(z){console.error("Error archiving ask:",z),alert("Failed to delete ask. Please try again.")}},K=u.filter(W=>!W.archivedAt),O=u.filter(W=>W.soloistName===n),G=u.filter(W=>W.bids.some(z=>z.pianistName===n));return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("header",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>A("all"),className:"flex items-center gap-2 sm:gap-3 group",children:[c.jsx("img",{src:ld,alt:"VirtuoNext",className:"h-8 w-8 sm:h-10 sm:w-10 transition-transform group-hover:scale-105"}),c.jsxs("div",{className:"flex flex-col items-start -mt-1",children:[c.jsx("span",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-500 via-amber-600 to-red-600 group-hover:from-amber-400 group-hover:via-amber-500 group-hover:to-red-500 transition-all leading-none",children:"VirtuoNext"}),c.jsxs("span",{className:"text-xs text-gray-500 mt-0.5 hidden sm:block",children:["Welcome, ",n.split(" ")[0]," (",e==="soloist"?"Soloist":"Pianist",")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("nav",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>A("all"),style:k==="all"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="all"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(wy,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:e==="soloist"?"Asks":"Bids"})]}),c.jsxs("button",{onClick:()=>A(e==="soloist"?"my-asks":"my-bids"),style:k==="my-asks"||k==="my-bids"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="my-asks"||k==="my-bids"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(hr,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:"Activity"})]}),e==="soloist"&&c.jsxs("button",{onClick:()=>A("my-contacts"),style:k==="my-contacts"?{background:"#fe440a"}:{},className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${k==="my-contacts"?"text-white shadow-lg":"text-gray-600 hover:text-amber-600 hover:bg-gray-50"}`,children:[c.jsx(_y,{className:"size-5"}),c.jsx("span",{className:"text-xs font-semibold",children:"Contacts"})]})]}),c.jsx("button",{onClick:a,className:"p-2.5 rounded-lg text-gray-600 hover:text-red-600 hover:bg-gray-50 transition-all",title:"Logout",children:c.jsx(Pi,{className:"size-5"})})]})]})})}),L&&c.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:()=>H(!1)}),c.jsxs("div",{className:"absolute inset-y-0 right-0 w-72 bg-white shadow-xl flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"}),c.jsx("button",{onClick:()=>H(!1),className:"p-2 rounded-lg text-gray-600 hover:text-red-600 hover:bg-gray-50 transition-all",children:c.jsx(Va,{className:"size-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(dA,{userId:r,userEmail:i,userName:n,userType:e,onEditProfile:l,isMobileOverlay:!0})}),c.jsxs("div",{className:"p-4 border-t bg-gray-50 space-y-2",children:[e==="soloist"&&c.jsxs(Ye,{onClick:()=>{H(!1),m(!0)},className:"w-full !bg-black hover:!bg-gray-800 !text-white !border-0",size:"sm",children:[c.jsx(js,{className:"size-4 mr-2"}),"Post Ask"]}),c.jsxs(Ye,{onClick:a,className:"w-full !bg-red-600 hover:!bg-red-700 !text-white !border-0",size:"sm",children:[c.jsx(Pi,{className:"size-4 mr-2"}),"Logout"]})]})]})]}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8 pb-24 md:pb-8",children:c.jsx("div",{className:"flex gap-6",children:c.jsxs("div",{className:"flex-1 min-w-0 space-y-6 w-full",children:[k==="all"&&c.jsxs("div",{className:"space-y-4",children:[e==="soloist"&&c.jsxs("button",{onClick:()=>m(!0),style:{background:"#000000",height:"56px"},className:"w-full text-white rounded-lg px-4 flex items-center justify-center gap-2 shadow-md transition-all hover:opacity-90",children:[c.jsx(js,{className:"size-5"}),c.jsx("span",{className:"font-semibold",children:"Post New Ask"})]}),v?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading asks..."})]}):c.jsxs(c.Fragment,{children:[w&&c.jsx(Na,{}),K.length>0?K.map(W=>c.jsx(yu,{ask:W,userType:e,userName:n,onPlaceBid:B,onAcceptBid:J,onArchiveAsk:te},W.id)):w?null:c.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No asks available yet. ",e==="soloist"&&"Create your first ask to get started!"]})]})]}),k==="my-asks"&&e==="soloist"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>m(!0),style:{background:"#000000",height:"56px"},className:"w-full text-white rounded-lg px-4 flex items-center justify-center gap-2 shadow-md transition-all hover:opacity-90",children:[c.jsx(js,{className:"size-5"}),c.jsx("span",{className:"font-semibold",children:"Post New Ask"})]}),w&&c.jsx(Na,{}),O.length>0?O.map(W=>c.jsx(yu,{ask:W,userType:e,userName:n,onPlaceBid:B,onAcceptBid:J,onArchiveAsk:te,isActivityView:!0},W.id)):w?null:c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No asks posted yet. Create your first ask to get started!"})]}),k==="my-contacts"&&e==="soloist"&&c.jsx("div",{className:"space-y-4",children:j?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading contacts..."})]}):E.length>0?E.map(W=>{const z=u.find(I=>I.id===W.ask_id),Q=z?.bids.find(I=>I.id===W.bid_id);return c.jsx(L0,{contact:W,askDetails:z?{instrument:z.instrument,pieces:z.pieces,dateType:z.dateType,date:z.date,startDate:z.startDate,endDate:z.endDate,semester:z.semester}:void 0,bidAmount:Q?.amount},W.id)}):c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No accepted bids yet. When you accept a bid, pianist contact information will appear here."})}),k==="my-bids"&&e==="pianist"&&c.jsx("div",{className:"space-y-4",children:G.length>0?G.map(W=>c.jsx(yu,{ask:W,userType:e,userName:n,onPlaceBid:B,onAcceptBid:J,onArchiveAsk:te,isActivityView:!0},W.id)):c.jsx("div",{className:"text-center py-12 text-gray-500",children:"You haven't placed any bids yet. Browse asks and place your first bid!"})}),c.jsx(uA,{isOpen:h,onClose:()=>m(!1),onSubmit:N,userName:n})]})})})]})}function hA(){const[r,e]=y.useState(!1);return y.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),r}function pA(r){return hA()?c.jsx(fA,{...r}):c.jsx(cA,{...r})}function mA({userId:r,userEmail:e,userName:n,userType:i,onBack:a}){const[l,u]=y.useState(!0),[f,h]=y.useState(!1),[m,v]=y.useState(!1),[x,w]=y.useState(null),[S,E]=y.useState(null),[_,j]=y.useState({name:n,bio:"",picture_url:"",phone_number:""});y.useEffect(()=>{T()},[r]);const T=async()=>{try{u(!0);const{data:V,error:U}=await me.from("profiles").select("name, bio, picture_url, phone_number").eq("id",r).single();U?console.log("No profile found, will create on save"):V&&j({name:V.name||n,bio:V.bio||"",picture_url:V.picture_url||"",phone_number:V.phone_number||""})}catch(V){console.error("Error fetching profile:",V)}finally{u(!1)}},k=V=>new Promise((U,N)=>{const B=new FileReader;B.onload=J=>{const te=new Image;te.onload=()=>{const K=document.createElement("canvas"),O=K.getContext("2d");if(!O){N(new Error("Could not get canvas context"));return}const G=200,W=200;let z=te.width,Q=te.height;z>Q?z>G&&(Q*=G/z,z=G):Q>W&&(z*=W/Q,Q=W),K.width=z,K.height=Q,O.drawImage(te,0,0,z,Q),K.toBlob(I=>{I?U(I):N(new Error("Failed to create blob"))},"image/jpeg",.85)},te.onerror=()=>N(new Error("Failed to load image")),te.src=J.target?.result},B.onerror=()=>N(new Error("Failed to read file")),B.readAsDataURL(V)}),A=async V=>{const U=V.target.files?.[0];if(U){if(!U.type.startsWith("image/")){w("Please upload an image file");return}if(U.size>5*1024*1024){w("Image must be smaller than 5MB");return}try{v(!0),w(null);const N=await k(U),J=`avatars/${`${r}-${Date.now()}.jpg`}`,{error:te}=await me.storage.from("profile-pictures").upload(J,N,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(te)throw te;const{data:K}=me.storage.from("profile-pictures").getPublicUrl(J);j(O=>({...O,picture_url:K.publicUrl})),E("Image uploaded! Remember to save your changes.")}catch(N){console.error("Error uploading image:",N),w("Failed to upload image. Please try again.")}finally{v(!1)}}},L=async()=>{try{if(h(!0),w(null),E(null),_.bio.length>500){w("Bio must be 500 characters or less");return}const{data:V}=await me.from("profiles").select("id").eq("id",r).single();if(V){const{error:N}=await me.from("profiles").update({name:_.name,bio:_.bio,picture_url:_.picture_url,phone_number:_.phone_number}).eq("id",r);if(N)throw N}else{const{error:N}=await me.from("profiles").insert({id:r,email:e,name:_.name,user_type:i,bio:_.bio,picture_url:_.picture_url,phone_number:_.phone_number});if(N)throw N}const{error:U}=await me.auth.updateUser({data:{name:_.name}});if(U)throw U;E("Profile updated successfully!"),setTimeout(()=>E(null),3e3)}catch(V){console.error("Error saving profile:",V),w("Failed to save profile. Please try again.")}finally{h(!1)}},H=V=>V.split(" ").map(U=>U[0]).join("").toUpperCase().slice(0,2);return l?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:c.jsx("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs(Ye,{variant:"ghost",size:"sm",onClick:a,children:[c.jsx(M1,{className:"size-4 mr-2"}),"Back"]}),c.jsx("div",{children:c.jsx("h1",{className:"text-2xl",children:"Edit Profile"})})]})})}),c.jsx("main",{className:"max-w-3xl mx-auto px-4 py-8",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(xt,{children:[c.jsxs(At,{children:[c.jsx(sr,{children:"Profile Picture"}),c.jsx(pa,{children:"Upload a profile picture to personalize your account"})]}),c.jsx(wt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs(Mi,{className:"size-24",children:[c.jsx(dd,{src:_.picture_url||void 0,alt:_.name}),c.jsx(Bi,{className:"text-2xl",children:H(_.name)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(ke,{htmlFor:"picture-upload",className:"cursor-pointer inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:m?c.jsxs(c.Fragment,{children:[c.jsx($m,{className:"size-4 mr-2 animate-spin"}),"Uploading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(pk,{className:"size-4 mr-2"}),"Upload Image"]})}),c.jsx(Me,{id:"picture-upload",type:"file",accept:"image/*",className:"hidden",onChange:A,disabled:m}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG, or GIF. Max 5MB."})]})]})})]}),c.jsxs(xt,{children:[c.jsxs(At,{children:[c.jsx(sr,{children:"Basic Information"}),c.jsx(pa,{children:"Update your name and other details"})]}),c.jsxs(wt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"name",children:"Name"}),c.jsx(Me,{id:"name",placeholder:"Your name",value:_.name,onChange:V=>j(U=>({...U,name:V.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"email",children:"Email"}),c.jsx(Me,{id:"email",type:"email",value:e,disabled:!0,className:"bg-muted"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"user-type",children:"Account Type"}),c.jsx(Me,{id:"user-type",value:i==="soloist"?"Soloist":"Pianist",disabled:!0,className:"bg-muted"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Account type cannot be changed"})]}),i==="pianist"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"phone",children:"Phone Number (Optional)"}),c.jsx(Me,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:_.phone_number,onChange:V=>j(U=>({...U,phone_number:V.target.value}))}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Your phone number will be shared with soloists when they accept your bid"})]})]})]}),c.jsxs(xt,{children:[c.jsxs(At,{children:[c.jsx(sr,{children:"Bio"}),c.jsx(pa,{children:"Tell others about yourself, your experience, and what you're looking for"})]}),c.jsx(wt,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ke,{htmlFor:"bio",children:"About You"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[_.bio.length,"/500"]})]}),c.jsx(Wa,{id:"bio",placeholder:"I'm a professional violinist with 10 years of experience in chamber music...",value:_.bio,onChange:V=>j(U=>({...U,bio:V.target.value})),className:"min-h-32 resize-none",maxLength:500}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed on your profile and in the marketplace sidebar"})]})})]}),x&&c.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:c.jsx("p",{className:"text-sm text-red-600",children:x})}),S&&c.jsx("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:c.jsx("p",{className:"text-sm text-green-600",children:S})}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(Ye,{variant:"outline",onClick:a,disabled:f,children:"Cancel"}),c.jsx(Ye,{onClick:L,disabled:f,children:f?c.jsxs(c.Fragment,{children:[c.jsx($m,{className:"size-4 mr-2 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(lk,{className:"size-4 mr-2"}),"Save Changes"]})})]})]})})]})}function gA(){const[r,e]=y.useState("loading"),[n,i]=y.useState(null);y.useEffect(()=>{me.auth.getSession().then(({data:{session:f}})=>{if(f?.user){const h={id:f.user.id,email:f.user.email,name:f.user.user_metadata.name||"",userType:f.user.user_metadata.userType||"soloist",createdAt:f.user.created_at};i(h),e("marketplace")}else e("login")});const{data:{subscription:u}}=me.auth.onAuthStateChange((f,h)=>{if(h?.user){const m={id:h.user.id,email:h.user.email,name:h.user.user_metadata.name||"",userType:h.user.user_metadata.userType||"soloist",createdAt:h.user.created_at};i(m),e("marketplace")}else i(null),e("login")});return()=>u.unsubscribe()},[]);const a=u=>{i(u),e("marketplace")},l=async()=>{await me.auth.signOut(),i(null),e("login")};return r==="loading"?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-white to-red-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r==="login"?c.jsx(eE,{onAuthSuccess:a}):r==="marketplace"&&n?c.jsx(pA,{userId:n.id,userType:n.userType,userName:n.name,userEmail:n.email,onLogout:l,onEditProfile:()=>e("profile")}):r==="profile"&&n?c.jsx(mA,{userId:n.id,userEmail:n.email,userName:n.name,userType:n.userType,onBack:()=>e("marketplace")}):null}Fw.createRoot(document.getElementById("root")).render(c.jsx(gA,{}));
